{
  "version": 3,
  "sources": ["../node_modules/semver/internal/constants.js", "../node_modules/semver/internal/debug.js", "../node_modules/semver/internal/re.js", "../node_modules/semver/internal/parse-options.js", "../node_modules/semver/internal/identifiers.js", "../node_modules/semver/classes/semver.js", "../node_modules/semver/functions/parse.js", "../node_modules/semver/functions/valid.js", "../node_modules/semver/functions/clean.js", "../node_modules/semver/functions/inc.js", "../node_modules/semver/functions/diff.js", "../node_modules/semver/functions/major.js", "../node_modules/semver/functions/minor.js", "../node_modules/semver/functions/patch.js", "../node_modules/semver/functions/prerelease.js", "../node_modules/semver/functions/compare.js", "../node_modules/semver/functions/rcompare.js", "../node_modules/semver/functions/compare-loose.js", "../node_modules/semver/functions/compare-build.js", "../node_modules/semver/functions/sort.js", "../node_modules/semver/functions/rsort.js", "../node_modules/semver/functions/gt.js", "../node_modules/semver/functions/lt.js", "../node_modules/semver/functions/eq.js", "../node_modules/semver/functions/neq.js", "../node_modules/semver/functions/gte.js", "../node_modules/semver/functions/lte.js", "../node_modules/semver/functions/cmp.js", "../node_modules/semver/functions/coerce.js", "../node_modules/semver/internal/lrucache.js", "../node_modules/semver/classes/range.js", "../node_modules/semver/classes/comparator.js", "../node_modules/semver/functions/satisfies.js", "../node_modules/semver/ranges/to-comparators.js", "../node_modules/semver/ranges/max-satisfying.js", "../node_modules/semver/ranges/min-satisfying.js", "../node_modules/semver/ranges/min-version.js", "../node_modules/semver/ranges/valid.js", "../node_modules/semver/ranges/outside.js", "../node_modules/semver/ranges/gtr.js", "../node_modules/semver/ranges/ltr.js", "../node_modules/semver/ranges/intersects.js", "../node_modules/semver/ranges/simplify.js", "../node_modules/semver/ranges/subset.js", "../node_modules/semver/index.js", "../node_modules/isexe/windows.js", "../node_modules/isexe/mode.js", "../node_modules/isexe/index.js", "../node_modules/which/which.js", "../node_modules/path-key/index.js", "../node_modules/cross-spawn/lib/util/resolveCommand.js", "../node_modules/cross-spawn/lib/util/escape.js", "../node_modules/shebang-regex/index.js", "../node_modules/shebang-command/index.js", "../node_modules/cross-spawn/lib/util/readShebang.js", "../node_modules/cross-spawn/lib/parse.js", "../node_modules/cross-spawn/lib/enoent.js", "../node_modules/cross-spawn/index.js", "../node_modules/eventemitter3/index.js", "../node_modules/@xmldom/xmldom/lib/conventions.js", "../node_modules/@xmldom/xmldom/lib/dom.js", "../node_modules/@xmldom/xmldom/lib/entities.js", "../node_modules/@xmldom/xmldom/lib/sax.js", "../node_modules/@xmldom/xmldom/lib/dom-parser.js", "../node_modules/@xmldom/xmldom/lib/index.js", "../node_modules/plist/lib/parse.js", "../node_modules/base64-js/index.js", "../node_modules/xmlbuilder/lib/Utility.js", "../node_modules/xmlbuilder/lib/XMLDOMImplementation.js", "../node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js", "../node_modules/xmlbuilder/lib/XMLDOMStringList.js", "../node_modules/xmlbuilder/lib/XMLDOMConfiguration.js", "../node_modules/xmlbuilder/lib/NodeType.js", "../node_modules/xmlbuilder/lib/XMLAttribute.js", "../node_modules/xmlbuilder/lib/XMLNamedNodeMap.js", "../node_modules/xmlbuilder/lib/XMLElement.js", "../node_modules/xmlbuilder/lib/XMLCharacterData.js", "../node_modules/xmlbuilder/lib/XMLCData.js", "../node_modules/xmlbuilder/lib/XMLComment.js", "../node_modules/xmlbuilder/lib/XMLDeclaration.js", "../node_modules/xmlbuilder/lib/XMLDTDAttList.js", "../node_modules/xmlbuilder/lib/XMLDTDEntity.js", "../node_modules/xmlbuilder/lib/XMLDTDElement.js", "../node_modules/xmlbuilder/lib/XMLDTDNotation.js", "../node_modules/xmlbuilder/lib/XMLDocType.js", "../node_modules/xmlbuilder/lib/XMLRaw.js", "../node_modules/xmlbuilder/lib/XMLText.js", "../node_modules/xmlbuilder/lib/XMLProcessingInstruction.js", "../node_modules/xmlbuilder/lib/XMLDummy.js", "../node_modules/xmlbuilder/lib/XMLNodeList.js", "../node_modules/xmlbuilder/lib/DocumentPosition.js", "../node_modules/xmlbuilder/lib/XMLNode.js", "../node_modules/xmlbuilder/lib/XMLStringifier.js", "../node_modules/xmlbuilder/lib/WriterState.js", "../node_modules/xmlbuilder/lib/XMLWriterBase.js", "../node_modules/xmlbuilder/lib/XMLStringWriter.js", "../node_modules/xmlbuilder/lib/XMLDocument.js", "../node_modules/xmlbuilder/lib/XMLDocumentCB.js", "../node_modules/xmlbuilder/lib/XMLStreamWriter.js", "../node_modules/xmlbuilder/lib/index.js", "../node_modules/plist/lib/build.js", "../node_modules/plist/index.js", "../src/index.tsx", "../src/components/init_error.tsx", "../src/hooks/useSnippetsLab.ts", "../node_modules/is-plain-obj/index.js", "../node_modules/execa/lib/arguments/file-url.js", "../node_modules/execa/lib/methods/parameters.js", "../node_modules/execa/lib/methods/template.js", "../node_modules/execa/lib/utils/uint-array.js", "../node_modules/execa/lib/methods/main-sync.js", "../node_modules/execa/lib/arguments/specific.js", "../node_modules/execa/lib/utils/standard-stream.js", "../node_modules/execa/lib/verbose/values.js", "../node_modules/execa/lib/verbose/log.js", "../node_modules/execa/lib/arguments/escape.js", "../node_modules/is-unicode-supported/index.js", "../node_modules/figures/index.js", "../node_modules/yoctocolors/base.js", "../node_modules/execa/lib/verbose/default.js", "../node_modules/execa/lib/verbose/custom.js", "../node_modules/execa/lib/verbose/start.js", "../node_modules/execa/lib/verbose/info.js", "../node_modules/execa/lib/return/duration.js", "../node_modules/execa/lib/arguments/command.js", "../node_modules/execa/lib/arguments/options.js", "../node_modules/npm-run-path/index.js", "../node_modules/npm-run-path/node_modules/path-key/index.js", "../node_modules/unicorn-magic/node.js", "../node_modules/execa/lib/terminate/kill.js", "../node_modules/execa/lib/return/final-error.js", "../node_modules/execa/lib/terminate/signal.js", "../node_modules/human-signals/build/src/main.js", "../node_modules/human-signals/build/src/realtime.js", "../node_modules/human-signals/build/src/signals.js", "../node_modules/human-signals/build/src/core.js", "../node_modules/execa/lib/utils/abort-signal.js", "../node_modules/execa/lib/terminate/cancel.js", "../node_modules/execa/lib/ipc/graceful.js", "../node_modules/execa/lib/ipc/send.js", "../node_modules/execa/lib/ipc/validation.js", "../node_modules/execa/lib/utils/deferred.js", "../node_modules/execa/lib/arguments/fd-options.js", "../node_modules/execa/lib/ipc/strict.js", "../node_modules/execa/lib/utils/max-listeners.js", "../node_modules/execa/lib/ipc/forward.js", "../node_modules/execa/lib/ipc/incoming.js", "../node_modules/execa/lib/ipc/reference.js", "../node_modules/execa/lib/ipc/outgoing.js", "../node_modules/execa/lib/terminate/graceful.js", "../node_modules/execa/lib/terminate/timeout.js", "../node_modules/execa/lib/methods/node.js", "../node_modules/execa/lib/ipc/ipc-input.js", "../node_modules/execa/lib/arguments/encoding-option.js", "../node_modules/execa/lib/arguments/cwd.js", "../node_modules/execa/lib/return/message.js", "../node_modules/strip-final-newline/index.js", "../node_modules/get-stream/source/index.js", "../node_modules/is-stream/index.js", "../node_modules/@sec-ant/readable-stream/dist/ponyfill/asyncIterator.js", "../node_modules/get-stream/source/stream.js", "../node_modules/get-stream/source/contents.js", "../node_modules/get-stream/source/utils.js", "../node_modules/get-stream/source/array.js", "../node_modules/get-stream/source/array-buffer.js", "../node_modules/get-stream/source/string.js", "../node_modules/execa/lib/io/max-buffer.js", "../node_modules/execa/lib/return/result.js", "../node_modules/parse-ms/index.js", "../node_modules/pretty-ms/index.js", "../node_modules/execa/lib/verbose/error.js", "../node_modules/execa/lib/verbose/complete.js", "../node_modules/execa/lib/return/reject.js", "../node_modules/execa/lib/stdio/handle-sync.js", "../node_modules/execa/lib/stdio/type.js", "../node_modules/execa/lib/transform/object-mode.js", "../node_modules/execa/lib/transform/normalize.js", "../node_modules/execa/lib/stdio/direction.js", "../node_modules/execa/lib/ipc/array.js", "../node_modules/execa/lib/stdio/stdio-option.js", "../node_modules/execa/lib/stdio/native.js", "../node_modules/execa/lib/stdio/input-option.js", "../node_modules/execa/lib/stdio/duplicate.js", "../node_modules/execa/lib/stdio/handle.js", "../node_modules/execa/lib/io/strip-newline.js", "../node_modules/execa/lib/transform/generator.js", "../node_modules/execa/lib/transform/split.js", "../node_modules/execa/lib/transform/validate.js", "../node_modules/execa/lib/transform/encoding-transform.js", "../node_modules/execa/lib/transform/run-async.js", "../node_modules/execa/lib/transform/run-sync.js", "../node_modules/execa/lib/io/input-sync.js", "../node_modules/execa/lib/io/output-sync.js", "../node_modules/execa/lib/verbose/output.js", "../node_modules/execa/lib/resolve/all-sync.js", "../node_modules/execa/lib/resolve/exit-async.js", "../node_modules/execa/lib/resolve/exit-sync.js", "../node_modules/execa/lib/methods/main-async.js", "../node_modules/execa/lib/ipc/methods.js", "../node_modules/execa/lib/ipc/get-one.js", "../node_modules/execa/lib/ipc/get-each.js", "../node_modules/execa/lib/return/early-error.js", "../node_modules/execa/lib/stdio/handle-async.js", "../node_modules/@sindresorhus/merge-streams/index.js", "../node_modules/execa/lib/io/pipeline.js", "../node_modules/execa/lib/io/output-async.js", "../node_modules/execa/lib/terminate/cleanup.js", "../node_modules/signal-exit/src/signals.ts", "../node_modules/signal-exit/src/index.ts", "../node_modules/execa/lib/pipe/pipe-arguments.js", "../node_modules/execa/lib/pipe/throw.js", "../node_modules/execa/lib/pipe/sequence.js", "../node_modules/execa/lib/pipe/streaming.js", "../node_modules/execa/lib/pipe/abort.js", "../node_modules/execa/lib/pipe/setup.js", "../node_modules/execa/lib/io/contents.js", "../node_modules/execa/lib/io/iterate.js", "../node_modules/execa/lib/resolve/wait-stream.js", "../node_modules/execa/lib/resolve/stdio.js", "../node_modules/execa/lib/resolve/all-async.js", "../node_modules/execa/lib/resolve/wait-subprocess.js", "../node_modules/execa/lib/verbose/ipc.js", "../node_modules/execa/lib/ipc/buffer-messages.js", "../node_modules/execa/lib/convert/concurrent.js", "../node_modules/execa/lib/convert/readable.js", "../node_modules/execa/lib/convert/shared.js", "../node_modules/execa/lib/convert/writable.js", "../node_modules/execa/lib/convert/duplex.js", "../node_modules/execa/lib/convert/iterable.js", "../node_modules/execa/lib/convert/add.js", "../node_modules/execa/lib/methods/promise.js", "../node_modules/execa/lib/methods/bind.js", "../node_modules/execa/lib/methods/create.js", "../node_modules/execa/lib/methods/command.js", "../node_modules/execa/lib/methods/script.js", "../node_modules/execa/index.js", "../node_modules/eventemitter3/index.mjs", "../node_modules/p-timeout/index.js", "../node_modules/p-queue/dist/lower-bound.js", "../node_modules/p-queue/dist/priority-queue.js", "../node_modules/p-queue/dist/index.js", "../src/models/preferences.ts", "../src/search.tsx", "../src/components/list_item.tsx", "../src/components/actions.tsx", "../src/components/details.tsx", "../src/components/search_filter.tsx", "../src/models/fragment.ts", "../src/models/snippet.ts"],
  "sourcesContent": ["// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n", "const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n", "// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n", "const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n", "const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n", "const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n", "const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n", "const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n", "const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n", "const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n", "const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n", "const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n", "const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n", "const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n", "const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n", "const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n", "const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n", "const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n", "const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n", "class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n", "const SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n", "const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n", "const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n", "// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n", "const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n", "const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n", "// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n", "const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n", "// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n", "var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n", "const isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nconst path = require('path')\nconst COLON = isWindows ? ';' : ':'\nconst isexe = require('isexe')\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, opt) => {\n  const colon = opt.colon || COLON\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\n    : (\n      [\n        // windows always checks the cwd first\n        ...(isWindows ? [process.cwd()] : []),\n        ...(opt.path || process.env.PATH ||\n          /* istanbul ignore next: very unusual */ '').split(colon),\n      ]\n    )\n  const pathExtExe = isWindows\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\n    : ''\n  const pathExt = isWindows ? pathExtExe.split(colon) : ['']\n\n  if (isWindows) {\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  return {\n    pathEnv,\n    pathExt,\n    pathExtExe,\n  }\n}\n\nconst which = (cmd, opt, cb) => {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n  if (!opt)\n    opt = {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  const step = i => new Promise((resolve, reject) => {\n    if (i === pathEnv.length)\n      return opt.all && found.length ? resolve(found)\n        : reject(getNotFoundError(cmd))\n\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    resolve(subStep(p, i, 0))\n  })\n\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\n    if (ii === pathExt.length)\n      return resolve(step(i + 1))\n    const ext = pathExt[ii]\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\n      if (!er && is) {\n        if (opt.all)\n          found.push(p + ext)\n        else\n          return resolve(p + ext)\n      }\n      return resolve(subStep(p, i, ii + 1))\n    })\n  })\n\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\n}\n\nconst whichSync = (cmd, opt) => {\n  opt = opt || {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (let i = 0; i < pathEnv.length; i ++) {\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    for (let j = 0; j < pathExt.length; j ++) {\n      const cur = p + pathExt[j]\n      try {\n        const is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n", "'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n", "'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst getPathKey = require('path-key');\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const env = parsed.options.env || process.env;\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n    // Worker threads do not have process.chdir()\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (shouldSwitchCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: env[getPathKey({ env })],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        if (shouldSwitchCwd) {\n            process.chdir(cwd);\n        }\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n", "'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n", "'use strict';\nmodule.exports = /^#!(.*)/;\n", "'use strict';\nconst shebangRegex = require('shebang-regex');\n\nmodule.exports = (string = '') => {\n\tconst match = string.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\n\tconst binary = path.split('/').pop();\n\n\tif (binary === 'env') {\n\t\treturn argument;\n\t}\n\n\treturn argument ? `${binary} ${argument}` : binary;\n};\n", "'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    const buffer = Buffer.alloc(size);\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n", "'use strict';\n\nconst path = require('path');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parsed : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n", "'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed, 'spawn');\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n", "'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "'use strict'\n\n/**\n * Ponyfill for `Array.prototype.find` which is only available in ES6 runtimes.\n *\n * Works with anything that has a `length` property and index access properties, including NodeList.\n *\n * @template {unknown} T\n * @param {Array<T> | ({length:number, [number]: T})} list\n * @param {function (item: T, index: number, list:Array<T> | ({length:number, [number]: T})):boolean} predicate\n * @param {Partial<Pick<ArrayConstructor['prototype'], 'find'>>?} ac `Array.prototype` by default,\n * \t\t\t\tallows injecting a custom implementation in tests\n * @returns {T | undefined}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * @see https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.find\n */\nfunction find(list, predicate, ac) {\n\tif (ac === undefined) {\n\t\tac = Array.prototype;\n\t}\n\tif (list && typeof ac.find === 'function') {\n\t\treturn ac.find.call(list, predicate);\n\t}\n\tfor (var i = 0; i < list.length; i++) {\n\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\tvar item = list[i];\n\t\t\tif (predicate.call(undefined, item, i, list)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.find = find;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n", "var conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn index >= 0 && index < this.length ? this[index] : null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif (list._inc !== inc) {\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tif (!list.$$length || ls.length < list.$$length) {\n\t\t\tfor (var i = ls.length; i in list; i++) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\t\t\tdelete list[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i] || null;\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\tnewChild.ownerDocument = this;\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\tnewChild.ownerDocument = this;\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.nodeName = node.target = target;\n\t\tnode.nodeValue = node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\uFF1A\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n", "'use strict';\n\nvar freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({\n\tamp: '&',\n\tapos: \"'\",\n\tgt: '>',\n\tlt: '<',\n\tquot: '\"',\n});\n\n/**\n * A map of all entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://html.spec.whatwg.org/entities.json JSON\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n\tAacute: '\\u00C1',\n\taacute: '\\u00E1',\n\tAbreve: '\\u0102',\n\tabreve: '\\u0103',\n\tac: '\\u223E',\n\tacd: '\\u223F',\n\tacE: '\\u223E\\u0333',\n\tAcirc: '\\u00C2',\n\tacirc: '\\u00E2',\n\tacute: '\\u00B4',\n\tAcy: '\\u0410',\n\tacy: '\\u0430',\n\tAElig: '\\u00C6',\n\taelig: '\\u00E6',\n\taf: '\\u2061',\n\tAfr: '\\uD835\\uDD04',\n\tafr: '\\uD835\\uDD1E',\n\tAgrave: '\\u00C0',\n\tagrave: '\\u00E0',\n\talefsym: '\\u2135',\n\taleph: '\\u2135',\n\tAlpha: '\\u0391',\n\talpha: '\\u03B1',\n\tAmacr: '\\u0100',\n\tamacr: '\\u0101',\n\tamalg: '\\u2A3F',\n\tAMP: '\\u0026',\n\tamp: '\\u0026',\n\tAnd: '\\u2A53',\n\tand: '\\u2227',\n\tandand: '\\u2A55',\n\tandd: '\\u2A5C',\n\tandslope: '\\u2A58',\n\tandv: '\\u2A5A',\n\tang: '\\u2220',\n\tange: '\\u29A4',\n\tangle: '\\u2220',\n\tangmsd: '\\u2221',\n\tangmsdaa: '\\u29A8',\n\tangmsdab: '\\u29A9',\n\tangmsdac: '\\u29AA',\n\tangmsdad: '\\u29AB',\n\tangmsdae: '\\u29AC',\n\tangmsdaf: '\\u29AD',\n\tangmsdag: '\\u29AE',\n\tangmsdah: '\\u29AF',\n\tangrt: '\\u221F',\n\tangrtvb: '\\u22BE',\n\tangrtvbd: '\\u299D',\n\tangsph: '\\u2222',\n\tangst: '\\u00C5',\n\tangzarr: '\\u237C',\n\tAogon: '\\u0104',\n\taogon: '\\u0105',\n\tAopf: '\\uD835\\uDD38',\n\taopf: '\\uD835\\uDD52',\n\tap: '\\u2248',\n\tapacir: '\\u2A6F',\n\tapE: '\\u2A70',\n\tape: '\\u224A',\n\tapid: '\\u224B',\n\tapos: '\\u0027',\n\tApplyFunction: '\\u2061',\n\tapprox: '\\u2248',\n\tapproxeq: '\\u224A',\n\tAring: '\\u00C5',\n\taring: '\\u00E5',\n\tAscr: '\\uD835\\uDC9C',\n\tascr: '\\uD835\\uDCB6',\n\tAssign: '\\u2254',\n\tast: '\\u002A',\n\tasymp: '\\u2248',\n\tasympeq: '\\u224D',\n\tAtilde: '\\u00C3',\n\tatilde: '\\u00E3',\n\tAuml: '\\u00C4',\n\tauml: '\\u00E4',\n\tawconint: '\\u2233',\n\tawint: '\\u2A11',\n\tbackcong: '\\u224C',\n\tbackepsilon: '\\u03F6',\n\tbackprime: '\\u2035',\n\tbacksim: '\\u223D',\n\tbacksimeq: '\\u22CD',\n\tBackslash: '\\u2216',\n\tBarv: '\\u2AE7',\n\tbarvee: '\\u22BD',\n\tBarwed: '\\u2306',\n\tbarwed: '\\u2305',\n\tbarwedge: '\\u2305',\n\tbbrk: '\\u23B5',\n\tbbrktbrk: '\\u23B6',\n\tbcong: '\\u224C',\n\tBcy: '\\u0411',\n\tbcy: '\\u0431',\n\tbdquo: '\\u201E',\n\tbecaus: '\\u2235',\n\tBecause: '\\u2235',\n\tbecause: '\\u2235',\n\tbemptyv: '\\u29B0',\n\tbepsi: '\\u03F6',\n\tbernou: '\\u212C',\n\tBernoullis: '\\u212C',\n\tBeta: '\\u0392',\n\tbeta: '\\u03B2',\n\tbeth: '\\u2136',\n\tbetween: '\\u226C',\n\tBfr: '\\uD835\\uDD05',\n\tbfr: '\\uD835\\uDD1F',\n\tbigcap: '\\u22C2',\n\tbigcirc: '\\u25EF',\n\tbigcup: '\\u22C3',\n\tbigodot: '\\u2A00',\n\tbigoplus: '\\u2A01',\n\tbigotimes: '\\u2A02',\n\tbigsqcup: '\\u2A06',\n\tbigstar: '\\u2605',\n\tbigtriangledown: '\\u25BD',\n\tbigtriangleup: '\\u25B3',\n\tbiguplus: '\\u2A04',\n\tbigvee: '\\u22C1',\n\tbigwedge: '\\u22C0',\n\tbkarow: '\\u290D',\n\tblacklozenge: '\\u29EB',\n\tblacksquare: '\\u25AA',\n\tblacktriangle: '\\u25B4',\n\tblacktriangledown: '\\u25BE',\n\tblacktriangleleft: '\\u25C2',\n\tblacktriangleright: '\\u25B8',\n\tblank: '\\u2423',\n\tblk12: '\\u2592',\n\tblk14: '\\u2591',\n\tblk34: '\\u2593',\n\tblock: '\\u2588',\n\tbne: '\\u003D\\u20E5',\n\tbnequiv: '\\u2261\\u20E5',\n\tbNot: '\\u2AED',\n\tbnot: '\\u2310',\n\tBopf: '\\uD835\\uDD39',\n\tbopf: '\\uD835\\uDD53',\n\tbot: '\\u22A5',\n\tbottom: '\\u22A5',\n\tbowtie: '\\u22C8',\n\tboxbox: '\\u29C9',\n\tboxDL: '\\u2557',\n\tboxDl: '\\u2556',\n\tboxdL: '\\u2555',\n\tboxdl: '\\u2510',\n\tboxDR: '\\u2554',\n\tboxDr: '\\u2553',\n\tboxdR: '\\u2552',\n\tboxdr: '\\u250C',\n\tboxH: '\\u2550',\n\tboxh: '\\u2500',\n\tboxHD: '\\u2566',\n\tboxHd: '\\u2564',\n\tboxhD: '\\u2565',\n\tboxhd: '\\u252C',\n\tboxHU: '\\u2569',\n\tboxHu: '\\u2567',\n\tboxhU: '\\u2568',\n\tboxhu: '\\u2534',\n\tboxminus: '\\u229F',\n\tboxplus: '\\u229E',\n\tboxtimes: '\\u22A0',\n\tboxUL: '\\u255D',\n\tboxUl: '\\u255C',\n\tboxuL: '\\u255B',\n\tboxul: '\\u2518',\n\tboxUR: '\\u255A',\n\tboxUr: '\\u2559',\n\tboxuR: '\\u2558',\n\tboxur: '\\u2514',\n\tboxV: '\\u2551',\n\tboxv: '\\u2502',\n\tboxVH: '\\u256C',\n\tboxVh: '\\u256B',\n\tboxvH: '\\u256A',\n\tboxvh: '\\u253C',\n\tboxVL: '\\u2563',\n\tboxVl: '\\u2562',\n\tboxvL: '\\u2561',\n\tboxvl: '\\u2524',\n\tboxVR: '\\u2560',\n\tboxVr: '\\u255F',\n\tboxvR: '\\u255E',\n\tboxvr: '\\u251C',\n\tbprime: '\\u2035',\n\tBreve: '\\u02D8',\n\tbreve: '\\u02D8',\n\tbrvbar: '\\u00A6',\n\tBscr: '\\u212C',\n\tbscr: '\\uD835\\uDCB7',\n\tbsemi: '\\u204F',\n\tbsim: '\\u223D',\n\tbsime: '\\u22CD',\n\tbsol: '\\u005C',\n\tbsolb: '\\u29C5',\n\tbsolhsub: '\\u27C8',\n\tbull: '\\u2022',\n\tbullet: '\\u2022',\n\tbump: '\\u224E',\n\tbumpE: '\\u2AAE',\n\tbumpe: '\\u224F',\n\tBumpeq: '\\u224E',\n\tbumpeq: '\\u224F',\n\tCacute: '\\u0106',\n\tcacute: '\\u0107',\n\tCap: '\\u22D2',\n\tcap: '\\u2229',\n\tcapand: '\\u2A44',\n\tcapbrcup: '\\u2A49',\n\tcapcap: '\\u2A4B',\n\tcapcup: '\\u2A47',\n\tcapdot: '\\u2A40',\n\tCapitalDifferentialD: '\\u2145',\n\tcaps: '\\u2229\\uFE00',\n\tcaret: '\\u2041',\n\tcaron: '\\u02C7',\n\tCayleys: '\\u212D',\n\tccaps: '\\u2A4D',\n\tCcaron: '\\u010C',\n\tccaron: '\\u010D',\n\tCcedil: '\\u00C7',\n\tccedil: '\\u00E7',\n\tCcirc: '\\u0108',\n\tccirc: '\\u0109',\n\tCconint: '\\u2230',\n\tccups: '\\u2A4C',\n\tccupssm: '\\u2A50',\n\tCdot: '\\u010A',\n\tcdot: '\\u010B',\n\tcedil: '\\u00B8',\n\tCedilla: '\\u00B8',\n\tcemptyv: '\\u29B2',\n\tcent: '\\u00A2',\n\tCenterDot: '\\u00B7',\n\tcenterdot: '\\u00B7',\n\tCfr: '\\u212D',\n\tcfr: '\\uD835\\uDD20',\n\tCHcy: '\\u0427',\n\tchcy: '\\u0447',\n\tcheck: '\\u2713',\n\tcheckmark: '\\u2713',\n\tChi: '\\u03A7',\n\tchi: '\\u03C7',\n\tcir: '\\u25CB',\n\tcirc: '\\u02C6',\n\tcirceq: '\\u2257',\n\tcirclearrowleft: '\\u21BA',\n\tcirclearrowright: '\\u21BB',\n\tcircledast: '\\u229B',\n\tcircledcirc: '\\u229A',\n\tcircleddash: '\\u229D',\n\tCircleDot: '\\u2299',\n\tcircledR: '\\u00AE',\n\tcircledS: '\\u24C8',\n\tCircleMinus: '\\u2296',\n\tCirclePlus: '\\u2295',\n\tCircleTimes: '\\u2297',\n\tcirE: '\\u29C3',\n\tcire: '\\u2257',\n\tcirfnint: '\\u2A10',\n\tcirmid: '\\u2AEF',\n\tcirscir: '\\u29C2',\n\tClockwiseContourIntegral: '\\u2232',\n\tCloseCurlyDoubleQuote: '\\u201D',\n\tCloseCurlyQuote: '\\u2019',\n\tclubs: '\\u2663',\n\tclubsuit: '\\u2663',\n\tColon: '\\u2237',\n\tcolon: '\\u003A',\n\tColone: '\\u2A74',\n\tcolone: '\\u2254',\n\tcoloneq: '\\u2254',\n\tcomma: '\\u002C',\n\tcommat: '\\u0040',\n\tcomp: '\\u2201',\n\tcompfn: '\\u2218',\n\tcomplement: '\\u2201',\n\tcomplexes: '\\u2102',\n\tcong: '\\u2245',\n\tcongdot: '\\u2A6D',\n\tCongruent: '\\u2261',\n\tConint: '\\u222F',\n\tconint: '\\u222E',\n\tContourIntegral: '\\u222E',\n\tCopf: '\\u2102',\n\tcopf: '\\uD835\\uDD54',\n\tcoprod: '\\u2210',\n\tCoproduct: '\\u2210',\n\tCOPY: '\\u00A9',\n\tcopy: '\\u00A9',\n\tcopysr: '\\u2117',\n\tCounterClockwiseContourIntegral: '\\u2233',\n\tcrarr: '\\u21B5',\n\tCross: '\\u2A2F',\n\tcross: '\\u2717',\n\tCscr: '\\uD835\\uDC9E',\n\tcscr: '\\uD835\\uDCB8',\n\tcsub: '\\u2ACF',\n\tcsube: '\\u2AD1',\n\tcsup: '\\u2AD0',\n\tcsupe: '\\u2AD2',\n\tctdot: '\\u22EF',\n\tcudarrl: '\\u2938',\n\tcudarrr: '\\u2935',\n\tcuepr: '\\u22DE',\n\tcuesc: '\\u22DF',\n\tcularr: '\\u21B6',\n\tcularrp: '\\u293D',\n\tCup: '\\u22D3',\n\tcup: '\\u222A',\n\tcupbrcap: '\\u2A48',\n\tCupCap: '\\u224D',\n\tcupcap: '\\u2A46',\n\tcupcup: '\\u2A4A',\n\tcupdot: '\\u228D',\n\tcupor: '\\u2A45',\n\tcups: '\\u222A\\uFE00',\n\tcurarr: '\\u21B7',\n\tcurarrm: '\\u293C',\n\tcurlyeqprec: '\\u22DE',\n\tcurlyeqsucc: '\\u22DF',\n\tcurlyvee: '\\u22CE',\n\tcurlywedge: '\\u22CF',\n\tcurren: '\\u00A4',\n\tcurvearrowleft: '\\u21B6',\n\tcurvearrowright: '\\u21B7',\n\tcuvee: '\\u22CE',\n\tcuwed: '\\u22CF',\n\tcwconint: '\\u2232',\n\tcwint: '\\u2231',\n\tcylcty: '\\u232D',\n\tDagger: '\\u2021',\n\tdagger: '\\u2020',\n\tdaleth: '\\u2138',\n\tDarr: '\\u21A1',\n\tdArr: '\\u21D3',\n\tdarr: '\\u2193',\n\tdash: '\\u2010',\n\tDashv: '\\u2AE4',\n\tdashv: '\\u22A3',\n\tdbkarow: '\\u290F',\n\tdblac: '\\u02DD',\n\tDcaron: '\\u010E',\n\tdcaron: '\\u010F',\n\tDcy: '\\u0414',\n\tdcy: '\\u0434',\n\tDD: '\\u2145',\n\tdd: '\\u2146',\n\tddagger: '\\u2021',\n\tddarr: '\\u21CA',\n\tDDotrahd: '\\u2911',\n\tddotseq: '\\u2A77',\n\tdeg: '\\u00B0',\n\tDel: '\\u2207',\n\tDelta: '\\u0394',\n\tdelta: '\\u03B4',\n\tdemptyv: '\\u29B1',\n\tdfisht: '\\u297F',\n\tDfr: '\\uD835\\uDD07',\n\tdfr: '\\uD835\\uDD21',\n\tdHar: '\\u2965',\n\tdharl: '\\u21C3',\n\tdharr: '\\u21C2',\n\tDiacriticalAcute: '\\u00B4',\n\tDiacriticalDot: '\\u02D9',\n\tDiacriticalDoubleAcute: '\\u02DD',\n\tDiacriticalGrave: '\\u0060',\n\tDiacriticalTilde: '\\u02DC',\n\tdiam: '\\u22C4',\n\tDiamond: '\\u22C4',\n\tdiamond: '\\u22C4',\n\tdiamondsuit: '\\u2666',\n\tdiams: '\\u2666',\n\tdie: '\\u00A8',\n\tDifferentialD: '\\u2146',\n\tdigamma: '\\u03DD',\n\tdisin: '\\u22F2',\n\tdiv: '\\u00F7',\n\tdivide: '\\u00F7',\n\tdivideontimes: '\\u22C7',\n\tdivonx: '\\u22C7',\n\tDJcy: '\\u0402',\n\tdjcy: '\\u0452',\n\tdlcorn: '\\u231E',\n\tdlcrop: '\\u230D',\n\tdollar: '\\u0024',\n\tDopf: '\\uD835\\uDD3B',\n\tdopf: '\\uD835\\uDD55',\n\tDot: '\\u00A8',\n\tdot: '\\u02D9',\n\tDotDot: '\\u20DC',\n\tdoteq: '\\u2250',\n\tdoteqdot: '\\u2251',\n\tDotEqual: '\\u2250',\n\tdotminus: '\\u2238',\n\tdotplus: '\\u2214',\n\tdotsquare: '\\u22A1',\n\tdoublebarwedge: '\\u2306',\n\tDoubleContourIntegral: '\\u222F',\n\tDoubleDot: '\\u00A8',\n\tDoubleDownArrow: '\\u21D3',\n\tDoubleLeftArrow: '\\u21D0',\n\tDoubleLeftRightArrow: '\\u21D4',\n\tDoubleLeftTee: '\\u2AE4',\n\tDoubleLongLeftArrow: '\\u27F8',\n\tDoubleLongLeftRightArrow: '\\u27FA',\n\tDoubleLongRightArrow: '\\u27F9',\n\tDoubleRightArrow: '\\u21D2',\n\tDoubleRightTee: '\\u22A8',\n\tDoubleUpArrow: '\\u21D1',\n\tDoubleUpDownArrow: '\\u21D5',\n\tDoubleVerticalBar: '\\u2225',\n\tDownArrow: '\\u2193',\n\tDownarrow: '\\u21D3',\n\tdownarrow: '\\u2193',\n\tDownArrowBar: '\\u2913',\n\tDownArrowUpArrow: '\\u21F5',\n\tDownBreve: '\\u0311',\n\tdowndownarrows: '\\u21CA',\n\tdownharpoonleft: '\\u21C3',\n\tdownharpoonright: '\\u21C2',\n\tDownLeftRightVector: '\\u2950',\n\tDownLeftTeeVector: '\\u295E',\n\tDownLeftVector: '\\u21BD',\n\tDownLeftVectorBar: '\\u2956',\n\tDownRightTeeVector: '\\u295F',\n\tDownRightVector: '\\u21C1',\n\tDownRightVectorBar: '\\u2957',\n\tDownTee: '\\u22A4',\n\tDownTeeArrow: '\\u21A7',\n\tdrbkarow: '\\u2910',\n\tdrcorn: '\\u231F',\n\tdrcrop: '\\u230C',\n\tDscr: '\\uD835\\uDC9F',\n\tdscr: '\\uD835\\uDCB9',\n\tDScy: '\\u0405',\n\tdscy: '\\u0455',\n\tdsol: '\\u29F6',\n\tDstrok: '\\u0110',\n\tdstrok: '\\u0111',\n\tdtdot: '\\u22F1',\n\tdtri: '\\u25BF',\n\tdtrif: '\\u25BE',\n\tduarr: '\\u21F5',\n\tduhar: '\\u296F',\n\tdwangle: '\\u29A6',\n\tDZcy: '\\u040F',\n\tdzcy: '\\u045F',\n\tdzigrarr: '\\u27FF',\n\tEacute: '\\u00C9',\n\teacute: '\\u00E9',\n\teaster: '\\u2A6E',\n\tEcaron: '\\u011A',\n\tecaron: '\\u011B',\n\tecir: '\\u2256',\n\tEcirc: '\\u00CA',\n\tecirc: '\\u00EA',\n\tecolon: '\\u2255',\n\tEcy: '\\u042D',\n\tecy: '\\u044D',\n\teDDot: '\\u2A77',\n\tEdot: '\\u0116',\n\teDot: '\\u2251',\n\tedot: '\\u0117',\n\tee: '\\u2147',\n\tefDot: '\\u2252',\n\tEfr: '\\uD835\\uDD08',\n\tefr: '\\uD835\\uDD22',\n\teg: '\\u2A9A',\n\tEgrave: '\\u00C8',\n\tegrave: '\\u00E8',\n\tegs: '\\u2A96',\n\tegsdot: '\\u2A98',\n\tel: '\\u2A99',\n\tElement: '\\u2208',\n\telinters: '\\u23E7',\n\tell: '\\u2113',\n\tels: '\\u2A95',\n\telsdot: '\\u2A97',\n\tEmacr: '\\u0112',\n\temacr: '\\u0113',\n\tempty: '\\u2205',\n\temptyset: '\\u2205',\n\tEmptySmallSquare: '\\u25FB',\n\temptyv: '\\u2205',\n\tEmptyVerySmallSquare: '\\u25AB',\n\temsp: '\\u2003',\n\temsp13: '\\u2004',\n\temsp14: '\\u2005',\n\tENG: '\\u014A',\n\teng: '\\u014B',\n\tensp: '\\u2002',\n\tEogon: '\\u0118',\n\teogon: '\\u0119',\n\tEopf: '\\uD835\\uDD3C',\n\teopf: '\\uD835\\uDD56',\n\tepar: '\\u22D5',\n\teparsl: '\\u29E3',\n\teplus: '\\u2A71',\n\tepsi: '\\u03B5',\n\tEpsilon: '\\u0395',\n\tepsilon: '\\u03B5',\n\tepsiv: '\\u03F5',\n\teqcirc: '\\u2256',\n\teqcolon: '\\u2255',\n\teqsim: '\\u2242',\n\teqslantgtr: '\\u2A96',\n\teqslantless: '\\u2A95',\n\tEqual: '\\u2A75',\n\tequals: '\\u003D',\n\tEqualTilde: '\\u2242',\n\tequest: '\\u225F',\n\tEquilibrium: '\\u21CC',\n\tequiv: '\\u2261',\n\tequivDD: '\\u2A78',\n\teqvparsl: '\\u29E5',\n\terarr: '\\u2971',\n\terDot: '\\u2253',\n\tEscr: '\\u2130',\n\tescr: '\\u212F',\n\tesdot: '\\u2250',\n\tEsim: '\\u2A73',\n\tesim: '\\u2242',\n\tEta: '\\u0397',\n\teta: '\\u03B7',\n\tETH: '\\u00D0',\n\teth: '\\u00F0',\n\tEuml: '\\u00CB',\n\teuml: '\\u00EB',\n\teuro: '\\u20AC',\n\texcl: '\\u0021',\n\texist: '\\u2203',\n\tExists: '\\u2203',\n\texpectation: '\\u2130',\n\tExponentialE: '\\u2147',\n\texponentiale: '\\u2147',\n\tfallingdotseq: '\\u2252',\n\tFcy: '\\u0424',\n\tfcy: '\\u0444',\n\tfemale: '\\u2640',\n\tffilig: '\\uFB03',\n\tfflig: '\\uFB00',\n\tffllig: '\\uFB04',\n\tFfr: '\\uD835\\uDD09',\n\tffr: '\\uD835\\uDD23',\n\tfilig: '\\uFB01',\n\tFilledSmallSquare: '\\u25FC',\n\tFilledVerySmallSquare: '\\u25AA',\n\tfjlig: '\\u0066\\u006A',\n\tflat: '\\u266D',\n\tfllig: '\\uFB02',\n\tfltns: '\\u25B1',\n\tfnof: '\\u0192',\n\tFopf: '\\uD835\\uDD3D',\n\tfopf: '\\uD835\\uDD57',\n\tForAll: '\\u2200',\n\tforall: '\\u2200',\n\tfork: '\\u22D4',\n\tforkv: '\\u2AD9',\n\tFouriertrf: '\\u2131',\n\tfpartint: '\\u2A0D',\n\tfrac12: '\\u00BD',\n\tfrac13: '\\u2153',\n\tfrac14: '\\u00BC',\n\tfrac15: '\\u2155',\n\tfrac16: '\\u2159',\n\tfrac18: '\\u215B',\n\tfrac23: '\\u2154',\n\tfrac25: '\\u2156',\n\tfrac34: '\\u00BE',\n\tfrac35: '\\u2157',\n\tfrac38: '\\u215C',\n\tfrac45: '\\u2158',\n\tfrac56: '\\u215A',\n\tfrac58: '\\u215D',\n\tfrac78: '\\u215E',\n\tfrasl: '\\u2044',\n\tfrown: '\\u2322',\n\tFscr: '\\u2131',\n\tfscr: '\\uD835\\uDCBB',\n\tgacute: '\\u01F5',\n\tGamma: '\\u0393',\n\tgamma: '\\u03B3',\n\tGammad: '\\u03DC',\n\tgammad: '\\u03DD',\n\tgap: '\\u2A86',\n\tGbreve: '\\u011E',\n\tgbreve: '\\u011F',\n\tGcedil: '\\u0122',\n\tGcirc: '\\u011C',\n\tgcirc: '\\u011D',\n\tGcy: '\\u0413',\n\tgcy: '\\u0433',\n\tGdot: '\\u0120',\n\tgdot: '\\u0121',\n\tgE: '\\u2267',\n\tge: '\\u2265',\n\tgEl: '\\u2A8C',\n\tgel: '\\u22DB',\n\tgeq: '\\u2265',\n\tgeqq: '\\u2267',\n\tgeqslant: '\\u2A7E',\n\tges: '\\u2A7E',\n\tgescc: '\\u2AA9',\n\tgesdot: '\\u2A80',\n\tgesdoto: '\\u2A82',\n\tgesdotol: '\\u2A84',\n\tgesl: '\\u22DB\\uFE00',\n\tgesles: '\\u2A94',\n\tGfr: '\\uD835\\uDD0A',\n\tgfr: '\\uD835\\uDD24',\n\tGg: '\\u22D9',\n\tgg: '\\u226B',\n\tggg: '\\u22D9',\n\tgimel: '\\u2137',\n\tGJcy: '\\u0403',\n\tgjcy: '\\u0453',\n\tgl: '\\u2277',\n\tgla: '\\u2AA5',\n\tglE: '\\u2A92',\n\tglj: '\\u2AA4',\n\tgnap: '\\u2A8A',\n\tgnapprox: '\\u2A8A',\n\tgnE: '\\u2269',\n\tgne: '\\u2A88',\n\tgneq: '\\u2A88',\n\tgneqq: '\\u2269',\n\tgnsim: '\\u22E7',\n\tGopf: '\\uD835\\uDD3E',\n\tgopf: '\\uD835\\uDD58',\n\tgrave: '\\u0060',\n\tGreaterEqual: '\\u2265',\n\tGreaterEqualLess: '\\u22DB',\n\tGreaterFullEqual: '\\u2267',\n\tGreaterGreater: '\\u2AA2',\n\tGreaterLess: '\\u2277',\n\tGreaterSlantEqual: '\\u2A7E',\n\tGreaterTilde: '\\u2273',\n\tGscr: '\\uD835\\uDCA2',\n\tgscr: '\\u210A',\n\tgsim: '\\u2273',\n\tgsime: '\\u2A8E',\n\tgsiml: '\\u2A90',\n\tGt: '\\u226B',\n\tGT: '\\u003E',\n\tgt: '\\u003E',\n\tgtcc: '\\u2AA7',\n\tgtcir: '\\u2A7A',\n\tgtdot: '\\u22D7',\n\tgtlPar: '\\u2995',\n\tgtquest: '\\u2A7C',\n\tgtrapprox: '\\u2A86',\n\tgtrarr: '\\u2978',\n\tgtrdot: '\\u22D7',\n\tgtreqless: '\\u22DB',\n\tgtreqqless: '\\u2A8C',\n\tgtrless: '\\u2277',\n\tgtrsim: '\\u2273',\n\tgvertneqq: '\\u2269\\uFE00',\n\tgvnE: '\\u2269\\uFE00',\n\tHacek: '\\u02C7',\n\thairsp: '\\u200A',\n\thalf: '\\u00BD',\n\thamilt: '\\u210B',\n\tHARDcy: '\\u042A',\n\thardcy: '\\u044A',\n\thArr: '\\u21D4',\n\tharr: '\\u2194',\n\tharrcir: '\\u2948',\n\tharrw: '\\u21AD',\n\tHat: '\\u005E',\n\thbar: '\\u210F',\n\tHcirc: '\\u0124',\n\thcirc: '\\u0125',\n\thearts: '\\u2665',\n\theartsuit: '\\u2665',\n\thellip: '\\u2026',\n\thercon: '\\u22B9',\n\tHfr: '\\u210C',\n\thfr: '\\uD835\\uDD25',\n\tHilbertSpace: '\\u210B',\n\thksearow: '\\u2925',\n\thkswarow: '\\u2926',\n\thoarr: '\\u21FF',\n\thomtht: '\\u223B',\n\thookleftarrow: '\\u21A9',\n\thookrightarrow: '\\u21AA',\n\tHopf: '\\u210D',\n\thopf: '\\uD835\\uDD59',\n\thorbar: '\\u2015',\n\tHorizontalLine: '\\u2500',\n\tHscr: '\\u210B',\n\thscr: '\\uD835\\uDCBD',\n\thslash: '\\u210F',\n\tHstrok: '\\u0126',\n\thstrok: '\\u0127',\n\tHumpDownHump: '\\u224E',\n\tHumpEqual: '\\u224F',\n\thybull: '\\u2043',\n\thyphen: '\\u2010',\n\tIacute: '\\u00CD',\n\tiacute: '\\u00ED',\n\tic: '\\u2063',\n\tIcirc: '\\u00CE',\n\ticirc: '\\u00EE',\n\tIcy: '\\u0418',\n\ticy: '\\u0438',\n\tIdot: '\\u0130',\n\tIEcy: '\\u0415',\n\tiecy: '\\u0435',\n\tiexcl: '\\u00A1',\n\tiff: '\\u21D4',\n\tIfr: '\\u2111',\n\tifr: '\\uD835\\uDD26',\n\tIgrave: '\\u00CC',\n\tigrave: '\\u00EC',\n\tii: '\\u2148',\n\tiiiint: '\\u2A0C',\n\tiiint: '\\u222D',\n\tiinfin: '\\u29DC',\n\tiiota: '\\u2129',\n\tIJlig: '\\u0132',\n\tijlig: '\\u0133',\n\tIm: '\\u2111',\n\tImacr: '\\u012A',\n\timacr: '\\u012B',\n\timage: '\\u2111',\n\tImaginaryI: '\\u2148',\n\timagline: '\\u2110',\n\timagpart: '\\u2111',\n\timath: '\\u0131',\n\timof: '\\u22B7',\n\timped: '\\u01B5',\n\tImplies: '\\u21D2',\n\tin: '\\u2208',\n\tincare: '\\u2105',\n\tinfin: '\\u221E',\n\tinfintie: '\\u29DD',\n\tinodot: '\\u0131',\n\tInt: '\\u222C',\n\tint: '\\u222B',\n\tintcal: '\\u22BA',\n\tintegers: '\\u2124',\n\tIntegral: '\\u222B',\n\tintercal: '\\u22BA',\n\tIntersection: '\\u22C2',\n\tintlarhk: '\\u2A17',\n\tintprod: '\\u2A3C',\n\tInvisibleComma: '\\u2063',\n\tInvisibleTimes: '\\u2062',\n\tIOcy: '\\u0401',\n\tiocy: '\\u0451',\n\tIogon: '\\u012E',\n\tiogon: '\\u012F',\n\tIopf: '\\uD835\\uDD40',\n\tiopf: '\\uD835\\uDD5A',\n\tIota: '\\u0399',\n\tiota: '\\u03B9',\n\tiprod: '\\u2A3C',\n\tiquest: '\\u00BF',\n\tIscr: '\\u2110',\n\tiscr: '\\uD835\\uDCBE',\n\tisin: '\\u2208',\n\tisindot: '\\u22F5',\n\tisinE: '\\u22F9',\n\tisins: '\\u22F4',\n\tisinsv: '\\u22F3',\n\tisinv: '\\u2208',\n\tit: '\\u2062',\n\tItilde: '\\u0128',\n\titilde: '\\u0129',\n\tIukcy: '\\u0406',\n\tiukcy: '\\u0456',\n\tIuml: '\\u00CF',\n\tiuml: '\\u00EF',\n\tJcirc: '\\u0134',\n\tjcirc: '\\u0135',\n\tJcy: '\\u0419',\n\tjcy: '\\u0439',\n\tJfr: '\\uD835\\uDD0D',\n\tjfr: '\\uD835\\uDD27',\n\tjmath: '\\u0237',\n\tJopf: '\\uD835\\uDD41',\n\tjopf: '\\uD835\\uDD5B',\n\tJscr: '\\uD835\\uDCA5',\n\tjscr: '\\uD835\\uDCBF',\n\tJsercy: '\\u0408',\n\tjsercy: '\\u0458',\n\tJukcy: '\\u0404',\n\tjukcy: '\\u0454',\n\tKappa: '\\u039A',\n\tkappa: '\\u03BA',\n\tkappav: '\\u03F0',\n\tKcedil: '\\u0136',\n\tkcedil: '\\u0137',\n\tKcy: '\\u041A',\n\tkcy: '\\u043A',\n\tKfr: '\\uD835\\uDD0E',\n\tkfr: '\\uD835\\uDD28',\n\tkgreen: '\\u0138',\n\tKHcy: '\\u0425',\n\tkhcy: '\\u0445',\n\tKJcy: '\\u040C',\n\tkjcy: '\\u045C',\n\tKopf: '\\uD835\\uDD42',\n\tkopf: '\\uD835\\uDD5C',\n\tKscr: '\\uD835\\uDCA6',\n\tkscr: '\\uD835\\uDCC0',\n\tlAarr: '\\u21DA',\n\tLacute: '\\u0139',\n\tlacute: '\\u013A',\n\tlaemptyv: '\\u29B4',\n\tlagran: '\\u2112',\n\tLambda: '\\u039B',\n\tlambda: '\\u03BB',\n\tLang: '\\u27EA',\n\tlang: '\\u27E8',\n\tlangd: '\\u2991',\n\tlangle: '\\u27E8',\n\tlap: '\\u2A85',\n\tLaplacetrf: '\\u2112',\n\tlaquo: '\\u00AB',\n\tLarr: '\\u219E',\n\tlArr: '\\u21D0',\n\tlarr: '\\u2190',\n\tlarrb: '\\u21E4',\n\tlarrbfs: '\\u291F',\n\tlarrfs: '\\u291D',\n\tlarrhk: '\\u21A9',\n\tlarrlp: '\\u21AB',\n\tlarrpl: '\\u2939',\n\tlarrsim: '\\u2973',\n\tlarrtl: '\\u21A2',\n\tlat: '\\u2AAB',\n\tlAtail: '\\u291B',\n\tlatail: '\\u2919',\n\tlate: '\\u2AAD',\n\tlates: '\\u2AAD\\uFE00',\n\tlBarr: '\\u290E',\n\tlbarr: '\\u290C',\n\tlbbrk: '\\u2772',\n\tlbrace: '\\u007B',\n\tlbrack: '\\u005B',\n\tlbrke: '\\u298B',\n\tlbrksld: '\\u298F',\n\tlbrkslu: '\\u298D',\n\tLcaron: '\\u013D',\n\tlcaron: '\\u013E',\n\tLcedil: '\\u013B',\n\tlcedil: '\\u013C',\n\tlceil: '\\u2308',\n\tlcub: '\\u007B',\n\tLcy: '\\u041B',\n\tlcy: '\\u043B',\n\tldca: '\\u2936',\n\tldquo: '\\u201C',\n\tldquor: '\\u201E',\n\tldrdhar: '\\u2967',\n\tldrushar: '\\u294B',\n\tldsh: '\\u21B2',\n\tlE: '\\u2266',\n\tle: '\\u2264',\n\tLeftAngleBracket: '\\u27E8',\n\tLeftArrow: '\\u2190',\n\tLeftarrow: '\\u21D0',\n\tleftarrow: '\\u2190',\n\tLeftArrowBar: '\\u21E4',\n\tLeftArrowRightArrow: '\\u21C6',\n\tleftarrowtail: '\\u21A2',\n\tLeftCeiling: '\\u2308',\n\tLeftDoubleBracket: '\\u27E6',\n\tLeftDownTeeVector: '\\u2961',\n\tLeftDownVector: '\\u21C3',\n\tLeftDownVectorBar: '\\u2959',\n\tLeftFloor: '\\u230A',\n\tleftharpoondown: '\\u21BD',\n\tleftharpoonup: '\\u21BC',\n\tleftleftarrows: '\\u21C7',\n\tLeftRightArrow: '\\u2194',\n\tLeftrightarrow: '\\u21D4',\n\tleftrightarrow: '\\u2194',\n\tleftrightarrows: '\\u21C6',\n\tleftrightharpoons: '\\u21CB',\n\tleftrightsquigarrow: '\\u21AD',\n\tLeftRightVector: '\\u294E',\n\tLeftTee: '\\u22A3',\n\tLeftTeeArrow: '\\u21A4',\n\tLeftTeeVector: '\\u295A',\n\tleftthreetimes: '\\u22CB',\n\tLeftTriangle: '\\u22B2',\n\tLeftTriangleBar: '\\u29CF',\n\tLeftTriangleEqual: '\\u22B4',\n\tLeftUpDownVector: '\\u2951',\n\tLeftUpTeeVector: '\\u2960',\n\tLeftUpVector: '\\u21BF',\n\tLeftUpVectorBar: '\\u2958',\n\tLeftVector: '\\u21BC',\n\tLeftVectorBar: '\\u2952',\n\tlEg: '\\u2A8B',\n\tleg: '\\u22DA',\n\tleq: '\\u2264',\n\tleqq: '\\u2266',\n\tleqslant: '\\u2A7D',\n\tles: '\\u2A7D',\n\tlescc: '\\u2AA8',\n\tlesdot: '\\u2A7F',\n\tlesdoto: '\\u2A81',\n\tlesdotor: '\\u2A83',\n\tlesg: '\\u22DA\\uFE00',\n\tlesges: '\\u2A93',\n\tlessapprox: '\\u2A85',\n\tlessdot: '\\u22D6',\n\tlesseqgtr: '\\u22DA',\n\tlesseqqgtr: '\\u2A8B',\n\tLessEqualGreater: '\\u22DA',\n\tLessFullEqual: '\\u2266',\n\tLessGreater: '\\u2276',\n\tlessgtr: '\\u2276',\n\tLessLess: '\\u2AA1',\n\tlesssim: '\\u2272',\n\tLessSlantEqual: '\\u2A7D',\n\tLessTilde: '\\u2272',\n\tlfisht: '\\u297C',\n\tlfloor: '\\u230A',\n\tLfr: '\\uD835\\uDD0F',\n\tlfr: '\\uD835\\uDD29',\n\tlg: '\\u2276',\n\tlgE: '\\u2A91',\n\tlHar: '\\u2962',\n\tlhard: '\\u21BD',\n\tlharu: '\\u21BC',\n\tlharul: '\\u296A',\n\tlhblk: '\\u2584',\n\tLJcy: '\\u0409',\n\tljcy: '\\u0459',\n\tLl: '\\u22D8',\n\tll: '\\u226A',\n\tllarr: '\\u21C7',\n\tllcorner: '\\u231E',\n\tLleftarrow: '\\u21DA',\n\tllhard: '\\u296B',\n\tlltri: '\\u25FA',\n\tLmidot: '\\u013F',\n\tlmidot: '\\u0140',\n\tlmoust: '\\u23B0',\n\tlmoustache: '\\u23B0',\n\tlnap: '\\u2A89',\n\tlnapprox: '\\u2A89',\n\tlnE: '\\u2268',\n\tlne: '\\u2A87',\n\tlneq: '\\u2A87',\n\tlneqq: '\\u2268',\n\tlnsim: '\\u22E6',\n\tloang: '\\u27EC',\n\tloarr: '\\u21FD',\n\tlobrk: '\\u27E6',\n\tLongLeftArrow: '\\u27F5',\n\tLongleftarrow: '\\u27F8',\n\tlongleftarrow: '\\u27F5',\n\tLongLeftRightArrow: '\\u27F7',\n\tLongleftrightarrow: '\\u27FA',\n\tlongleftrightarrow: '\\u27F7',\n\tlongmapsto: '\\u27FC',\n\tLongRightArrow: '\\u27F6',\n\tLongrightarrow: '\\u27F9',\n\tlongrightarrow: '\\u27F6',\n\tlooparrowleft: '\\u21AB',\n\tlooparrowright: '\\u21AC',\n\tlopar: '\\u2985',\n\tLopf: '\\uD835\\uDD43',\n\tlopf: '\\uD835\\uDD5D',\n\tloplus: '\\u2A2D',\n\tlotimes: '\\u2A34',\n\tlowast: '\\u2217',\n\tlowbar: '\\u005F',\n\tLowerLeftArrow: '\\u2199',\n\tLowerRightArrow: '\\u2198',\n\tloz: '\\u25CA',\n\tlozenge: '\\u25CA',\n\tlozf: '\\u29EB',\n\tlpar: '\\u0028',\n\tlparlt: '\\u2993',\n\tlrarr: '\\u21C6',\n\tlrcorner: '\\u231F',\n\tlrhar: '\\u21CB',\n\tlrhard: '\\u296D',\n\tlrm: '\\u200E',\n\tlrtri: '\\u22BF',\n\tlsaquo: '\\u2039',\n\tLscr: '\\u2112',\n\tlscr: '\\uD835\\uDCC1',\n\tLsh: '\\u21B0',\n\tlsh: '\\u21B0',\n\tlsim: '\\u2272',\n\tlsime: '\\u2A8D',\n\tlsimg: '\\u2A8F',\n\tlsqb: '\\u005B',\n\tlsquo: '\\u2018',\n\tlsquor: '\\u201A',\n\tLstrok: '\\u0141',\n\tlstrok: '\\u0142',\n\tLt: '\\u226A',\n\tLT: '\\u003C',\n\tlt: '\\u003C',\n\tltcc: '\\u2AA6',\n\tltcir: '\\u2A79',\n\tltdot: '\\u22D6',\n\tlthree: '\\u22CB',\n\tltimes: '\\u22C9',\n\tltlarr: '\\u2976',\n\tltquest: '\\u2A7B',\n\tltri: '\\u25C3',\n\tltrie: '\\u22B4',\n\tltrif: '\\u25C2',\n\tltrPar: '\\u2996',\n\tlurdshar: '\\u294A',\n\tluruhar: '\\u2966',\n\tlvertneqq: '\\u2268\\uFE00',\n\tlvnE: '\\u2268\\uFE00',\n\tmacr: '\\u00AF',\n\tmale: '\\u2642',\n\tmalt: '\\u2720',\n\tmaltese: '\\u2720',\n\tMap: '\\u2905',\n\tmap: '\\u21A6',\n\tmapsto: '\\u21A6',\n\tmapstodown: '\\u21A7',\n\tmapstoleft: '\\u21A4',\n\tmapstoup: '\\u21A5',\n\tmarker: '\\u25AE',\n\tmcomma: '\\u2A29',\n\tMcy: '\\u041C',\n\tmcy: '\\u043C',\n\tmdash: '\\u2014',\n\tmDDot: '\\u223A',\n\tmeasuredangle: '\\u2221',\n\tMediumSpace: '\\u205F',\n\tMellintrf: '\\u2133',\n\tMfr: '\\uD835\\uDD10',\n\tmfr: '\\uD835\\uDD2A',\n\tmho: '\\u2127',\n\tmicro: '\\u00B5',\n\tmid: '\\u2223',\n\tmidast: '\\u002A',\n\tmidcir: '\\u2AF0',\n\tmiddot: '\\u00B7',\n\tminus: '\\u2212',\n\tminusb: '\\u229F',\n\tminusd: '\\u2238',\n\tminusdu: '\\u2A2A',\n\tMinusPlus: '\\u2213',\n\tmlcp: '\\u2ADB',\n\tmldr: '\\u2026',\n\tmnplus: '\\u2213',\n\tmodels: '\\u22A7',\n\tMopf: '\\uD835\\uDD44',\n\tmopf: '\\uD835\\uDD5E',\n\tmp: '\\u2213',\n\tMscr: '\\u2133',\n\tmscr: '\\uD835\\uDCC2',\n\tmstpos: '\\u223E',\n\tMu: '\\u039C',\n\tmu: '\\u03BC',\n\tmultimap: '\\u22B8',\n\tmumap: '\\u22B8',\n\tnabla: '\\u2207',\n\tNacute: '\\u0143',\n\tnacute: '\\u0144',\n\tnang: '\\u2220\\u20D2',\n\tnap: '\\u2249',\n\tnapE: '\\u2A70\\u0338',\n\tnapid: '\\u224B\\u0338',\n\tnapos: '\\u0149',\n\tnapprox: '\\u2249',\n\tnatur: '\\u266E',\n\tnatural: '\\u266E',\n\tnaturals: '\\u2115',\n\tnbsp: '\\u00A0',\n\tnbump: '\\u224E\\u0338',\n\tnbumpe: '\\u224F\\u0338',\n\tncap: '\\u2A43',\n\tNcaron: '\\u0147',\n\tncaron: '\\u0148',\n\tNcedil: '\\u0145',\n\tncedil: '\\u0146',\n\tncong: '\\u2247',\n\tncongdot: '\\u2A6D\\u0338',\n\tncup: '\\u2A42',\n\tNcy: '\\u041D',\n\tncy: '\\u043D',\n\tndash: '\\u2013',\n\tne: '\\u2260',\n\tnearhk: '\\u2924',\n\tneArr: '\\u21D7',\n\tnearr: '\\u2197',\n\tnearrow: '\\u2197',\n\tnedot: '\\u2250\\u0338',\n\tNegativeMediumSpace: '\\u200B',\n\tNegativeThickSpace: '\\u200B',\n\tNegativeThinSpace: '\\u200B',\n\tNegativeVeryThinSpace: '\\u200B',\n\tnequiv: '\\u2262',\n\tnesear: '\\u2928',\n\tnesim: '\\u2242\\u0338',\n\tNestedGreaterGreater: '\\u226B',\n\tNestedLessLess: '\\u226A',\n\tNewLine: '\\u000A',\n\tnexist: '\\u2204',\n\tnexists: '\\u2204',\n\tNfr: '\\uD835\\uDD11',\n\tnfr: '\\uD835\\uDD2B',\n\tngE: '\\u2267\\u0338',\n\tnge: '\\u2271',\n\tngeq: '\\u2271',\n\tngeqq: '\\u2267\\u0338',\n\tngeqslant: '\\u2A7E\\u0338',\n\tnges: '\\u2A7E\\u0338',\n\tnGg: '\\u22D9\\u0338',\n\tngsim: '\\u2275',\n\tnGt: '\\u226B\\u20D2',\n\tngt: '\\u226F',\n\tngtr: '\\u226F',\n\tnGtv: '\\u226B\\u0338',\n\tnhArr: '\\u21CE',\n\tnharr: '\\u21AE',\n\tnhpar: '\\u2AF2',\n\tni: '\\u220B',\n\tnis: '\\u22FC',\n\tnisd: '\\u22FA',\n\tniv: '\\u220B',\n\tNJcy: '\\u040A',\n\tnjcy: '\\u045A',\n\tnlArr: '\\u21CD',\n\tnlarr: '\\u219A',\n\tnldr: '\\u2025',\n\tnlE: '\\u2266\\u0338',\n\tnle: '\\u2270',\n\tnLeftarrow: '\\u21CD',\n\tnleftarrow: '\\u219A',\n\tnLeftrightarrow: '\\u21CE',\n\tnleftrightarrow: '\\u21AE',\n\tnleq: '\\u2270',\n\tnleqq: '\\u2266\\u0338',\n\tnleqslant: '\\u2A7D\\u0338',\n\tnles: '\\u2A7D\\u0338',\n\tnless: '\\u226E',\n\tnLl: '\\u22D8\\u0338',\n\tnlsim: '\\u2274',\n\tnLt: '\\u226A\\u20D2',\n\tnlt: '\\u226E',\n\tnltri: '\\u22EA',\n\tnltrie: '\\u22EC',\n\tnLtv: '\\u226A\\u0338',\n\tnmid: '\\u2224',\n\tNoBreak: '\\u2060',\n\tNonBreakingSpace: '\\u00A0',\n\tNopf: '\\u2115',\n\tnopf: '\\uD835\\uDD5F',\n\tNot: '\\u2AEC',\n\tnot: '\\u00AC',\n\tNotCongruent: '\\u2262',\n\tNotCupCap: '\\u226D',\n\tNotDoubleVerticalBar: '\\u2226',\n\tNotElement: '\\u2209',\n\tNotEqual: '\\u2260',\n\tNotEqualTilde: '\\u2242\\u0338',\n\tNotExists: '\\u2204',\n\tNotGreater: '\\u226F',\n\tNotGreaterEqual: '\\u2271',\n\tNotGreaterFullEqual: '\\u2267\\u0338',\n\tNotGreaterGreater: '\\u226B\\u0338',\n\tNotGreaterLess: '\\u2279',\n\tNotGreaterSlantEqual: '\\u2A7E\\u0338',\n\tNotGreaterTilde: '\\u2275',\n\tNotHumpDownHump: '\\u224E\\u0338',\n\tNotHumpEqual: '\\u224F\\u0338',\n\tnotin: '\\u2209',\n\tnotindot: '\\u22F5\\u0338',\n\tnotinE: '\\u22F9\\u0338',\n\tnotinva: '\\u2209',\n\tnotinvb: '\\u22F7',\n\tnotinvc: '\\u22F6',\n\tNotLeftTriangle: '\\u22EA',\n\tNotLeftTriangleBar: '\\u29CF\\u0338',\n\tNotLeftTriangleEqual: '\\u22EC',\n\tNotLess: '\\u226E',\n\tNotLessEqual: '\\u2270',\n\tNotLessGreater: '\\u2278',\n\tNotLessLess: '\\u226A\\u0338',\n\tNotLessSlantEqual: '\\u2A7D\\u0338',\n\tNotLessTilde: '\\u2274',\n\tNotNestedGreaterGreater: '\\u2AA2\\u0338',\n\tNotNestedLessLess: '\\u2AA1\\u0338',\n\tnotni: '\\u220C',\n\tnotniva: '\\u220C',\n\tnotnivb: '\\u22FE',\n\tnotnivc: '\\u22FD',\n\tNotPrecedes: '\\u2280',\n\tNotPrecedesEqual: '\\u2AAF\\u0338',\n\tNotPrecedesSlantEqual: '\\u22E0',\n\tNotReverseElement: '\\u220C',\n\tNotRightTriangle: '\\u22EB',\n\tNotRightTriangleBar: '\\u29D0\\u0338',\n\tNotRightTriangleEqual: '\\u22ED',\n\tNotSquareSubset: '\\u228F\\u0338',\n\tNotSquareSubsetEqual: '\\u22E2',\n\tNotSquareSuperset: '\\u2290\\u0338',\n\tNotSquareSupersetEqual: '\\u22E3',\n\tNotSubset: '\\u2282\\u20D2',\n\tNotSubsetEqual: '\\u2288',\n\tNotSucceeds: '\\u2281',\n\tNotSucceedsEqual: '\\u2AB0\\u0338',\n\tNotSucceedsSlantEqual: '\\u22E1',\n\tNotSucceedsTilde: '\\u227F\\u0338',\n\tNotSuperset: '\\u2283\\u20D2',\n\tNotSupersetEqual: '\\u2289',\n\tNotTilde: '\\u2241',\n\tNotTildeEqual: '\\u2244',\n\tNotTildeFullEqual: '\\u2247',\n\tNotTildeTilde: '\\u2249',\n\tNotVerticalBar: '\\u2224',\n\tnpar: '\\u2226',\n\tnparallel: '\\u2226',\n\tnparsl: '\\u2AFD\\u20E5',\n\tnpart: '\\u2202\\u0338',\n\tnpolint: '\\u2A14',\n\tnpr: '\\u2280',\n\tnprcue: '\\u22E0',\n\tnpre: '\\u2AAF\\u0338',\n\tnprec: '\\u2280',\n\tnpreceq: '\\u2AAF\\u0338',\n\tnrArr: '\\u21CF',\n\tnrarr: '\\u219B',\n\tnrarrc: '\\u2933\\u0338',\n\tnrarrw: '\\u219D\\u0338',\n\tnRightarrow: '\\u21CF',\n\tnrightarrow: '\\u219B',\n\tnrtri: '\\u22EB',\n\tnrtrie: '\\u22ED',\n\tnsc: '\\u2281',\n\tnsccue: '\\u22E1',\n\tnsce: '\\u2AB0\\u0338',\n\tNscr: '\\uD835\\uDCA9',\n\tnscr: '\\uD835\\uDCC3',\n\tnshortmid: '\\u2224',\n\tnshortparallel: '\\u2226',\n\tnsim: '\\u2241',\n\tnsime: '\\u2244',\n\tnsimeq: '\\u2244',\n\tnsmid: '\\u2224',\n\tnspar: '\\u2226',\n\tnsqsube: '\\u22E2',\n\tnsqsupe: '\\u22E3',\n\tnsub: '\\u2284',\n\tnsubE: '\\u2AC5\\u0338',\n\tnsube: '\\u2288',\n\tnsubset: '\\u2282\\u20D2',\n\tnsubseteq: '\\u2288',\n\tnsubseteqq: '\\u2AC5\\u0338',\n\tnsucc: '\\u2281',\n\tnsucceq: '\\u2AB0\\u0338',\n\tnsup: '\\u2285',\n\tnsupE: '\\u2AC6\\u0338',\n\tnsupe: '\\u2289',\n\tnsupset: '\\u2283\\u20D2',\n\tnsupseteq: '\\u2289',\n\tnsupseteqq: '\\u2AC6\\u0338',\n\tntgl: '\\u2279',\n\tNtilde: '\\u00D1',\n\tntilde: '\\u00F1',\n\tntlg: '\\u2278',\n\tntriangleleft: '\\u22EA',\n\tntrianglelefteq: '\\u22EC',\n\tntriangleright: '\\u22EB',\n\tntrianglerighteq: '\\u22ED',\n\tNu: '\\u039D',\n\tnu: '\\u03BD',\n\tnum: '\\u0023',\n\tnumero: '\\u2116',\n\tnumsp: '\\u2007',\n\tnvap: '\\u224D\\u20D2',\n\tnVDash: '\\u22AF',\n\tnVdash: '\\u22AE',\n\tnvDash: '\\u22AD',\n\tnvdash: '\\u22AC',\n\tnvge: '\\u2265\\u20D2',\n\tnvgt: '\\u003E\\u20D2',\n\tnvHarr: '\\u2904',\n\tnvinfin: '\\u29DE',\n\tnvlArr: '\\u2902',\n\tnvle: '\\u2264\\u20D2',\n\tnvlt: '\\u003C\\u20D2',\n\tnvltrie: '\\u22B4\\u20D2',\n\tnvrArr: '\\u2903',\n\tnvrtrie: '\\u22B5\\u20D2',\n\tnvsim: '\\u223C\\u20D2',\n\tnwarhk: '\\u2923',\n\tnwArr: '\\u21D6',\n\tnwarr: '\\u2196',\n\tnwarrow: '\\u2196',\n\tnwnear: '\\u2927',\n\tOacute: '\\u00D3',\n\toacute: '\\u00F3',\n\toast: '\\u229B',\n\tocir: '\\u229A',\n\tOcirc: '\\u00D4',\n\tocirc: '\\u00F4',\n\tOcy: '\\u041E',\n\tocy: '\\u043E',\n\todash: '\\u229D',\n\tOdblac: '\\u0150',\n\todblac: '\\u0151',\n\todiv: '\\u2A38',\n\todot: '\\u2299',\n\todsold: '\\u29BC',\n\tOElig: '\\u0152',\n\toelig: '\\u0153',\n\tofcir: '\\u29BF',\n\tOfr: '\\uD835\\uDD12',\n\tofr: '\\uD835\\uDD2C',\n\togon: '\\u02DB',\n\tOgrave: '\\u00D2',\n\tograve: '\\u00F2',\n\togt: '\\u29C1',\n\tohbar: '\\u29B5',\n\tohm: '\\u03A9',\n\toint: '\\u222E',\n\tolarr: '\\u21BA',\n\tolcir: '\\u29BE',\n\tolcross: '\\u29BB',\n\toline: '\\u203E',\n\tolt: '\\u29C0',\n\tOmacr: '\\u014C',\n\tomacr: '\\u014D',\n\tOmega: '\\u03A9',\n\tomega: '\\u03C9',\n\tOmicron: '\\u039F',\n\tomicron: '\\u03BF',\n\tomid: '\\u29B6',\n\tominus: '\\u2296',\n\tOopf: '\\uD835\\uDD46',\n\toopf: '\\uD835\\uDD60',\n\topar: '\\u29B7',\n\tOpenCurlyDoubleQuote: '\\u201C',\n\tOpenCurlyQuote: '\\u2018',\n\toperp: '\\u29B9',\n\toplus: '\\u2295',\n\tOr: '\\u2A54',\n\tor: '\\u2228',\n\torarr: '\\u21BB',\n\tord: '\\u2A5D',\n\torder: '\\u2134',\n\torderof: '\\u2134',\n\tordf: '\\u00AA',\n\tordm: '\\u00BA',\n\torigof: '\\u22B6',\n\toror: '\\u2A56',\n\torslope: '\\u2A57',\n\torv: '\\u2A5B',\n\toS: '\\u24C8',\n\tOscr: '\\uD835\\uDCAA',\n\toscr: '\\u2134',\n\tOslash: '\\u00D8',\n\toslash: '\\u00F8',\n\tosol: '\\u2298',\n\tOtilde: '\\u00D5',\n\totilde: '\\u00F5',\n\tOtimes: '\\u2A37',\n\totimes: '\\u2297',\n\totimesas: '\\u2A36',\n\tOuml: '\\u00D6',\n\touml: '\\u00F6',\n\tovbar: '\\u233D',\n\tOverBar: '\\u203E',\n\tOverBrace: '\\u23DE',\n\tOverBracket: '\\u23B4',\n\tOverParenthesis: '\\u23DC',\n\tpar: '\\u2225',\n\tpara: '\\u00B6',\n\tparallel: '\\u2225',\n\tparsim: '\\u2AF3',\n\tparsl: '\\u2AFD',\n\tpart: '\\u2202',\n\tPartialD: '\\u2202',\n\tPcy: '\\u041F',\n\tpcy: '\\u043F',\n\tpercnt: '\\u0025',\n\tperiod: '\\u002E',\n\tpermil: '\\u2030',\n\tperp: '\\u22A5',\n\tpertenk: '\\u2031',\n\tPfr: '\\uD835\\uDD13',\n\tpfr: '\\uD835\\uDD2D',\n\tPhi: '\\u03A6',\n\tphi: '\\u03C6',\n\tphiv: '\\u03D5',\n\tphmmat: '\\u2133',\n\tphone: '\\u260E',\n\tPi: '\\u03A0',\n\tpi: '\\u03C0',\n\tpitchfork: '\\u22D4',\n\tpiv: '\\u03D6',\n\tplanck: '\\u210F',\n\tplanckh: '\\u210E',\n\tplankv: '\\u210F',\n\tplus: '\\u002B',\n\tplusacir: '\\u2A23',\n\tplusb: '\\u229E',\n\tpluscir: '\\u2A22',\n\tplusdo: '\\u2214',\n\tplusdu: '\\u2A25',\n\tpluse: '\\u2A72',\n\tPlusMinus: '\\u00B1',\n\tplusmn: '\\u00B1',\n\tplussim: '\\u2A26',\n\tplustwo: '\\u2A27',\n\tpm: '\\u00B1',\n\tPoincareplane: '\\u210C',\n\tpointint: '\\u2A15',\n\tPopf: '\\u2119',\n\tpopf: '\\uD835\\uDD61',\n\tpound: '\\u00A3',\n\tPr: '\\u2ABB',\n\tpr: '\\u227A',\n\tprap: '\\u2AB7',\n\tprcue: '\\u227C',\n\tprE: '\\u2AB3',\n\tpre: '\\u2AAF',\n\tprec: '\\u227A',\n\tprecapprox: '\\u2AB7',\n\tpreccurlyeq: '\\u227C',\n\tPrecedes: '\\u227A',\n\tPrecedesEqual: '\\u2AAF',\n\tPrecedesSlantEqual: '\\u227C',\n\tPrecedesTilde: '\\u227E',\n\tpreceq: '\\u2AAF',\n\tprecnapprox: '\\u2AB9',\n\tprecneqq: '\\u2AB5',\n\tprecnsim: '\\u22E8',\n\tprecsim: '\\u227E',\n\tPrime: '\\u2033',\n\tprime: '\\u2032',\n\tprimes: '\\u2119',\n\tprnap: '\\u2AB9',\n\tprnE: '\\u2AB5',\n\tprnsim: '\\u22E8',\n\tprod: '\\u220F',\n\tProduct: '\\u220F',\n\tprofalar: '\\u232E',\n\tprofline: '\\u2312',\n\tprofsurf: '\\u2313',\n\tprop: '\\u221D',\n\tProportion: '\\u2237',\n\tProportional: '\\u221D',\n\tpropto: '\\u221D',\n\tprsim: '\\u227E',\n\tprurel: '\\u22B0',\n\tPscr: '\\uD835\\uDCAB',\n\tpscr: '\\uD835\\uDCC5',\n\tPsi: '\\u03A8',\n\tpsi: '\\u03C8',\n\tpuncsp: '\\u2008',\n\tQfr: '\\uD835\\uDD14',\n\tqfr: '\\uD835\\uDD2E',\n\tqint: '\\u2A0C',\n\tQopf: '\\u211A',\n\tqopf: '\\uD835\\uDD62',\n\tqprime: '\\u2057',\n\tQscr: '\\uD835\\uDCAC',\n\tqscr: '\\uD835\\uDCC6',\n\tquaternions: '\\u210D',\n\tquatint: '\\u2A16',\n\tquest: '\\u003F',\n\tquesteq: '\\u225F',\n\tQUOT: '\\u0022',\n\tquot: '\\u0022',\n\trAarr: '\\u21DB',\n\trace: '\\u223D\\u0331',\n\tRacute: '\\u0154',\n\tracute: '\\u0155',\n\tradic: '\\u221A',\n\traemptyv: '\\u29B3',\n\tRang: '\\u27EB',\n\trang: '\\u27E9',\n\trangd: '\\u2992',\n\trange: '\\u29A5',\n\trangle: '\\u27E9',\n\traquo: '\\u00BB',\n\tRarr: '\\u21A0',\n\trArr: '\\u21D2',\n\trarr: '\\u2192',\n\trarrap: '\\u2975',\n\trarrb: '\\u21E5',\n\trarrbfs: '\\u2920',\n\trarrc: '\\u2933',\n\trarrfs: '\\u291E',\n\trarrhk: '\\u21AA',\n\trarrlp: '\\u21AC',\n\trarrpl: '\\u2945',\n\trarrsim: '\\u2974',\n\tRarrtl: '\\u2916',\n\trarrtl: '\\u21A3',\n\trarrw: '\\u219D',\n\trAtail: '\\u291C',\n\tratail: '\\u291A',\n\tratio: '\\u2236',\n\trationals: '\\u211A',\n\tRBarr: '\\u2910',\n\trBarr: '\\u290F',\n\trbarr: '\\u290D',\n\trbbrk: '\\u2773',\n\trbrace: '\\u007D',\n\trbrack: '\\u005D',\n\trbrke: '\\u298C',\n\trbrksld: '\\u298E',\n\trbrkslu: '\\u2990',\n\tRcaron: '\\u0158',\n\trcaron: '\\u0159',\n\tRcedil: '\\u0156',\n\trcedil: '\\u0157',\n\trceil: '\\u2309',\n\trcub: '\\u007D',\n\tRcy: '\\u0420',\n\trcy: '\\u0440',\n\trdca: '\\u2937',\n\trdldhar: '\\u2969',\n\trdquo: '\\u201D',\n\trdquor: '\\u201D',\n\trdsh: '\\u21B3',\n\tRe: '\\u211C',\n\treal: '\\u211C',\n\trealine: '\\u211B',\n\trealpart: '\\u211C',\n\treals: '\\u211D',\n\trect: '\\u25AD',\n\tREG: '\\u00AE',\n\treg: '\\u00AE',\n\tReverseElement: '\\u220B',\n\tReverseEquilibrium: '\\u21CB',\n\tReverseUpEquilibrium: '\\u296F',\n\trfisht: '\\u297D',\n\trfloor: '\\u230B',\n\tRfr: '\\u211C',\n\trfr: '\\uD835\\uDD2F',\n\trHar: '\\u2964',\n\trhard: '\\u21C1',\n\trharu: '\\u21C0',\n\trharul: '\\u296C',\n\tRho: '\\u03A1',\n\trho: '\\u03C1',\n\trhov: '\\u03F1',\n\tRightAngleBracket: '\\u27E9',\n\tRightArrow: '\\u2192',\n\tRightarrow: '\\u21D2',\n\trightarrow: '\\u2192',\n\tRightArrowBar: '\\u21E5',\n\tRightArrowLeftArrow: '\\u21C4',\n\trightarrowtail: '\\u21A3',\n\tRightCeiling: '\\u2309',\n\tRightDoubleBracket: '\\u27E7',\n\tRightDownTeeVector: '\\u295D',\n\tRightDownVector: '\\u21C2',\n\tRightDownVectorBar: '\\u2955',\n\tRightFloor: '\\u230B',\n\trightharpoondown: '\\u21C1',\n\trightharpoonup: '\\u21C0',\n\trightleftarrows: '\\u21C4',\n\trightleftharpoons: '\\u21CC',\n\trightrightarrows: '\\u21C9',\n\trightsquigarrow: '\\u219D',\n\tRightTee: '\\u22A2',\n\tRightTeeArrow: '\\u21A6',\n\tRightTeeVector: '\\u295B',\n\trightthreetimes: '\\u22CC',\n\tRightTriangle: '\\u22B3',\n\tRightTriangleBar: '\\u29D0',\n\tRightTriangleEqual: '\\u22B5',\n\tRightUpDownVector: '\\u294F',\n\tRightUpTeeVector: '\\u295C',\n\tRightUpVector: '\\u21BE',\n\tRightUpVectorBar: '\\u2954',\n\tRightVector: '\\u21C0',\n\tRightVectorBar: '\\u2953',\n\tring: '\\u02DA',\n\trisingdotseq: '\\u2253',\n\trlarr: '\\u21C4',\n\trlhar: '\\u21CC',\n\trlm: '\\u200F',\n\trmoust: '\\u23B1',\n\trmoustache: '\\u23B1',\n\trnmid: '\\u2AEE',\n\troang: '\\u27ED',\n\troarr: '\\u21FE',\n\trobrk: '\\u27E7',\n\tropar: '\\u2986',\n\tRopf: '\\u211D',\n\tropf: '\\uD835\\uDD63',\n\troplus: '\\u2A2E',\n\trotimes: '\\u2A35',\n\tRoundImplies: '\\u2970',\n\trpar: '\\u0029',\n\trpargt: '\\u2994',\n\trppolint: '\\u2A12',\n\trrarr: '\\u21C9',\n\tRrightarrow: '\\u21DB',\n\trsaquo: '\\u203A',\n\tRscr: '\\u211B',\n\trscr: '\\uD835\\uDCC7',\n\tRsh: '\\u21B1',\n\trsh: '\\u21B1',\n\trsqb: '\\u005D',\n\trsquo: '\\u2019',\n\trsquor: '\\u2019',\n\trthree: '\\u22CC',\n\trtimes: '\\u22CA',\n\trtri: '\\u25B9',\n\trtrie: '\\u22B5',\n\trtrif: '\\u25B8',\n\trtriltri: '\\u29CE',\n\tRuleDelayed: '\\u29F4',\n\truluhar: '\\u2968',\n\trx: '\\u211E',\n\tSacute: '\\u015A',\n\tsacute: '\\u015B',\n\tsbquo: '\\u201A',\n\tSc: '\\u2ABC',\n\tsc: '\\u227B',\n\tscap: '\\u2AB8',\n\tScaron: '\\u0160',\n\tscaron: '\\u0161',\n\tsccue: '\\u227D',\n\tscE: '\\u2AB4',\n\tsce: '\\u2AB0',\n\tScedil: '\\u015E',\n\tscedil: '\\u015F',\n\tScirc: '\\u015C',\n\tscirc: '\\u015D',\n\tscnap: '\\u2ABA',\n\tscnE: '\\u2AB6',\n\tscnsim: '\\u22E9',\n\tscpolint: '\\u2A13',\n\tscsim: '\\u227F',\n\tScy: '\\u0421',\n\tscy: '\\u0441',\n\tsdot: '\\u22C5',\n\tsdotb: '\\u22A1',\n\tsdote: '\\u2A66',\n\tsearhk: '\\u2925',\n\tseArr: '\\u21D8',\n\tsearr: '\\u2198',\n\tsearrow: '\\u2198',\n\tsect: '\\u00A7',\n\tsemi: '\\u003B',\n\tseswar: '\\u2929',\n\tsetminus: '\\u2216',\n\tsetmn: '\\u2216',\n\tsext: '\\u2736',\n\tSfr: '\\uD835\\uDD16',\n\tsfr: '\\uD835\\uDD30',\n\tsfrown: '\\u2322',\n\tsharp: '\\u266F',\n\tSHCHcy: '\\u0429',\n\tshchcy: '\\u0449',\n\tSHcy: '\\u0428',\n\tshcy: '\\u0448',\n\tShortDownArrow: '\\u2193',\n\tShortLeftArrow: '\\u2190',\n\tshortmid: '\\u2223',\n\tshortparallel: '\\u2225',\n\tShortRightArrow: '\\u2192',\n\tShortUpArrow: '\\u2191',\n\tshy: '\\u00AD',\n\tSigma: '\\u03A3',\n\tsigma: '\\u03C3',\n\tsigmaf: '\\u03C2',\n\tsigmav: '\\u03C2',\n\tsim: '\\u223C',\n\tsimdot: '\\u2A6A',\n\tsime: '\\u2243',\n\tsimeq: '\\u2243',\n\tsimg: '\\u2A9E',\n\tsimgE: '\\u2AA0',\n\tsiml: '\\u2A9D',\n\tsimlE: '\\u2A9F',\n\tsimne: '\\u2246',\n\tsimplus: '\\u2A24',\n\tsimrarr: '\\u2972',\n\tslarr: '\\u2190',\n\tSmallCircle: '\\u2218',\n\tsmallsetminus: '\\u2216',\n\tsmashp: '\\u2A33',\n\tsmeparsl: '\\u29E4',\n\tsmid: '\\u2223',\n\tsmile: '\\u2323',\n\tsmt: '\\u2AAA',\n\tsmte: '\\u2AAC',\n\tsmtes: '\\u2AAC\\uFE00',\n\tSOFTcy: '\\u042C',\n\tsoftcy: '\\u044C',\n\tsol: '\\u002F',\n\tsolb: '\\u29C4',\n\tsolbar: '\\u233F',\n\tSopf: '\\uD835\\uDD4A',\n\tsopf: '\\uD835\\uDD64',\n\tspades: '\\u2660',\n\tspadesuit: '\\u2660',\n\tspar: '\\u2225',\n\tsqcap: '\\u2293',\n\tsqcaps: '\\u2293\\uFE00',\n\tsqcup: '\\u2294',\n\tsqcups: '\\u2294\\uFE00',\n\tSqrt: '\\u221A',\n\tsqsub: '\\u228F',\n\tsqsube: '\\u2291',\n\tsqsubset: '\\u228F',\n\tsqsubseteq: '\\u2291',\n\tsqsup: '\\u2290',\n\tsqsupe: '\\u2292',\n\tsqsupset: '\\u2290',\n\tsqsupseteq: '\\u2292',\n\tsqu: '\\u25A1',\n\tSquare: '\\u25A1',\n\tsquare: '\\u25A1',\n\tSquareIntersection: '\\u2293',\n\tSquareSubset: '\\u228F',\n\tSquareSubsetEqual: '\\u2291',\n\tSquareSuperset: '\\u2290',\n\tSquareSupersetEqual: '\\u2292',\n\tSquareUnion: '\\u2294',\n\tsquarf: '\\u25AA',\n\tsquf: '\\u25AA',\n\tsrarr: '\\u2192',\n\tSscr: '\\uD835\\uDCAE',\n\tsscr: '\\uD835\\uDCC8',\n\tssetmn: '\\u2216',\n\tssmile: '\\u2323',\n\tsstarf: '\\u22C6',\n\tStar: '\\u22C6',\n\tstar: '\\u2606',\n\tstarf: '\\u2605',\n\tstraightepsilon: '\\u03F5',\n\tstraightphi: '\\u03D5',\n\tstrns: '\\u00AF',\n\tSub: '\\u22D0',\n\tsub: '\\u2282',\n\tsubdot: '\\u2ABD',\n\tsubE: '\\u2AC5',\n\tsube: '\\u2286',\n\tsubedot: '\\u2AC3',\n\tsubmult: '\\u2AC1',\n\tsubnE: '\\u2ACB',\n\tsubne: '\\u228A',\n\tsubplus: '\\u2ABF',\n\tsubrarr: '\\u2979',\n\tSubset: '\\u22D0',\n\tsubset: '\\u2282',\n\tsubseteq: '\\u2286',\n\tsubseteqq: '\\u2AC5',\n\tSubsetEqual: '\\u2286',\n\tsubsetneq: '\\u228A',\n\tsubsetneqq: '\\u2ACB',\n\tsubsim: '\\u2AC7',\n\tsubsub: '\\u2AD5',\n\tsubsup: '\\u2AD3',\n\tsucc: '\\u227B',\n\tsuccapprox: '\\u2AB8',\n\tsucccurlyeq: '\\u227D',\n\tSucceeds: '\\u227B',\n\tSucceedsEqual: '\\u2AB0',\n\tSucceedsSlantEqual: '\\u227D',\n\tSucceedsTilde: '\\u227F',\n\tsucceq: '\\u2AB0',\n\tsuccnapprox: '\\u2ABA',\n\tsuccneqq: '\\u2AB6',\n\tsuccnsim: '\\u22E9',\n\tsuccsim: '\\u227F',\n\tSuchThat: '\\u220B',\n\tSum: '\\u2211',\n\tsum: '\\u2211',\n\tsung: '\\u266A',\n\tSup: '\\u22D1',\n\tsup: '\\u2283',\n\tsup1: '\\u00B9',\n\tsup2: '\\u00B2',\n\tsup3: '\\u00B3',\n\tsupdot: '\\u2ABE',\n\tsupdsub: '\\u2AD8',\n\tsupE: '\\u2AC6',\n\tsupe: '\\u2287',\n\tsupedot: '\\u2AC4',\n\tSuperset: '\\u2283',\n\tSupersetEqual: '\\u2287',\n\tsuphsol: '\\u27C9',\n\tsuphsub: '\\u2AD7',\n\tsuplarr: '\\u297B',\n\tsupmult: '\\u2AC2',\n\tsupnE: '\\u2ACC',\n\tsupne: '\\u228B',\n\tsupplus: '\\u2AC0',\n\tSupset: '\\u22D1',\n\tsupset: '\\u2283',\n\tsupseteq: '\\u2287',\n\tsupseteqq: '\\u2AC6',\n\tsupsetneq: '\\u228B',\n\tsupsetneqq: '\\u2ACC',\n\tsupsim: '\\u2AC8',\n\tsupsub: '\\u2AD4',\n\tsupsup: '\\u2AD6',\n\tswarhk: '\\u2926',\n\tswArr: '\\u21D9',\n\tswarr: '\\u2199',\n\tswarrow: '\\u2199',\n\tswnwar: '\\u292A',\n\tszlig: '\\u00DF',\n\tTab: '\\u0009',\n\ttarget: '\\u2316',\n\tTau: '\\u03A4',\n\ttau: '\\u03C4',\n\ttbrk: '\\u23B4',\n\tTcaron: '\\u0164',\n\ttcaron: '\\u0165',\n\tTcedil: '\\u0162',\n\ttcedil: '\\u0163',\n\tTcy: '\\u0422',\n\ttcy: '\\u0442',\n\ttdot: '\\u20DB',\n\ttelrec: '\\u2315',\n\tTfr: '\\uD835\\uDD17',\n\ttfr: '\\uD835\\uDD31',\n\tthere4: '\\u2234',\n\tTherefore: '\\u2234',\n\ttherefore: '\\u2234',\n\tTheta: '\\u0398',\n\ttheta: '\\u03B8',\n\tthetasym: '\\u03D1',\n\tthetav: '\\u03D1',\n\tthickapprox: '\\u2248',\n\tthicksim: '\\u223C',\n\tThickSpace: '\\u205F\\u200A',\n\tthinsp: '\\u2009',\n\tThinSpace: '\\u2009',\n\tthkap: '\\u2248',\n\tthksim: '\\u223C',\n\tTHORN: '\\u00DE',\n\tthorn: '\\u00FE',\n\tTilde: '\\u223C',\n\ttilde: '\\u02DC',\n\tTildeEqual: '\\u2243',\n\tTildeFullEqual: '\\u2245',\n\tTildeTilde: '\\u2248',\n\ttimes: '\\u00D7',\n\ttimesb: '\\u22A0',\n\ttimesbar: '\\u2A31',\n\ttimesd: '\\u2A30',\n\ttint: '\\u222D',\n\ttoea: '\\u2928',\n\ttop: '\\u22A4',\n\ttopbot: '\\u2336',\n\ttopcir: '\\u2AF1',\n\tTopf: '\\uD835\\uDD4B',\n\ttopf: '\\uD835\\uDD65',\n\ttopfork: '\\u2ADA',\n\ttosa: '\\u2929',\n\ttprime: '\\u2034',\n\tTRADE: '\\u2122',\n\ttrade: '\\u2122',\n\ttriangle: '\\u25B5',\n\ttriangledown: '\\u25BF',\n\ttriangleleft: '\\u25C3',\n\ttrianglelefteq: '\\u22B4',\n\ttriangleq: '\\u225C',\n\ttriangleright: '\\u25B9',\n\ttrianglerighteq: '\\u22B5',\n\ttridot: '\\u25EC',\n\ttrie: '\\u225C',\n\ttriminus: '\\u2A3A',\n\tTripleDot: '\\u20DB',\n\ttriplus: '\\u2A39',\n\ttrisb: '\\u29CD',\n\ttritime: '\\u2A3B',\n\ttrpezium: '\\u23E2',\n\tTscr: '\\uD835\\uDCAF',\n\ttscr: '\\uD835\\uDCC9',\n\tTScy: '\\u0426',\n\ttscy: '\\u0446',\n\tTSHcy: '\\u040B',\n\ttshcy: '\\u045B',\n\tTstrok: '\\u0166',\n\ttstrok: '\\u0167',\n\ttwixt: '\\u226C',\n\ttwoheadleftarrow: '\\u219E',\n\ttwoheadrightarrow: '\\u21A0',\n\tUacute: '\\u00DA',\n\tuacute: '\\u00FA',\n\tUarr: '\\u219F',\n\tuArr: '\\u21D1',\n\tuarr: '\\u2191',\n\tUarrocir: '\\u2949',\n\tUbrcy: '\\u040E',\n\tubrcy: '\\u045E',\n\tUbreve: '\\u016C',\n\tubreve: '\\u016D',\n\tUcirc: '\\u00DB',\n\tucirc: '\\u00FB',\n\tUcy: '\\u0423',\n\tucy: '\\u0443',\n\tudarr: '\\u21C5',\n\tUdblac: '\\u0170',\n\tudblac: '\\u0171',\n\tudhar: '\\u296E',\n\tufisht: '\\u297E',\n\tUfr: '\\uD835\\uDD18',\n\tufr: '\\uD835\\uDD32',\n\tUgrave: '\\u00D9',\n\tugrave: '\\u00F9',\n\tuHar: '\\u2963',\n\tuharl: '\\u21BF',\n\tuharr: '\\u21BE',\n\tuhblk: '\\u2580',\n\tulcorn: '\\u231C',\n\tulcorner: '\\u231C',\n\tulcrop: '\\u230F',\n\tultri: '\\u25F8',\n\tUmacr: '\\u016A',\n\tumacr: '\\u016B',\n\tuml: '\\u00A8',\n\tUnderBar: '\\u005F',\n\tUnderBrace: '\\u23DF',\n\tUnderBracket: '\\u23B5',\n\tUnderParenthesis: '\\u23DD',\n\tUnion: '\\u22C3',\n\tUnionPlus: '\\u228E',\n\tUogon: '\\u0172',\n\tuogon: '\\u0173',\n\tUopf: '\\uD835\\uDD4C',\n\tuopf: '\\uD835\\uDD66',\n\tUpArrow: '\\u2191',\n\tUparrow: '\\u21D1',\n\tuparrow: '\\u2191',\n\tUpArrowBar: '\\u2912',\n\tUpArrowDownArrow: '\\u21C5',\n\tUpDownArrow: '\\u2195',\n\tUpdownarrow: '\\u21D5',\n\tupdownarrow: '\\u2195',\n\tUpEquilibrium: '\\u296E',\n\tupharpoonleft: '\\u21BF',\n\tupharpoonright: '\\u21BE',\n\tuplus: '\\u228E',\n\tUpperLeftArrow: '\\u2196',\n\tUpperRightArrow: '\\u2197',\n\tUpsi: '\\u03D2',\n\tupsi: '\\u03C5',\n\tupsih: '\\u03D2',\n\tUpsilon: '\\u03A5',\n\tupsilon: '\\u03C5',\n\tUpTee: '\\u22A5',\n\tUpTeeArrow: '\\u21A5',\n\tupuparrows: '\\u21C8',\n\turcorn: '\\u231D',\n\turcorner: '\\u231D',\n\turcrop: '\\u230E',\n\tUring: '\\u016E',\n\turing: '\\u016F',\n\turtri: '\\u25F9',\n\tUscr: '\\uD835\\uDCB0',\n\tuscr: '\\uD835\\uDCCA',\n\tutdot: '\\u22F0',\n\tUtilde: '\\u0168',\n\tutilde: '\\u0169',\n\tutri: '\\u25B5',\n\tutrif: '\\u25B4',\n\tuuarr: '\\u21C8',\n\tUuml: '\\u00DC',\n\tuuml: '\\u00FC',\n\tuwangle: '\\u29A7',\n\tvangrt: '\\u299C',\n\tvarepsilon: '\\u03F5',\n\tvarkappa: '\\u03F0',\n\tvarnothing: '\\u2205',\n\tvarphi: '\\u03D5',\n\tvarpi: '\\u03D6',\n\tvarpropto: '\\u221D',\n\tvArr: '\\u21D5',\n\tvarr: '\\u2195',\n\tvarrho: '\\u03F1',\n\tvarsigma: '\\u03C2',\n\tvarsubsetneq: '\\u228A\\uFE00',\n\tvarsubsetneqq: '\\u2ACB\\uFE00',\n\tvarsupsetneq: '\\u228B\\uFE00',\n\tvarsupsetneqq: '\\u2ACC\\uFE00',\n\tvartheta: '\\u03D1',\n\tvartriangleleft: '\\u22B2',\n\tvartriangleright: '\\u22B3',\n\tVbar: '\\u2AEB',\n\tvBar: '\\u2AE8',\n\tvBarv: '\\u2AE9',\n\tVcy: '\\u0412',\n\tvcy: '\\u0432',\n\tVDash: '\\u22AB',\n\tVdash: '\\u22A9',\n\tvDash: '\\u22A8',\n\tvdash: '\\u22A2',\n\tVdashl: '\\u2AE6',\n\tVee: '\\u22C1',\n\tvee: '\\u2228',\n\tveebar: '\\u22BB',\n\tveeeq: '\\u225A',\n\tvellip: '\\u22EE',\n\tVerbar: '\\u2016',\n\tverbar: '\\u007C',\n\tVert: '\\u2016',\n\tvert: '\\u007C',\n\tVerticalBar: '\\u2223',\n\tVerticalLine: '\\u007C',\n\tVerticalSeparator: '\\u2758',\n\tVerticalTilde: '\\u2240',\n\tVeryThinSpace: '\\u200A',\n\tVfr: '\\uD835\\uDD19',\n\tvfr: '\\uD835\\uDD33',\n\tvltri: '\\u22B2',\n\tvnsub: '\\u2282\\u20D2',\n\tvnsup: '\\u2283\\u20D2',\n\tVopf: '\\uD835\\uDD4D',\n\tvopf: '\\uD835\\uDD67',\n\tvprop: '\\u221D',\n\tvrtri: '\\u22B3',\n\tVscr: '\\uD835\\uDCB1',\n\tvscr: '\\uD835\\uDCCB',\n\tvsubnE: '\\u2ACB\\uFE00',\n\tvsubne: '\\u228A\\uFE00',\n\tvsupnE: '\\u2ACC\\uFE00',\n\tvsupne: '\\u228B\\uFE00',\n\tVvdash: '\\u22AA',\n\tvzigzag: '\\u299A',\n\tWcirc: '\\u0174',\n\twcirc: '\\u0175',\n\twedbar: '\\u2A5F',\n\tWedge: '\\u22C0',\n\twedge: '\\u2227',\n\twedgeq: '\\u2259',\n\tweierp: '\\u2118',\n\tWfr: '\\uD835\\uDD1A',\n\twfr: '\\uD835\\uDD34',\n\tWopf: '\\uD835\\uDD4E',\n\twopf: '\\uD835\\uDD68',\n\twp: '\\u2118',\n\twr: '\\u2240',\n\twreath: '\\u2240',\n\tWscr: '\\uD835\\uDCB2',\n\twscr: '\\uD835\\uDCCC',\n\txcap: '\\u22C2',\n\txcirc: '\\u25EF',\n\txcup: '\\u22C3',\n\txdtri: '\\u25BD',\n\tXfr: '\\uD835\\uDD1B',\n\txfr: '\\uD835\\uDD35',\n\txhArr: '\\u27FA',\n\txharr: '\\u27F7',\n\tXi: '\\u039E',\n\txi: '\\u03BE',\n\txlArr: '\\u27F8',\n\txlarr: '\\u27F5',\n\txmap: '\\u27FC',\n\txnis: '\\u22FB',\n\txodot: '\\u2A00',\n\tXopf: '\\uD835\\uDD4F',\n\txopf: '\\uD835\\uDD69',\n\txoplus: '\\u2A01',\n\txotime: '\\u2A02',\n\txrArr: '\\u27F9',\n\txrarr: '\\u27F6',\n\tXscr: '\\uD835\\uDCB3',\n\txscr: '\\uD835\\uDCCD',\n\txsqcup: '\\u2A06',\n\txuplus: '\\u2A04',\n\txutri: '\\u25B3',\n\txvee: '\\u22C1',\n\txwedge: '\\u22C0',\n\tYacute: '\\u00DD',\n\tyacute: '\\u00FD',\n\tYAcy: '\\u042F',\n\tyacy: '\\u044F',\n\tYcirc: '\\u0176',\n\tycirc: '\\u0177',\n\tYcy: '\\u042B',\n\tycy: '\\u044B',\n\tyen: '\\u00A5',\n\tYfr: '\\uD835\\uDD1C',\n\tyfr: '\\uD835\\uDD36',\n\tYIcy: '\\u0407',\n\tyicy: '\\u0457',\n\tYopf: '\\uD835\\uDD50',\n\tyopf: '\\uD835\\uDD6A',\n\tYscr: '\\uD835\\uDCB4',\n\tyscr: '\\uD835\\uDCCE',\n\tYUcy: '\\u042E',\n\tyucy: '\\u044E',\n\tYuml: '\\u0178',\n\tyuml: '\\u00FF',\n\tZacute: '\\u0179',\n\tzacute: '\\u017A',\n\tZcaron: '\\u017D',\n\tzcaron: '\\u017E',\n\tZcy: '\\u0417',\n\tzcy: '\\u0437',\n\tZdot: '\\u017B',\n\tzdot: '\\u017C',\n\tzeetrf: '\\u2128',\n\tZeroWidthSpace: '\\u200B',\n\tZeta: '\\u0396',\n\tzeta: '\\u03B6',\n\tZfr: '\\u2128',\n\tzfr: '\\uD835\\uDD37',\n\tZHcy: '\\u0416',\n\tzhcy: '\\u0436',\n\tzigrarr: '\\u21DD',\n\tZopf: '\\u2124',\n\tzopf: '\\uD835\\uDD6B',\n\tZscr: '\\uD835\\uDCB5',\n\tzscr: '\\uD835\\uDCCF',\n\tzwj: '\\u200D',\n\tzwnj: '\\u200C',\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES;\n", "var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: \u8FD9\u91CC\u6709\u53EF\u80FDsax\u56DE\u9000\uFF0C\u6709\u4F4D\u7F6E\u9519\u8BEF\u98CE\u9669\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tel.closed = true;\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\u5FD8\u8BB0\u95ED\u5408\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n", "var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n", "var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n", "/**\n * Module dependencies.\n */\n\nconst { DOMParser } = require('@xmldom/xmldom');\n\n/**\n * Module exports.\n */\n\nexports.parse = parse;\n\nvar TEXT_NODE = 3;\nvar CDATA_NODE = 4;\nvar COMMENT_NODE = 8;\n\n\n/**\n * We ignore raw text (usually whitespace), <!-- xml comments -->,\n * and raw CDATA nodes.\n *\n * @param {Element} node\n * @returns {Boolean}\n * @api private\n */\n\nfunction shouldIgnoreNode (node) {\n  return node.nodeType === TEXT_NODE\n    || node.nodeType === COMMENT_NODE\n    || node.nodeType === CDATA_NODE;\n}\n\n/**\n * Check if the node is empty. Some plist file has such node:\n * <key />\n * this node shoud be ignored.\n *\n * @see https://github.com/TooTallNate/plist.js/issues/66\n * @param {Element} node\n * @returns {Boolean}\n * @api private\n */\nfunction isEmptyNode(node){\n  if(!node.childNodes || node.childNodes.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction invariant(test, message) {\n  if (!test) {\n    throw new Error(message);\n  }\n}\n\n/**\n * Parses a Plist XML string. Returns an Object.\n *\n * @param {String} xml - the XML String to decode\n * @returns {Mixed} the decoded value from the Plist XML\n * @api public\n */\n\nfunction parse (xml) {\n  var doc = new DOMParser().parseFromString(xml);\n  invariant(\n    doc.documentElement.nodeName === 'plist',\n    'malformed document. First element should be <plist>'\n  );\n  var plist = parsePlistXML(doc.documentElement);\n\n  // the root <plist> node gets interpreted as an Array,\n  // so pull out the inner data first\n  if (plist.length == 1) plist = plist[0];\n\n  return plist;\n}\n\n/**\n * Convert an XML based plist document into a JSON representation.\n *\n * @param {Object} xml_node - current XML node in the plist\n * @returns {Mixed} built up JSON object\n * @api private\n */\n\nfunction parsePlistXML (node) {\n  var i, new_obj, key, val, new_arr, res, counter, type;\n\n  if (!node)\n    return null;\n\n  if (node.nodeName === 'plist') {\n    new_arr = [];\n    if (isEmptyNode(node)) {\n      return new_arr;\n    }\n    for (i=0; i < node.childNodes.length; i++) {\n      if (!shouldIgnoreNode(node.childNodes[i])) {\n        new_arr.push( parsePlistXML(node.childNodes[i]));\n      }\n    }\n    return new_arr;\n  } else if (node.nodeName === 'dict') {\n    new_obj = {};\n    key = null;\n    counter = 0;\n    if (isEmptyNode(node)) {\n      return new_obj;\n    }\n    for (i=0; i < node.childNodes.length; i++) {\n      if (shouldIgnoreNode(node.childNodes[i])) continue;\n      if (counter % 2 === 0) {\n        invariant(\n          node.childNodes[i].nodeName === 'key',\n          'Missing key while parsing <dict/>.'\n        );\n        key = parsePlistXML(node.childNodes[i]);\n      } else {\n        invariant(\n          node.childNodes[i].nodeName !== 'key',\n          'Unexpected key \"'\n            + parsePlistXML(node.childNodes[i])\n            + '\" while parsing <dict/>.'\n        );\n        new_obj[key] = parsePlistXML(node.childNodes[i]);\n      }\n      counter += 1;\n    }\n    if (counter % 2 === 1) {\n      new_obj[key] = '';\n    }\n    \n    return new_obj;\n\n  } else if (node.nodeName === 'array') {\n    new_arr = [];\n    if (isEmptyNode(node)) {\n      return new_arr;\n    }\n    for (i=0; i < node.childNodes.length; i++) {\n      if (!shouldIgnoreNode(node.childNodes[i])) {\n        res = parsePlistXML(node.childNodes[i]);\n        if (null != res) new_arr.push(res);\n      }\n    }\n    return new_arr;\n\n  } else if (node.nodeName === '#text') {\n    // TODO: what should we do with text types? (CDATA sections)\n\n  } else if (node.nodeName === 'key') {\n    if (isEmptyNode(node)) {\n      return '';\n    }\n\n    invariant(\n      node.childNodes[0].nodeValue !== '__proto__',\n      '__proto__ keys can lead to prototype pollution. More details on CVE-2022-22912'\n    );\n\n    return node.childNodes[0].nodeValue;\n  } else if (node.nodeName === 'string') {\n    res = '';\n    if (isEmptyNode(node)) {\n      return res;\n    }\n    for (i=0; i < node.childNodes.length; i++) {\n      var type = node.childNodes[i].nodeType;\n      if (type === TEXT_NODE || type === CDATA_NODE) {\n        res += node.childNodes[i].nodeValue;\n      }\n    }\n    return res;\n\n  } else if (node.nodeName === 'integer') {\n    invariant(\n      !isEmptyNode(node),\n      'Cannot parse \"\" as integer.'\n    );\n    return parseInt(node.childNodes[0].nodeValue, 10);\n\n  } else if (node.nodeName === 'real') {\n    invariant(\n      !isEmptyNode(node),\n      'Cannot parse \"\" as real.'\n    );\n    res = '';\n    for (i=0; i < node.childNodes.length; i++) {\n      if (node.childNodes[i].nodeType === TEXT_NODE) {\n        res += node.childNodes[i].nodeValue;\n      }\n    }\n    return parseFloat(res);\n\n  } else if (node.nodeName === 'data') {\n    res = '';\n    if (isEmptyNode(node)) {\n      return Buffer.from(res, 'base64');\n    }\n    for (i=0; i < node.childNodes.length; i++) {\n      if (node.childNodes[i].nodeType === TEXT_NODE) {\n        res += node.childNodes[i].nodeValue.replace(/\\s+/g, '');\n      }\n    }\n    return Buffer.from(res, 'base64');\n\n  } else if (node.nodeName === 'date') {\n    invariant(\n      !isEmptyNode(node),\n      'Cannot parse \"\" as Date.'\n    )\n    return new Date(node.childNodes[0].nodeValue);\n\n  } else if (node.nodeName === 'null') {\n    return null;\n\n  } else if (node.nodeName === 'true') {\n    return true;\n\n  } else if (node.nodeName === 'false') {\n    return false;\n  } else {\n    throw new Error('Invalid PLIST tag ' + node.nodeName);\n  }\n}\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Copies all enumerable own properties from `sources` to `target`\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function(target, ...sources) {\n    var i, key, len, source;\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  // Determines if `val` is a Function object\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  // Determines if `val` is an Object\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  // Determines if `val` is an Array\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  // Determines if `val` is an empty Array or an Object with no own properties\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  // Determines if `val` is a plain Object\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  // Gets the primitive value of an object\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Implements the DOMImplementation interface\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = class XMLDOMImplementation {\n    // Tests if the DOM implementation implements a specific feature.\n\n    // `feature` package name of the feature to test. In Level 1, the\n    //           legal values are \"HTML\" and \"XML\" (case-insensitive).\n    // `version` version number of the package name to test. \n    //           In Level 1, this is the string \"1.0\". If the version is \n    //           not specified, supporting any version of the feature will \n    //           cause the method to return true.\n    hasFeature(feature, version) {\n      return true;\n    }\n\n    // Creates a new document type declaration.\n\n    // `qualifiedName` qualified name of the document type to be created\n    // `publicId` public identifier of the external subset\n    // `systemId` system identifier of the external subset\n    createDocumentType(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    }\n\n    // Creates a new document.\n\n    // `namespaceURI` namespace URI of the document element to create\n    // `qualifiedName` the qualified name of the document to be created\n    // `doctype` the type of document to be created or null\n    createDocument(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    }\n\n    // Creates a new HTML document.\n\n    // `title` document title\n    createHTMLDocument(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    }\n\n    // Returns a specialized object which implements the specialized APIs \n    // of the specified feature and version.\n\n    // `feature` name of the feature requested.\n    // `version` version number of the feature to test\n    getFeature(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Represents the error handler for DOM operations\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = class XMLDOMErrorHandler {\n    // Initializes a new instance of `XMLDOMErrorHandler`\n\n    constructor() {}\n\n    // Called on the error handler when an error occurs.\n\n    // `error` the error message as a string\n    handleError(error) {\n      throw new Error(error);\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Represents a list of string entries\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    class XMLDOMStringList {\n      // Initializes a new instance of `XMLDOMStringList`\n      // This is just a wrapper around an ordinary\n      // JS array.\n\n      // `arr` the array of string values\n      constructor(arr) {\n        this.arr = arr || [];\n      }\n\n      // Returns the indexth item in the collection.\n\n      // `index` index into the collection\n      item(index) {\n        return this.arr[index] || null;\n      }\n\n      // Test if a string is part of this DOMStringList.\n\n      // `str` the string to look for\n      contains(str) {\n        return this.arr.indexOf(str) !== -1;\n      }\n\n    };\n\n    // Returns the number of strings in the list.\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    return XMLDOMStringList;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  // Implements the DOMConfiguration interface\n  module.exports = XMLDOMConfiguration = (function() {\n    class XMLDOMConfiguration {\n      constructor() {\n        var clonedSelf;\n        this.defaultParams = {\n          \"canonical-form\": false,\n          \"cdata-sections\": false,\n          \"comments\": false,\n          \"datatype-normalization\": false,\n          \"element-content-whitespace\": true,\n          \"entities\": true,\n          \"error-handler\": new XMLDOMErrorHandler(),\n          \"infoset\": true,\n          \"validate-if-schema\": false,\n          \"namespaces\": true,\n          \"namespace-declarations\": true,\n          \"normalize-characters\": false,\n          \"schema-location\": '',\n          \"schema-type\": '',\n          \"split-cdata-sections\": true,\n          \"validate\": false,\n          \"well-formed\": true\n        };\n        this.params = clonedSelf = Object.create(this.defaultParams);\n      }\n\n      // Gets the value of a parameter.\n\n      // `name` name of the parameter\n      getParameter(name) {\n        if (this.params.hasOwnProperty(name)) {\n          return this.params[name];\n        } else {\n          return null;\n        }\n      }\n\n      // Checks if setting a parameter to a specific value is supported.\n\n      // `name` name of the parameter\n      // `value` parameter value\n      canSetParameter(name, value) {\n        return true;\n      }\n\n      // Sets the value of a parameter.\n\n      // `name` name of the parameter\n      // `value` new value or null if the user wishes to unset the parameter\n      setParameter(name, value) {\n        if (value != null) {\n          return this.params[name] = value;\n        } else {\n          return delete this.params[name];\n        }\n      }\n\n    };\n\n    // Returns the list of parameter names\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    return XMLDOMConfiguration;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    // Numeric codes up to 200 are reserved to W3C for possible future use.\n    // Following are types internal to this library:\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  // Represents an attribute\n  module.exports = XMLAttribute = (function() {\n    class XMLAttribute {\n      // Initializes a new instance of `XMLAttribute`\n\n      // `parent` the parent node\n      // `name` attribute target\n      // `value` attribute value\n      constructor(parent, name, value) {\n        this.parent = parent;\n        if (this.parent) {\n          this.options = this.parent.options;\n          this.stringify = this.parent.stringify;\n        }\n        if (name == null) {\n          throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n        }\n        this.name = this.stringify.name(name);\n        this.value = this.stringify.attValue(value);\n        this.type = NodeType.Attribute;\n        // DOM level 3\n        this.isId = false;\n        this.schemaTypeInfo = null;\n      }\n\n      // Creates and returns a deep clone of `this`\n      clone() {\n        return Object.create(this);\n      }\n\n      // Converts the XML fragment to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n      }\n\n      \n      // Returns debug string for this node\n      debugInfo(name) {\n        name = name || this.name;\n        if (name == null) {\n          return \"parent: <\" + this.parent.name + \">\";\n        } else {\n          return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n        }\n      }\n\n      isEqualNode(node) {\n        if (node.namespaceURI !== this.namespaceURI) {\n          return false;\n        }\n        if (node.prefix !== this.prefix) {\n          return false;\n        }\n        if (node.localName !== this.localName) {\n          return false;\n        }\n        if (node.value !== this.value) {\n          return false;\n        }\n        return true;\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    // DOM level 3\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    // DOM level 4\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    return XMLAttribute;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Represents a map of nodes accessed by a string key\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    class XMLNamedNodeMap {\n      // Initializes a new instance of `XMLNamedNodeMap`\n      // This is just a wrapper around an ordinary\n      // JS object.\n\n      // `nodes` the object containing nodes.\n      constructor(nodes) {\n        this.nodes = nodes;\n      }\n\n      // Creates and returns a deep clone of `this`\n\n      clone() {\n        // this class should not be cloned since it wraps\n        // around a given object. The calling function should check\n        // whether the wrapped object is null and supply a new object\n        // (from the clone).\n        return this.nodes = null;\n      }\n\n      // DOM Level 1\n      getNamedItem(name) {\n        return this.nodes[name];\n      }\n\n      setNamedItem(node) {\n        var oldNode;\n        oldNode = this.nodes[node.nodeName];\n        this.nodes[node.nodeName] = node;\n        return oldNode || null;\n      }\n\n      removeNamedItem(name) {\n        var oldNode;\n        oldNode = this.nodes[name];\n        delete this.nodes[name];\n        return oldNode || null;\n      }\n\n      item(index) {\n        return this.nodes[Object.keys(this.nodes)[index]] || null;\n      }\n\n      // DOM level 2 functions to be implemented later\n      getNamedItemNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\");\n      }\n\n      setNamedItemNS(node) {\n        throw new Error(\"This DOM method is not implemented.\");\n      }\n\n      removeNamedItemNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\");\n      }\n\n    };\n\n    \n    // DOM level 1\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    return XMLNamedNodeMap;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject,\n    hasProp = {}.hasOwnProperty;\n\n  ({isObject, isFunction, getValue} = require('./Utility'));\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  // Represents an element of the XML document\n  module.exports = XMLElement = (function() {\n    class XMLElement extends XMLNode {\n      // Initializes a new instance of `XMLElement`\n\n      // `parent` the parent node\n      // `name` element name\n      // `attributes` an object containing name/value pairs of attributes\n      constructor(parent, name, attributes) {\n        var child, j, len, ref;\n        super(parent);\n        if (name == null) {\n          throw new Error(\"Missing element name. \" + this.debugInfo());\n        }\n        this.name = this.stringify.name(name);\n        this.type = NodeType.Element;\n        this.attribs = {};\n        this.schemaTypeInfo = null;\n        if (attributes != null) {\n          this.attribute(attributes);\n        }\n        // set properties if this is the root node\n        if (parent.type === NodeType.Document) {\n          this.isRoot = true;\n          this.documentObject = parent;\n          parent.rootObject = this;\n          // set dtd name\n          if (parent.children) {\n            ref = parent.children;\n            for (j = 0, len = ref.length; j < len; j++) {\n              child = ref[j];\n              if (child.type === NodeType.DocType) {\n                child.name = this.name;\n                break;\n              }\n            }\n          }\n        }\n      }\n\n      // Creates and returns a deep clone of `this`\n\n      clone() {\n        var att, attName, clonedSelf, ref;\n        clonedSelf = Object.create(this);\n        // remove document element\n        if (clonedSelf.isRoot) {\n          clonedSelf.documentObject = null;\n        }\n        // clone attributes\n        clonedSelf.attribs = {};\n        ref = this.attribs;\n        for (attName in ref) {\n          if (!hasProp.call(ref, attName)) continue;\n          att = ref[attName];\n          clonedSelf.attribs[attName] = att.clone();\n        }\n        // clone child nodes\n        clonedSelf.children = [];\n        this.children.forEach(function(child) {\n          var clonedChild;\n          clonedChild = child.clone();\n          clonedChild.parent = clonedSelf;\n          return clonedSelf.children.push(clonedChild);\n        });\n        return clonedSelf;\n      }\n\n      // Adds or modifies an attribute\n\n      // `name` attribute name\n      // `value` attribute value\n      attribute(name, value) {\n        var attName, attValue;\n        if (name != null) {\n          name = getValue(name);\n        }\n        if (isObject(name)) { // expand if object\n          for (attName in name) {\n            if (!hasProp.call(name, attName)) continue;\n            attValue = name[attName];\n            this.attribute(attName, attValue);\n          }\n        } else {\n          if (isFunction(value)) {\n            value = value.apply();\n          }\n          if (this.options.keepNullAttributes && (value == null)) {\n            this.attribs[name] = new XMLAttribute(this, name, \"\");\n          } else if (value != null) {\n            this.attribs[name] = new XMLAttribute(this, name, value);\n          }\n        }\n        return this;\n      }\n\n      // Removes an attribute\n\n      // `name` attribute name\n      removeAttribute(name) {\n        var attName, j, len;\n        // Also defined in DOM level 1\n        // removeAttribute(name) removes an attribute by name.\n        if (name == null) {\n          throw new Error(\"Missing attribute name. \" + this.debugInfo());\n        }\n        name = getValue(name);\n        if (Array.isArray(name)) { // expand if array\n          for (j = 0, len = name.length; j < len; j++) {\n            attName = name[j];\n            delete this.attribs[attName];\n          }\n        } else {\n          delete this.attribs[name];\n        }\n        return this;\n      }\n\n      // Converts the XML fragment to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      // `options.allowEmpty` do not self close empty element tags\n      toString(options) {\n        return this.options.writer.element(this, this.options.writer.filterOptions(options));\n      }\n\n      // Aliases\n      att(name, value) {\n        return this.attribute(name, value);\n      }\n\n      a(name, value) {\n        return this.attribute(name, value);\n      }\n\n      // DOM Level 1\n      getAttribute(name) {\n        if (this.attribs.hasOwnProperty(name)) {\n          return this.attribs[name].value;\n        } else {\n          return null;\n        }\n      }\n\n      setAttribute(name, value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getAttributeNode(name) {\n        if (this.attribs.hasOwnProperty(name)) {\n          return this.attribs[name];\n        } else {\n          return null;\n        }\n      }\n\n      setAttributeNode(newAttr) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      removeAttributeNode(oldAttr) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByTagName(name) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM Level 2\n      getAttributeNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      setAttributeNS(namespaceURI, qualifiedName, value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      removeAttributeNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getAttributeNodeNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      setAttributeNodeNS(newAttr) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByTagNameNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      hasAttribute(name) {\n        return this.attribs.hasOwnProperty(name);\n      }\n\n      hasAttributeNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM Level 3\n      setIdAttribute(name, isId) {\n        if (this.attribs.hasOwnProperty(name)) {\n          return this.attribs[name].isId;\n        } else {\n          return isId;\n        }\n      }\n\n      setIdAttributeNS(namespaceURI, localName, isId) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      setIdAttributeNode(idAttr, isId) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM Level 4\n      getElementsByTagName(tagname) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByTagNameNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByClassName(classNames) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      isEqualNode(node) {\n        var i, j, ref;\n        if (!super.isEqualNode(node)) {\n          return false;\n        }\n        if (node.namespaceURI !== this.namespaceURI) {\n          return false;\n        }\n        if (node.prefix !== this.prefix) {\n          return false;\n        }\n        if (node.localName !== this.localName) {\n          return false;\n        }\n        if (node.attribs.length !== this.attribs.length) {\n          return false;\n        }\n        for (i = j = 0, ref = this.attribs.length - 1; (0 <= ref ? j <= ref : j >= ref); i = 0 <= ref ? ++j : --j) {\n          if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    // DOM level 4\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    return XMLElement;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var XMLCharacterData, XMLNode;\n\n  XMLNode = require('./XMLNode');\n\n  // Represents a character data node\n  module.exports = XMLCharacterData = (function() {\n    class XMLCharacterData extends XMLNode {\n      // Initializes a new instance of `XMLCharacterData`\n\n      constructor(parent) {\n        super(parent);\n        this.value = '';\n      }\n\n      \n      // Creates and returns a deep clone of `this`\n      clone() {\n        return Object.create(this);\n      }\n\n      // DOM level 1 functions to be implemented later\n      substringData(offset, count) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      appendData(arg) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      insertData(offset, arg) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      deleteData(offset, count) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      replaceData(offset, count, arg) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      isEqualNode(node) {\n        if (!super.isEqualNode(node)) {\n          return false;\n        }\n        if (node.data !== this.data) {\n          return false;\n        }\n        return true;\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    // DOM level 3\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    return XMLCharacterData;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLCData, XMLCharacterData;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  // Represents a  CDATA node\n  module.exports = XMLCData = class XMLCData extends XMLCharacterData {\n    // Initializes a new instance of `XMLCData`\n\n    // `text` CDATA text\n    constructor(parent, text) {\n      super(parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    // Creates and returns a deep clone of `this`\n    clone() {\n      return Object.create(this);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLCharacterData, XMLComment;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  // Represents a comment node\n  module.exports = XMLComment = class XMLComment extends XMLCharacterData {\n    // Initializes a new instance of `XMLComment`\n\n    // `text` comment text\n    constructor(parent, text) {\n      super(parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    // Creates and returns a deep clone of `this`\n    clone() {\n      return Object.create(this);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject;\n\n  ({isObject} = require('./Utility'));\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents the XML declaration\n  module.exports = XMLDeclaration = class XMLDeclaration extends XMLNode {\n    // Initializes a new instance of `XMLDeclaration`\n\n    // `parent` the document object\n\n    // `version` A version number string, e.g. 1.0\n    // `encoding` Encoding declaration, e.g. UTF-8\n    // `standalone` standalone document declaration: true or false\n    constructor(parent, version, encoding, standalone) {\n      super(parent);\n      // arguments may also be passed as an object\n      if (isObject(version)) {\n        ({version, encoding, standalone} = version);\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    // Converts to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents an attribute list\n  module.exports = XMLDTDAttList = class XMLDTDAttList extends XMLNode {\n    // Initializes a new instance of `XMLDTDAttList`\n\n    // `parent` the parent `XMLDocType` element\n    // `elementName` the name of the element containing this attribute\n    // `attributeName` attribute name\n    // `attributeType` type of the attribute\n    // `defaultValueType` default value type (either #REQUIRED, #IMPLIED,\n    //                    #FIXED or #DEFAULT)\n    // `defaultValue` default value of the attribute\n    //                (only used for #FIXED or #DEFAULT)\n    constructor(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      super(parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject;\n\n  ({isObject} = require('./Utility'));\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents an entity declaration in the DTD\n  module.exports = XMLDTDEntity = (function() {\n    class XMLDTDEntity extends XMLNode {\n      // Initializes a new instance of `XMLDTDEntity`\n\n      // `parent` the parent `XMLDocType` element\n      // `pe` whether this is a parameter entity or a general entity\n      //      defaults to `false` (general entity)\n      // `name` the name of the entity\n      // `value` internal entity value or an object with external entity details\n      // `value.pubID` public identifier\n      // `value.sysID` system identifier\n      // `value.nData` notation declaration\n      constructor(parent, pe, name, value) {\n        super(parent);\n        if (name == null) {\n          throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n        }\n        if (value == null) {\n          throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n        }\n        this.pe = !!pe;\n        this.name = this.stringify.name(name);\n        this.type = NodeType.EntityDeclaration;\n        if (!isObject(value)) {\n          this.value = this.stringify.dtdEntityValue(value);\n          this.internal = true;\n        } else {\n          if (!value.pubID && !value.sysID) {\n            throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n          }\n          if (value.pubID && !value.sysID) {\n            throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n          }\n          this.internal = false;\n          if (value.pubID != null) {\n            this.pubID = this.stringify.dtdPubID(value.pubID);\n          }\n          if (value.sysID != null) {\n            this.sysID = this.stringify.dtdSysID(value.sysID);\n          }\n          if (value.nData != null) {\n            this.nData = this.stringify.dtdNData(value.nData);\n          }\n          if (this.pe && this.nData) {\n            throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n          }\n        }\n      }\n\n      // Converts the XML fragment to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    // DOM level 3\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    return XMLDTDEntity;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDTDElement, XMLNode;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents an attribute\n  module.exports = XMLDTDElement = class XMLDTDElement extends XMLNode {\n    // Initializes a new instance of `XMLDTDElement`\n\n    // `parent` the parent `XMLDocType` element\n    // `name` element name\n    // `value` element content (defaults to #PCDATA)\n    constructor(parent, name, value) {\n      super(parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents a NOTATION entry in the DTD\n  module.exports = XMLDTDNotation = (function() {\n    class XMLDTDNotation extends XMLNode {\n      // Initializes a new instance of `XMLDTDNotation`\n\n      // `parent` the parent `XMLDocType` element\n      // `name` the name of the notation\n      // `value` an object with external entity details\n      // `value.pubID` public identifier\n      // `value.sysID` system identifier\n      constructor(parent, name, value) {\n        super(parent);\n        if (name == null) {\n          throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n        }\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        this.name = this.stringify.name(name);\n        this.type = NodeType.NotationDeclaration;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n      }\n\n      // Converts the XML fragment to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    return XMLDTDNotation;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject;\n\n  ({isObject} = require('./Utility'));\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  // Represents doctype declaration\n  module.exports = XMLDocType = (function() {\n    class XMLDocType extends XMLNode {\n      // Initializes a new instance of `XMLDocType`\n\n      // `parent` the document object\n\n      // `pubID` public identifier of the external subset\n      // `sysID` system identifier of the external subset\n      constructor(parent, pubID, sysID) {\n        var child, i, len, ref;\n        super(parent);\n        this.type = NodeType.DocType;\n        // set DTD name to the name of the root node\n        if (parent.children) {\n          ref = parent.children;\n          for (i = 0, len = ref.length; i < len; i++) {\n            child = ref[i];\n            if (child.type === NodeType.Element) {\n              this.name = child.name;\n              break;\n            }\n          }\n        }\n        this.documentObject = parent;\n        // arguments may also be passed as an object\n        if (isObject(pubID)) {\n          ({pubID, sysID} = pubID);\n        }\n        if (sysID == null) {\n          [sysID, pubID] = [pubID, sysID];\n        }\n        if (pubID != null) {\n          this.pubID = this.stringify.dtdPubID(pubID);\n        }\n        if (sysID != null) {\n          this.sysID = this.stringify.dtdSysID(sysID);\n        }\n      }\n\n      // Creates an element type declaration\n\n      // `name` element name\n      // `value` element content (defaults to #PCDATA)\n      element(name, value) {\n        var child;\n        child = new XMLDTDElement(this, name, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates an attribute declaration\n\n      // `elementName` the name of the element containing this attribute\n      // `attributeName` attribute name\n      // `attributeType` type of the attribute (defaults to CDATA)\n      // `defaultValueType` default value type (either #REQUIRED, #IMPLIED, #FIXED or\n      //                    #DEFAULT) (defaults to #IMPLIED)\n      // `defaultValue` default value of the attribute\n      //                (only used for #FIXED or #DEFAULT)\n      attList(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n        var child;\n        child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a general entity declaration\n\n      // `name` the name of the entity\n      // `value` internal entity value or an object with external entity details\n      // `value.pubID` public identifier\n      // `value.sysID` system identifier\n      // `value.nData` notation declaration\n      entity(name, value) {\n        var child;\n        child = new XMLDTDEntity(this, false, name, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a parameter entity declaration\n\n      // `name` the name of the entity\n      // `value` internal entity value or an object with external entity details\n      // `value.pubID` public identifier\n      // `value.sysID` system identifier\n      pEntity(name, value) {\n        var child;\n        child = new XMLDTDEntity(this, true, name, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a NOTATION declaration\n\n      // `name` the name of the notation\n      // `value` an object with external entity details\n      // `value.pubID` public identifier\n      // `value.sysID` system identifier\n      notation(name, value) {\n        var child;\n        child = new XMLDTDNotation(this, name, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Converts to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n      }\n\n      // Aliases\n      ele(name, value) {\n        return this.element(name, value);\n      }\n\n      att(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n        return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      }\n\n      ent(name, value) {\n        return this.entity(name, value);\n      }\n\n      pent(name, value) {\n        return this.pEntity(name, value);\n      }\n\n      not(name, value) {\n        return this.notation(name, value);\n      }\n\n      up() {\n        return this.root() || this.documentObject;\n      }\n\n      isEqualNode(node) {\n        if (!super.isEqualNode(node)) {\n          return false;\n        }\n        if (node.name !== this.name) {\n          return false;\n        }\n        if (node.publicId !== this.publicId) {\n          return false;\n        }\n        if (node.systemId !== this.systemId) {\n          return false;\n        }\n        return true;\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    // DOM level 2\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    return XMLDocType;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLNode, XMLRaw;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  // Represents a  raw node\n  module.exports = XMLRaw = class XMLRaw extends XMLNode {\n    // Initializes a new instance of `XMLRaw`\n\n    // `text` raw text\n    constructor(parent, text) {\n      super(parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    // Creates and returns a deep clone of `this`\n    clone() {\n      return Object.create(this);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLCharacterData, XMLText;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  // Represents a text node\n  module.exports = XMLText = (function() {\n    class XMLText extends XMLCharacterData {\n      // Initializes a new instance of `XMLText`\n\n      // `text` element text\n      constructor(parent, text) {\n        super(parent);\n        if (text == null) {\n          throw new Error(\"Missing element text. \" + this.debugInfo());\n        }\n        this.name = \"#text\";\n        this.type = NodeType.Text;\n        this.value = this.stringify.text(text);\n      }\n\n      // Creates and returns a deep clone of `this`\n      clone() {\n        return Object.create(this);\n      }\n\n      // Converts the XML fragment to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.text(this, this.options.writer.filterOptions(options));\n      }\n\n      // DOM level 1 functions to be implemented later\n      splitText(offset) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM level 3 functions to be implemented later\n      replaceWholeText(content) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n    };\n\n    // DOM level 3\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    return XMLText;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  // Represents a processing instruction\n  module.exports = XMLProcessingInstruction = class XMLProcessingInstruction extends XMLCharacterData {\n    // Initializes a new instance of `XMLProcessingInstruction`\n\n    // `parent` the parent node\n    // `target` instruction target\n    // `value` instruction value\n    constructor(parent, target, value) {\n      super(parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    // Creates and returns a deep clone of `this`\n    clone() {\n      return Object.create(this);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    }\n\n    isEqualNode(node) {\n      if (!super.isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDummy, XMLNode;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  // Represents a  raw node\n  module.exports = XMLDummy = class XMLDummy extends XMLNode {\n    // Initializes a new instance of `XMLDummy`\n\n    // `XMLDummy` is a special node representing a node with \n    // a null value. Dummy nodes are created while recursively\n    // building the XML tree. Simply skipping null values doesn't\n    // work because that would break the recursive chain.\n    constructor(parent) {\n      super(parent);\n      this.type = NodeType.Dummy;\n    }\n\n    // Creates and returns a deep clone of `this`\n    clone() {\n      return Object.create(this);\n    }\n\n    // Converts the XML fragment to string\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation for pretty print\n    // `options.offset` how many indentations to add to every line for pretty print\n    // `options.newline` newline sequence for pretty print\n    toString(options) {\n      return '';\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Represents a list of nodes\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    class XMLNodeList {\n      // Initializes a new instance of `XMLNodeList`\n      // This is just a wrapper around an ordinary\n      // JS array.\n\n      // `nodes` the array containing nodes.\n      constructor(nodes) {\n        this.nodes = nodes;\n      }\n\n      // Creates and returns a deep clone of `this`\n\n      clone() {\n        // this class should not be cloned since it wraps\n        // around a given array. The calling function should check\n        // whether the wrapped array is null and supply a new array\n        // (from the clone).\n        return this.nodes = null;\n      }\n\n      // DOM Level 1\n      item(index) {\n        return this.nodes[index] || null;\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    return XMLNodeList;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject,\n    hasProp = {}.hasOwnProperty,\n    splice = [].splice;\n\n  ({isObject, isFunction, isEmpty, getValue} = require('./Utility'));\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  // Represents a generic XMl element\n  module.exports = XMLNode = (function() {\n    class XMLNode {\n      // Initializes a new instance of `XMLNode`\n\n      // `parent` the parent node\n      constructor(parent1) {\n        this.parent = parent1;\n        if (this.parent) {\n          this.options = this.parent.options;\n          this.stringify = this.parent.stringify;\n        }\n        this.value = null;\n        this.children = [];\n        this.baseURI = null;\n        // first execution, load dependencies that are otherwise\n        // circular (so we can't load them at the top)\n        if (!XMLElement) {\n          XMLElement = require('./XMLElement');\n          XMLCData = require('./XMLCData');\n          XMLComment = require('./XMLComment');\n          XMLDeclaration = require('./XMLDeclaration');\n          XMLDocType = require('./XMLDocType');\n          XMLRaw = require('./XMLRaw');\n          XMLText = require('./XMLText');\n          XMLProcessingInstruction = require('./XMLProcessingInstruction');\n          XMLDummy = require('./XMLDummy');\n          NodeType = require('./NodeType');\n          XMLNodeList = require('./XMLNodeList');\n          XMLNamedNodeMap = require('./XMLNamedNodeMap');\n          DocumentPosition = require('./DocumentPosition');\n        }\n      }\n\n      \n      // Sets the parent node of this node and its children recursively\n\n      // `parent` the parent node\n      setParent(parent) {\n        var child, j, len, ref1, results;\n        this.parent = parent;\n        if (parent) {\n          this.options = parent.options;\n          this.stringify = parent.stringify;\n        }\n        ref1 = this.children;\n        results = [];\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          results.push(child.setParent(this));\n        }\n        return results;\n      }\n\n      // Creates a child element node\n\n      // `name` node name or an object describing the XML tree\n      // `attributes` an object containing name/value pairs of attributes\n      // `text` element text\n      element(name, attributes, text) {\n        var childNode, item, j, k, key, lastChild, len, len1, val;\n        lastChild = null;\n        if (attributes === null && (text == null)) {\n          [attributes, text] = [{}, null];\n        }\n        if (attributes == null) {\n          attributes = {};\n        }\n        attributes = getValue(attributes);\n        // swap argument order: text <-> attributes\n        if (!isObject(attributes)) {\n          [text, attributes] = [attributes, text];\n        }\n        if (name != null) {\n          name = getValue(name);\n        }\n        // expand if array\n        if (Array.isArray(name)) {\n          for (j = 0, len = name.length; j < len; j++) {\n            item = name[j];\n            lastChild = this.element(item);\n          }\n        // evaluate if function\n        } else if (isFunction(name)) {\n          lastChild = this.element(name.apply());\n        // expand if object\n        } else if (isObject(name)) {\n          for (key in name) {\n            if (!hasProp.call(name, key)) continue;\n            val = name[key];\n            if (isFunction(val)) {\n              // evaluate if function\n              val = val.apply();\n            }\n            // assign attributes\n            if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n              lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n            // skip empty arrays\n            } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n              lastChild = this.dummy();\n            // empty objects produce one node\n            } else if (isObject(val) && isEmpty(val)) {\n              lastChild = this.element(key);\n            // skip null and undefined nodes\n            } else if (!this.options.keepNullNodes && (val == null)) {\n              lastChild = this.dummy();\n            \n            // expand list by creating child nodes\n            } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n              for (k = 0, len1 = val.length; k < len1; k++) {\n                item = val[k];\n                childNode = {};\n                childNode[key] = item;\n                lastChild = this.element(childNode);\n              }\n            \n            // expand child nodes under parent\n            } else if (isObject(val)) {\n              // if the key is #text expand child nodes under this node to support mixed content\n              if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n                lastChild = this.element(val);\n              } else {\n                lastChild = this.element(key);\n                lastChild.element(val);\n              }\n            } else {\n              \n              // text node\n              lastChild = this.element(key, val);\n            }\n          }\n        // skip null nodes\n        } else if (!this.options.keepNullNodes && text === null) {\n          lastChild = this.dummy();\n        } else {\n          // text node\n          if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n            lastChild = this.text(text);\n          // cdata node\n          } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n            lastChild = this.cdata(text);\n          // comment node\n          } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n            lastChild = this.comment(text);\n          // raw text node\n          } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n            lastChild = this.raw(text);\n          // processing instruction\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n          } else {\n            // element node\n            lastChild = this.node(name, attributes, text);\n          }\n        }\n        if (lastChild == null) {\n          throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n        }\n        return lastChild;\n      }\n\n      // Creates a child element node before the current node\n\n      // `name` node name or an object describing the XML tree\n      // `attributes` an object containing name/value pairs of attributes\n      // `text` element text\n      insertBefore(name, attributes, text) {\n        var child, i, newChild, refChild, removed;\n        // DOM level 1\n        // insertBefore(newChild, refChild) inserts the child node newChild before refChild\n        if (name != null ? name.type : void 0) {\n          newChild = name;\n          refChild = attributes;\n          newChild.setParent(this);\n          if (refChild) {\n            // temporarily remove children starting *with* refChild\n            i = children.indexOf(refChild);\n            removed = children.splice(i);\n            \n            // add the new child\n            children.push(newChild);\n            \n            // add back removed children after new child\n            Array.prototype.push.apply(children, removed);\n          } else {\n            children.push(newChild);\n          }\n          return newChild;\n        } else {\n          if (this.isRoot) {\n            throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n          }\n          \n          // temporarily remove children starting *with* this\n          i = this.parent.children.indexOf(this);\n          removed = this.parent.children.splice(i);\n          \n          // add the new child\n          child = this.parent.element(name, attributes, text);\n          \n          // add back removed children after new child\n          Array.prototype.push.apply(this.parent.children, removed);\n          return child;\n        }\n      }\n\n      // Creates a child element node after the current node\n\n      // `name` node name or an object describing the XML tree\n      // `attributes` an object containing name/value pairs of attributes\n      // `text` element text\n      insertAfter(name, attributes, text) {\n        var child, i, removed;\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        \n        // temporarily remove children starting *after* this\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i + 1);\n        \n        // add the new child\n        child = this.parent.element(name, attributes, text);\n        \n        // add back removed children after new child\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n\n      // Deletes a child element node\n\n      remove() {\n        var i, ref1;\n        if (this.isRoot) {\n          throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n        }\n        i = this.parent.children.indexOf(this);\n        splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;\n        return this.parent;\n      }\n\n      // Creates a node\n\n      // `name` name of the node\n      // `attributes` an object containing name/value pairs of attributes\n      // `text` element text\n      node(name, attributes, text) {\n        var child;\n        if (name != null) {\n          name = getValue(name);\n        }\n        attributes || (attributes = {});\n        attributes = getValue(attributes);\n        // swap argument order: text <-> attributes\n        if (!isObject(attributes)) {\n          [text, attributes] = [attributes, text];\n        }\n        child = new XMLElement(this, name, attributes);\n        if (text != null) {\n          child.text(text);\n        }\n        this.children.push(child);\n        return child;\n      }\n\n      // Creates a text node\n\n      // `value` element text\n      text(value) {\n        var child;\n        if (isObject(value)) {\n          this.element(value);\n        }\n        child = new XMLText(this, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a CDATA node\n\n      // `value` element text without CDATA delimiters\n      cdata(value) {\n        var child;\n        child = new XMLCData(this, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a comment node\n\n      // `value` comment text\n      comment(value) {\n        var child;\n        child = new XMLComment(this, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Creates a comment node before the current node\n\n      // `value` comment text\n      commentBefore(value) {\n        var child, i, removed;\n        // temporarily remove children starting *with* this\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        // add the new child\n        child = this.parent.comment(value);\n        // add back removed children after new child\n        Array.prototype.push.apply(this.parent.children, removed);\n        return this;\n      }\n\n      // Creates a comment node after the current node\n\n      // `value` comment text\n      commentAfter(value) {\n        var child, i, removed;\n        // temporarily remove children starting *after* this\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i + 1);\n        // add the new child\n        child = this.parent.comment(value);\n        // add back removed children after new child\n        Array.prototype.push.apply(this.parent.children, removed);\n        return this;\n      }\n\n      // Adds unescaped raw text\n\n      // `value` text\n      raw(value) {\n        var child;\n        child = new XMLRaw(this, value);\n        this.children.push(child);\n        return this;\n      }\n\n      // Adds a dummy node\n      dummy() {\n        var child;\n        child = new XMLDummy(this);\n        // Normally when a new node is created it is added to the child node collection.\n        // However, dummy nodes are never added to the XML tree. They are created while\n        // converting JS objects to XML nodes in order not to break the recursive function\n        // chain. They can be thought of as invisible nodes. They can be traversed through\n        // by using prev(), next(), up(), etc. functions but they do not exists in the tree.\n\n        // @children.push child\n        return child;\n      }\n\n      // Adds a processing instruction\n\n      // `target` instruction target\n      // `value` instruction value\n      instruction(target, value) {\n        var insTarget, insValue, instruction, j, len;\n        if (target != null) {\n          target = getValue(target);\n        }\n        if (value != null) {\n          value = getValue(value);\n        }\n        if (Array.isArray(target)) { // expand if array\n          for (j = 0, len = target.length; j < len; j++) {\n            insTarget = target[j];\n            this.instruction(insTarget);\n          }\n        } else if (isObject(target)) { // expand if object\n          for (insTarget in target) {\n            if (!hasProp.call(target, insTarget)) continue;\n            insValue = target[insTarget];\n            this.instruction(insTarget, insValue);\n          }\n        } else {\n          if (isFunction(value)) {\n            value = value.apply();\n          }\n          instruction = new XMLProcessingInstruction(this, target, value);\n          this.children.push(instruction);\n        }\n        return this;\n      }\n\n      // Creates a processing instruction node before the current node\n\n      // `target` instruction target\n      // `value` instruction value\n      instructionBefore(target, value) {\n        var child, i, removed;\n        // temporarily remove children starting *with* this\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        // add the new child\n        child = this.parent.instruction(target, value);\n        // add back removed children after new child\n        Array.prototype.push.apply(this.parent.children, removed);\n        return this;\n      }\n\n      // Creates a processing instruction node after the current node\n\n      // `target` instruction target\n      // `value` instruction value\n      instructionAfter(target, value) {\n        var child, i, removed;\n        // temporarily remove children starting *after* this\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i + 1);\n        // add the new child\n        child = this.parent.instruction(target, value);\n        // add back removed children after new child\n        Array.prototype.push.apply(this.parent.children, removed);\n        return this;\n      }\n\n      // Creates the xml declaration\n\n      // `version` A version number string, e.g. 1.0\n      // `encoding` Encoding declaration, e.g. UTF-8\n      // `standalone` standalone document declaration: true or false\n      declaration(version, encoding, standalone) {\n        var doc, xmldec;\n        doc = this.document();\n        xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n        // Replace XML declaration if exists, otherwise insert at top\n        if (doc.children.length === 0) {\n          doc.children.unshift(xmldec);\n        } else if (doc.children[0].type === NodeType.Declaration) {\n          doc.children[0] = xmldec;\n        } else {\n          doc.children.unshift(xmldec);\n        }\n        return doc.root() || doc;\n      }\n\n      // Creates the document type declaration\n\n      // `pubID` the public identifier of the external subset\n      // `sysID` the system identifier of the external subset\n      dtd(pubID, sysID) {\n        var child, doc, doctype, i, j, k, len, len1, ref1, ref2;\n        doc = this.document();\n        doctype = new XMLDocType(doc, pubID, sysID);\n        ref1 = doc.children;\n        // Replace DTD if exists\n        for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n          child = ref1[i];\n          if (child.type === NodeType.DocType) {\n            doc.children[i] = doctype;\n            return doctype;\n          }\n        }\n        ref2 = doc.children;\n        // insert before root node if the root node exists\n        for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {\n          child = ref2[i];\n          if (child.isRoot) {\n            doc.children.splice(i, 0, doctype);\n            return doctype;\n          }\n        }\n        // otherwise append to end\n        doc.children.push(doctype);\n        return doctype;\n      }\n\n      // Gets the parent node\n      up() {\n        if (this.isRoot) {\n          throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n        }\n        return this.parent;\n      }\n\n      // Gets the root node\n      root() {\n        var node;\n        node = this;\n        while (node) {\n          if (node.type === NodeType.Document) {\n            return node.rootObject;\n          } else if (node.isRoot) {\n            return node;\n          } else {\n            node = node.parent;\n          }\n        }\n      }\n\n      // Gets the node representing the XML document\n      document() {\n        var node;\n        node = this;\n        while (node) {\n          if (node.type === NodeType.Document) {\n            return node;\n          } else {\n            node = node.parent;\n          }\n        }\n      }\n\n      // Ends the document and converts string\n      end(options) {\n        return this.document().end(options);\n      }\n\n      // Gets the previous node\n      prev() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        if (i < 1) {\n          throw new Error(\"Already at the first node. \" + this.debugInfo());\n        }\n        return this.parent.children[i - 1];\n      }\n\n      // Gets the next node\n      next() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        if (i === -1 || i === this.parent.children.length - 1) {\n          throw new Error(\"Already at the last node. \" + this.debugInfo());\n        }\n        return this.parent.children[i + 1];\n      }\n\n      // Imports cloned root from another XML document\n\n      // `doc` the XML document to insert nodes from\n      importDocument(doc) {\n        var child, clonedRoot, j, len, ref1;\n        clonedRoot = doc.root().clone();\n        clonedRoot.parent = this;\n        clonedRoot.isRoot = false;\n        this.children.push(clonedRoot);\n        // set properties if imported element becomes the root node\n        if (this.type === NodeType.Document) {\n          clonedRoot.isRoot = true;\n          clonedRoot.documentObject = this;\n          this.rootObject = clonedRoot;\n          // set dtd name\n          if (this.children) {\n            ref1 = this.children;\n            for (j = 0, len = ref1.length; j < len; j++) {\n              child = ref1[j];\n              if (child.type === NodeType.DocType) {\n                child.name = clonedRoot.name;\n                break;\n              }\n            }\n          }\n        }\n        return this;\n      }\n\n      \n      // Returns debug string for this node\n      debugInfo(name) {\n        var ref1, ref2;\n        name = name || this.name;\n        if ((name == null) && !((ref1 = this.parent) != null ? ref1.name : void 0)) {\n          return \"\";\n        } else if (name == null) {\n          return \"parent: <\" + this.parent.name + \">\";\n        } else if (!((ref2 = this.parent) != null ? ref2.name : void 0)) {\n          return \"node: <\" + name + \">\";\n        } else {\n          return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n        }\n      }\n\n      // Aliases\n      ele(name, attributes, text) {\n        return this.element(name, attributes, text);\n      }\n\n      nod(name, attributes, text) {\n        return this.node(name, attributes, text);\n      }\n\n      txt(value) {\n        return this.text(value);\n      }\n\n      dat(value) {\n        return this.cdata(value);\n      }\n\n      com(value) {\n        return this.comment(value);\n      }\n\n      ins(target, value) {\n        return this.instruction(target, value);\n      }\n\n      doc() {\n        return this.document();\n      }\n\n      dec(version, encoding, standalone) {\n        return this.declaration(version, encoding, standalone);\n      }\n\n      e(name, attributes, text) {\n        return this.element(name, attributes, text);\n      }\n\n      n(name, attributes, text) {\n        return this.node(name, attributes, text);\n      }\n\n      t(value) {\n        return this.text(value);\n      }\n\n      d(value) {\n        return this.cdata(value);\n      }\n\n      c(value) {\n        return this.comment(value);\n      }\n\n      r(value) {\n        return this.raw(value);\n      }\n\n      i(target, value) {\n        return this.instruction(target, value);\n      }\n\n      u() {\n        return this.up();\n      }\n\n      // can be deprecated in a future release\n      importXMLBuilder(doc) {\n        return this.importDocument(doc);\n      }\n\n      // Adds or modifies an attribute.\n\n      // `name` attribute name\n      // `value` attribute value\n      attribute(name, value) {\n        throw new Error(\"attribute() applies to element nodes only.\");\n      }\n\n      att(name, value) {\n        return this.attribute(name, value);\n      }\n\n      a(name, value) {\n        return this.attribute(name, value);\n      }\n\n      // Removes an attribute\n\n      // `name` attribute name\n      removeAttribute(name) {\n        throw new Error(\"attribute() applies to element nodes only.\");\n      }\n\n      // DOM level 1 functions to be implemented later\n      replaceChild(newChild, oldChild) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      removeChild(oldChild) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      appendChild(newChild) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      hasChildNodes() {\n        return this.children.length !== 0;\n      }\n\n      cloneNode(deep) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      normalize() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM level 2\n      isSupported(feature, version) {\n        return true;\n      }\n\n      hasAttributes() {\n        return this.attribs.length !== 0;\n      }\n\n      // DOM level 3 functions to be implemented later\n      compareDocumentPosition(other) {\n        var ref, res;\n        ref = this;\n        if (ref === other) {\n          return 0;\n        } else if (this.document() !== other.document()) {\n          res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n          if (Math.random() < 0.5) {\n            res |= DocumentPosition.Preceding;\n          } else {\n            res |= DocumentPosition.Following;\n          }\n          return res;\n        } else if (ref.isAncestor(other)) {\n          return DocumentPosition.Contains | DocumentPosition.Preceding;\n        } else if (ref.isDescendant(other)) {\n          return DocumentPosition.Contains | DocumentPosition.Following;\n        } else if (ref.isPreceding(other)) {\n          return DocumentPosition.Preceding;\n        } else {\n          return DocumentPosition.Following;\n        }\n      }\n\n      isSameNode(other) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      lookupPrefix(namespaceURI) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      isDefaultNamespace(namespaceURI) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      lookupNamespaceURI(prefix) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      isEqualNode(node) {\n        var i, j, ref1;\n        if (node.nodeType !== this.nodeType) {\n          return false;\n        }\n        if (node.children.length !== this.children.length) {\n          return false;\n        }\n        for (i = j = 0, ref1 = this.children.length - 1; (0 <= ref1 ? j <= ref1 : j >= ref1); i = 0 <= ref1 ? ++j : --j) {\n          if (!this.children[i].isEqualNode(node.children[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n\n      getFeature(feature, version) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      setUserData(key, data, handler) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getUserData(key) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // Returns true if other is an inclusive descendant of node,\n      // and false otherwise.\n      contains(other) {\n        if (!other) {\n          return false;\n        }\n        return other === this || this.isDescendant(other);\n      }\n\n      // An object A is called a descendant of an object B, if either A is \n      // a child of B or A is a child of an object C that is a descendant of B.\n      isDescendant(node) {\n        var child, isDescendantChild, j, len, ref1;\n        ref1 = this.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          if (node === child) {\n            return true;\n          }\n          isDescendantChild = child.isDescendant(node);\n          if (isDescendantChild) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      // An object A is called an ancestor of an object B if and only if\n      // B is a descendant of A.\n      isAncestor(node) {\n        return node.isDescendant(this);\n      }\n\n      // An object A is preceding an object B if A and B are in the \n      // same tree and A comes before B in tree order.\n      isPreceding(node) {\n        var nodePos, thisPos;\n        nodePos = this.treePosition(node);\n        thisPos = this.treePosition(this);\n        if (nodePos === -1 || thisPos === -1) {\n          return false;\n        } else {\n          return nodePos < thisPos;\n        }\n      }\n\n      // An object A is folllowing an object B if A and B are in the \n      // same tree and A comes after B in tree order.\n      isFollowing(node) {\n        var nodePos, thisPos;\n        nodePos = this.treePosition(node);\n        thisPos = this.treePosition(this);\n        if (nodePos === -1 || thisPos === -1) {\n          return false;\n        } else {\n          return nodePos > thisPos;\n        }\n      }\n\n      // Returns the preorder position of the given node in the tree, or -1\n      // if the node is not in the tree.\n      treePosition(node) {\n        var found, pos;\n        pos = 0;\n        found = false;\n        this.foreachTreeNode(this.document(), function(childNode) {\n          pos++;\n          if (!found && childNode === node) {\n            return found = true;\n          }\n        });\n        if (found) {\n          return pos;\n        } else {\n          return -1;\n        }\n      }\n\n      \n      // Depth-first preorder traversal through the XML tree\n      foreachTreeNode(node, func) {\n        var child, j, len, ref1, res;\n        node || (node = this.document());\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          if (res = func(child)) {\n            return res;\n          } else {\n            res = this.foreachTreeNode(child, func);\n            if (res) {\n              return res;\n            }\n          }\n        }\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    // DOM level 3\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref1, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref1 = this.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    return XMLNode;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  // Converts values to strings\n  var XMLStringifier,\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    class XMLStringifier {\n      // Initializes a new instance of `XMLStringifier`\n\n      // `options.version` The version number string of the XML spec to validate against, e.g. 1.0\n      // `options.noDoubleEncoding` whether existing html entities are encoded: true or false\n      // `options.stringify` a set of functions to use for converting values to strings\n      // `options.noValidation` whether values will be validated and escaped or returned as is\n      // `options.invalidCharReplacement` a character to replace invalid characters and disable character validation\n      constructor(options) {\n        var key, ref, value;\n        // Checks whether the given string contains legal characters\n        // Fails with an exception on error\n\n        // `str` the string to check\n        this.assertLegalChar = this.assertLegalChar.bind(this);\n        // Checks whether the given string contains legal characters for a name\n        // Fails with an exception on error\n\n        // `str` the string to check\n        this.assertLegalName = this.assertLegalName.bind(this);\n        options || (options = {});\n        this.options = options;\n        if (!this.options.version) {\n          this.options.version = '1.0';\n        }\n        ref = options.stringify || {};\n        for (key in ref) {\n          if (!hasProp.call(ref, key)) continue;\n          value = ref[key];\n          this[key] = value;\n        }\n      }\n\n      // Defaults\n      name(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalName('' + val || '');\n      }\n\n      text(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar(this.textEscape('' + val || ''));\n      }\n\n      cdata(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        val = '' + val || '';\n        val = val.replace(']]>', ']]]]><![CDATA[>');\n        return this.assertLegalChar(val);\n      }\n\n      comment(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        val = '' + val || '';\n        if (val.match(/--/)) {\n          throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n        }\n        return this.assertLegalChar(val);\n      }\n\n      raw(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return '' + val || '';\n      }\n\n      attValue(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n      }\n\n      insTarget(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      insValue(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        val = '' + val || '';\n        if (val.match(/\\?>/)) {\n          throw new Error(\"Invalid processing instruction value: \" + val);\n        }\n        return this.assertLegalChar(val);\n      }\n\n      xmlVersion(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        val = '' + val || '';\n        if (!val.match(/1\\.[0-9]+/)) {\n          throw new Error(\"Invalid version number: \" + val);\n        }\n        return val;\n      }\n\n      xmlEncoding(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        val = '' + val || '';\n        if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n          throw new Error(\"Invalid encoding: \" + val);\n        }\n        return this.assertLegalChar(val);\n      }\n\n      xmlStandalone(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        if (val) {\n          return \"yes\";\n        } else {\n          return \"no\";\n        }\n      }\n\n      dtdPubID(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdSysID(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdElementValue(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdAttType(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdAttDefault(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdEntityValue(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      dtdNData(val) {\n        if (this.options.noValidation) {\n          return val;\n        }\n        return this.assertLegalChar('' + val || '');\n      }\n\n      assertLegalChar(str) {\n        var regex, res;\n        if (this.options.noValidation) {\n          return str;\n        }\n        if (this.options.version === '1.0') {\n          // Valid characters from https://www.w3.org/TR/xml/#charsets\n          // any Unicode character, excluding the surrogate blocks, FFFE, and FFFF.\n          // #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]\n          // This ES5 compatible Regexp has been generated using the \"regenerate\" NPM module:\n          //   let xml_10_InvalidChars = regenerate()\n          //     .addRange(0x0000, 0x0008)\n          //     .add(0x000B, 0x000C)\n          //     .addRange(0x000E, 0x001F)\n          //     .addRange(0xD800, 0xDFFF)\n          //     .addRange(0xFFFE, 0xFFFF)\n          regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/g;\n          if (this.options.invalidCharReplacement !== void 0) {\n            str = str.replace(regex, this.options.invalidCharReplacement);\n          } else if (res = str.match(regex)) {\n            throw new Error(`Invalid character in string: ${str} at index ${res.index}`);\n          }\n        } else if (this.options.version === '1.1') {\n          // Valid characters from https://www.w3.org/TR/xml11/#charsets\n          // any Unicode character, excluding the surrogate blocks, FFFE, and FFFF.\n          // [#x1-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]\n          // This ES5 compatible Regexp has been generated using the \"regenerate\" NPM module:\n          //   let xml_11_InvalidChars = regenerate()\n          //     .add(0x0000)\n          //     .addRange(0xD800, 0xDFFF)\n          //     .addRange(0xFFFE, 0xFFFF)\n          regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/g;\n          if (this.options.invalidCharReplacement !== void 0) {\n            str = str.replace(regex, this.options.invalidCharReplacement);\n          } else if (res = str.match(regex)) {\n            throw new Error(`Invalid character in string: ${str} at index ${res.index}`);\n          }\n        }\n        return str;\n      }\n\n      assertLegalName(str) {\n        var regex;\n        if (this.options.noValidation) {\n          return str;\n        }\n        str = this.assertLegalChar(str);\n        regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n        if (!str.match(regex)) {\n          throw new Error(`Invalid character in name: ${str}`);\n        }\n        return str;\n      }\n\n      // Escapes special characters in text\n\n      // See http://www.w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping\n\n      // `str` the string to escape\n      textEscape(str) {\n        var ampregex;\n        if (this.options.noValidation) {\n          return str;\n        }\n        ampregex = this.options.noDoubleEncoding ? /(?!&(lt|gt|amp|apos|quot);)&/g : /&/g;\n        return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n      }\n\n      // Escapes special characters in attribute values\n\n      // See http://www.w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping\n\n      // `str` the string to escape\n      attEscape(str) {\n        var ampregex;\n        if (this.options.noValidation) {\n          return str;\n        }\n        ampregex = this.options.noDoubleEncoding ? /(?!&(lt|gt|amp|apos|quot);)&/g : /&/g;\n        return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n      }\n\n    };\n\n    // strings to match while converting from JS objects\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    return XMLStringifier;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  ({assign} = require('./Utility'));\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  // Base class for XML writers\n  module.exports = XMLWriterBase = class XMLWriterBase {\n    // Initializes a new instance of `XMLWriterBase`\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation string\n    // `options.newline` newline sequence\n    // `options.offset` a fixed number of indentations to add to every line\n    // `options.width` maximum column width\n    // `options.allowEmpty` do not self close empty element tags\n    // 'options.dontPrettyTextNodes' if any text is present in node, don't indent or LF\n    // `options.spaceBeforeSlash` add a space before the closing slash of empty elements\n    constructor(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    // Filters writer options and provides defaults\n\n    // `options` writer options\n    filterOptions(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.width = (ref3 = options.width) != null ? ref3 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref4 = (ref5 = options.dontPrettyTextNodes) != null ? ref5 : options.dontprettytextnodes) != null ? ref4 : 0;\n      filteredOptions.spaceBeforeSlash = (ref6 = (ref7 = options.spaceBeforeSlash) != null ? ref7 : options.spacebeforeslash) != null ? ref6 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    }\n\n    // Returns the indentation string for the current level\n\n    // `node` current node\n    // `options` writer options\n    // `level` current indentation level\n    indent(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    }\n\n    // Returns the newline string\n\n    // `node` current node\n    // `options` writer options\n    // `level` current indentation level\n    endline(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    }\n\n    attribute(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      if (options.pretty && options.width > 0) {\n        r = att.name + '=\"' + att.value + '\"';\n      } else {\n        r = ' ' + att.name + '=\"' + att.value + '\"';\n      }\n      this.closeAttribute(att, options, level);\n      return r;\n    }\n\n    cdata(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    comment(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    declaration(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    docType(node, options, level) {\n      var child, i, len1, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      // external identifier\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      // internal subset\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len1 = ref.length; i < len1; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      // close tag\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    element(node, options, level) {\n      var att, attLen, child, childNodeCount, firstChildNode, i, j, len, len1, len2, name, prettySuppressed, r, ratt, ref, ref1, ref2, ref3, rline;\n      level || (level = 0);\n      prettySuppressed = false;\n      // open tag\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<' + node.name;\n      // attributes\n      if (options.pretty && options.width > 0) {\n        len = r.length;\n        ref = node.attribs;\n        for (name in ref) {\n          if (!hasProp.call(ref, name)) continue;\n          att = ref[name];\n          ratt = this.attribute(att, options, level);\n          attLen = ratt.length;\n          if (len + attLen > options.width) {\n            rline = this.indent(node, options, level + 1) + ratt;\n            r += this.endline(node, options, level) + rline;\n            len = rline.length;\n          } else {\n            rline = ' ' + ratt;\n            r += rline;\n            len += rline.length;\n          }\n        }\n      } else {\n        ref1 = node.attribs;\n        for (name in ref1) {\n          if (!hasProp.call(ref1, name)) continue;\n          att = ref1[name];\n          r += this.attribute(att, options, level);\n        }\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw || e.type === NodeType.CData) && e.value === '';\n      })) {\n        // empty element\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw || firstChildNode.type === NodeType.CData) && (firstChildNode.value != null)) {\n        // do not indent text-only nodes\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        // if ANY are a text node, then suppress pretty now\n        if (options.dontPrettyTextNodes) {\n          ref2 = node.children;\n          for (i = 0, len1 = ref2.length; i < len1; i++) {\n            child = ref2[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw || child.type === NodeType.CData) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        // close the opening tag, after dealing with newline\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref3 = node.children;\n        // inner tags\n        for (j = 0, len2 = ref3.length; j < len2; j++) {\n          child = ref3[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        // close tag\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    writeChildNode(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    }\n\n    processingInstruction(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    raw(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    text(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    dtdAttList(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    dtdElement(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    dtdEntity(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    dtdNotation(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    }\n\n    openNode(node, options, level) {}\n\n    closeNode(node, options, level) {}\n\n    openAttribute(att, options, level) {}\n\n    closeAttribute(att, options, level) {}\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var XMLStringWriter, XMLWriterBase;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  // Prints XML nodes as plain text\n  module.exports = XMLStringWriter = class XMLStringWriter extends XMLWriterBase {\n    // Initializes a new instance of `XMLStringWriter`\n\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation string\n    // `options.newline` newline sequence\n    // `options.offset` a fixed number of indentations to add to every line\n    // `options.allowEmpty` do not self close empty element tags\n    // 'options.dontPrettyTextNodes' if any text is present in node, don't indent or LF\n    // `options.spaceBeforeSlash` add a space before the closing slash of empty elements\n    constructor(options) {\n      super(options);\n    }\n\n    document(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      // remove trailing newline\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject;\n\n  ({isPlainObject} = require('./Utility'));\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  // Represents an XML builder\n  module.exports = XMLDocument = (function() {\n    class XMLDocument extends XMLNode {\n      // Initializes a new instance of `XMLDocument`\n\n      // `options.keepNullNodes` whether nodes with null values will be kept\n      //     or ignored: true or false\n      // `options.keepNullAttributes` whether attributes with null values will be\n      //     kept or ignored: true or false\n      // `options.ignoreDecorators` whether decorator strings will be ignored when\n      //     converting JS objects: true or false\n      // `options.separateArrayItems` whether array items are created as separate\n      //     nodes when passed as an object value: true or false\n      // `options.noDoubleEncoding` whether existing html entities are encoded:\n      //     true or false\n      // `options.stringify` a set of functions to use for converting values to\n      //     strings\n      // `options.writer` the default XML writer to use for converting nodes to\n      //     string. If the default writer is not set, the built-in XMLStringWriter\n      //     will be used instead.\n      constructor(options) {\n        super(null);\n        this.name = \"#document\";\n        this.type = NodeType.Document;\n        this.documentURI = null;\n        this.domConfig = new XMLDOMConfiguration();\n        options || (options = {});\n        if (!options.writer) {\n          options.writer = new XMLStringWriter();\n        }\n        this.options = options;\n        this.stringify = new XMLStringifier(options);\n      }\n\n      // Ends the document and passes it to the given XML writer\n\n      // `writer` is either an XML writer or a plain object to pass to the\n      // constructor of the default XML writer. The default writer is assigned when\n      // creating the XML document. Following flags are recognized by the\n      // built-in XMLStringWriter:\n      //   `writer.pretty` pretty prints the result\n      //   `writer.indent` indentation for pretty print\n      //   `writer.offset` how many indentations to add to every line for pretty print\n      //   `writer.newline` newline sequence for pretty print\n      end(writer) {\n        var writerOptions;\n        writerOptions = {};\n        if (!writer) {\n          writer = this.options.writer;\n        } else if (isPlainObject(writer)) {\n          writerOptions = writer;\n          writer = this.options.writer;\n        }\n        return writer.document(this, writer.filterOptions(writerOptions));\n      }\n\n      // Converts the XML document to string\n\n      // `options.pretty` pretty prints the result\n      // `options.indent` indentation for pretty print\n      // `options.offset` how many indentations to add to every line for pretty print\n      // `options.newline` newline sequence for pretty print\n      toString(options) {\n        return this.options.writer.document(this, this.options.writer.filterOptions(options));\n      }\n\n      // DOM level 1 functions to be implemented later\n      createElement(tagName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createDocumentFragment() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createTextNode(data) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createComment(data) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createCDATASection(data) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createProcessingInstruction(target, data) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createAttribute(name) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createEntityReference(name) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByTagName(tagname) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM level 2 functions to be implemented later\n      importNode(importedNode, deep) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createElementNS(namespaceURI, qualifiedName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createAttributeNS(namespaceURI, qualifiedName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementsByTagNameNS(namespaceURI, localName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      getElementById(elementId) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM level 3 functions to be implemented later\n      adoptNode(source) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      normalizeDocument() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      renameNode(node, namespaceURI, qualifiedName) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      // DOM level 4 functions to be implemented later\n      getElementsByClassName(classNames) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createEvent(eventInterface) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createRange() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createNodeIterator(root, whatToShow, filter) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n      createTreeWalker(root, whatToShow, filter) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n\n    };\n\n    // DOM level 1\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    // DOM level 3\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    // DOM level 4\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    return XMLDocument;\n\n  }).call(this);\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject,\n    hasProp = {}.hasOwnProperty;\n\n  ({isObject, isFunction, isPlainObject, getValue} = require('./Utility'));\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  // Represents an XML builder\n  module.exports = XMLDocumentCB = class XMLDocumentCB {\n    // Initializes a new instance of `XMLDocumentCB`\n\n    // `options.keepNullNodes` whether nodes with null values will be kept\n    //     or ignored: true or false\n    // `options.keepNullAttributes` whether attributes with null values will be\n    //     kept or ignored: true or false\n    // `options.ignoreDecorators` whether decorator strings will be ignored when\n    //     converting JS objects: true or false\n    // `options.separateArrayItems` whether array items are created as separate\n    //     nodes when passed as an object value: true or false\n    // `options.noDoubleEncoding` whether existing html entities are encoded:\n    //     true or false\n    // `options.stringify` a set of functions to use for converting values to\n    //     strings\n    // `options.writer` the default XML writer to use for converting nodes to\n    //     string. If the default writer is not set, the built-in XMLStringWriter\n    //     will be used instead.\n\n    // `onData` the function to be called when a new chunk of XML is output. The\n    //          string containing the XML chunk is passed to `onData` as its first\n    //          argument, and the current indentation level as its second argument.\n    // `onEnd`  the function to be called when the XML document is completed with\n    //          `end`. `onEnd` does not receive any arguments.\n    constructor(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    // Creates a child element node from the given XMLNode\n\n    // `node` the child node\n    createChildNode(node) {\n      var att, attName, attributes, child, i, len, ref, ref1;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref = node.attribs;\n          for (attName in ref) {\n            if (!hasProp.call(ref, attName)) continue;\n            att = ref[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref1 = node.children;\n      // write child nodes recursively\n      for (i = 0, len = ref1.length; i < len; i++) {\n        child = ref1[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    }\n\n    // Creates a dummy node\n\n    dummy() {\n      // no-op, just return this\n      return this;\n    }\n\n    // Creates a node\n\n    // `name` name of the node\n    // `attributes` an object containing name/value pairs of attributes\n    // `text` element text\n    node(name, attributes, text) {\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      // swap argument order: text <-> attributes\n      if (!isObject(attributes)) {\n        [text, attributes] = [attributes, text];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    }\n\n    // Creates a child element node or an element type declaration when called\n    // inside the DTD\n\n    // `name` name of the node\n    // `attributes` an object containing name/value pairs of attributes\n    // `text` element text\n    element(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement(...arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref = root.children;\n          for (i = 0, len = ref.length; i < len; i++) {\n            child = ref[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    }\n\n    // Adds or modifies an attribute\n\n    // `name` attribute name\n    // `value` attribute value\n    attribute(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) { // expand if object\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    }\n\n    // Creates a text node\n\n    // `value` element text\n    text(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates a CDATA node\n\n    // `value` element text without CDATA delimiters\n    cdata(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates a comment node\n\n    // `value` comment text\n    comment(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Adds unescaped raw text\n\n    // `value` text\n    raw(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Adds a processing instruction\n\n    // `target` instruction target\n    // `value` instruction value\n    instruction(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) { // expand if array\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) { // expand if object\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    }\n\n    // Creates the xml declaration\n\n    // `version` A version number string, e.g. 1.0\n    // `encoding` Encoding declaration, e.g. UTF-8\n    // `standalone` standalone document declaration: true or false\n    declaration(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates the document type declaration\n\n    // `root`  the name of the root node\n    // `pubID` the public identifier of the external subset\n    // `sysID` the system identifier of the external subset\n    doctype(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    }\n\n    // Creates an element type declaration\n\n    // `name` element name\n    // `value` element content (defaults to #PCDATA)\n    dtdElement(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates an attribute declaration\n\n    // `elementName` the name of the element containing this attribute\n    // `attributeName` attribute name\n    // `attributeType` type of the attribute (defaults to CDATA)\n    // `defaultValueType` default value type (either #REQUIRED, #IMPLIED, #FIXED or\n    //                    #DEFAULT) (defaults to #IMPLIED)\n    // `defaultValue` default value of the attribute\n    //                (only used for #FIXED or #DEFAULT)\n    attList(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates a general entity declaration\n\n    // `name` the name of the entity\n    // `value` internal entity value or an object with external entity details\n    // `value.pubID` public identifier\n    // `value.sysID` system identifier\n    // `value.nData` notation declaration\n    entity(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates a parameter entity declaration\n\n    // `name` the name of the entity\n    // `value` internal entity value or an object with external entity details\n    // `value.pubID` public identifier\n    // `value.sysID` system identifier\n    pEntity(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Creates a NOTATION declaration\n\n    // `name` the name of the notation\n    // `value` an object with external entity details\n    // `value.pubID` public identifier\n    // `value.sysID` system identifier\n    notation(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    }\n\n    // Gets the parent node\n    up() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    }\n\n    // Ends the document\n    end() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    }\n\n    // Opens the current parent node\n    openCurrent() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    }\n\n    // Writes the opening tag of the current node or the entire node if it has\n    // no child nodes\n    openNode(node) {\n      var att, chunk, name, ref;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref = node.attribs;\n          for (name in ref) {\n            if (!hasProp.call(ref, name)) continue;\n            att = ref[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag; // if node.type is NodeType.DocType\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          \n          // external identifier\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          \n          // internal subset\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    }\n\n    // Writes the closing tag of the current node\n    closeNode(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel); // if node.type is NodeType.DocType\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    }\n\n    // Called when a new chunk of XML is output\n\n    // `chunk` a string containing the XML chunk\n    // `level` current indentation level\n    onData(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    }\n\n    // Called when the XML document is completed\n    onEnd() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    }\n\n    // Returns debug string\n    debugInfo(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    }\n\n    // Node aliases\n    ele() {\n      return this.element(...arguments);\n    }\n\n    nod(name, attributes, text) {\n      return this.node(name, attributes, text);\n    }\n\n    txt(value) {\n      return this.text(value);\n    }\n\n    dat(value) {\n      return this.cdata(value);\n    }\n\n    com(value) {\n      return this.comment(value);\n    }\n\n    ins(target, value) {\n      return this.instruction(target, value);\n    }\n\n    dec(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    }\n\n    dtd(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    }\n\n    e(name, attributes, text) {\n      return this.element(name, attributes, text);\n    }\n\n    n(name, attributes, text) {\n      return this.node(name, attributes, text);\n    }\n\n    t(value) {\n      return this.text(value);\n    }\n\n    d(value) {\n      return this.cdata(value);\n    }\n\n    c(value) {\n      return this.comment(value);\n    }\n\n    r(value) {\n      return this.raw(value);\n    }\n\n    i(target, value) {\n      return this.instruction(target, value);\n    }\n\n    // Attribute aliases\n    att() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList(...arguments);\n      } else {\n        return this.attribute(...arguments);\n      }\n    }\n\n    a() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList(...arguments);\n      } else {\n        return this.attribute(...arguments);\n      }\n    }\n\n    // DTD aliases\n    // att() and ele() are defined above\n    ent(name, value) {\n      return this.entity(name, value);\n    }\n\n    pent(name, value) {\n      return this.pEntity(name, value);\n    }\n\n    not(name, value) {\n      return this.notation(name, value);\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  // Prints XML nodes to a stream\n  module.exports = XMLStreamWriter = class XMLStreamWriter extends XMLWriterBase {\n    // Initializes a new instance of `XMLStreamWriter`\n\n    // `stream` output stream\n    // `options.pretty` pretty prints the result\n    // `options.indent` indentation string\n    // `options.newline` newline sequence\n    // `options.offset` a fixed number of indentations to add to every line\n    // `options.allowEmpty` do not self close empty element tags\n    // 'options.dontPrettyTextNodes' if any text is present in node, don't indent or LF\n    // `options.spaceBeforeSlash` add a space before the closing slash of empty elements\n    constructor(stream, options) {\n      super(options);\n      this.stream = stream;\n    }\n\n    endline(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return super.endline(node, options, level);\n      }\n    }\n\n    document(doc, options) {\n      var child, i, j, k, len1, len2, ref, ref1, results;\n      ref = doc.children;\n      // set a flag so that we don't insert a newline after the last root level node \n      for (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len2 = ref1.length; k < len2; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    }\n\n    cdata(node, options, level) {\n      return this.stream.write(super.cdata(node, options, level));\n    }\n\n    comment(node, options, level) {\n      return this.stream.write(super.comment(node, options, level));\n    }\n\n    declaration(node, options, level) {\n      return this.stream.write(super.declaration(node, options, level));\n    }\n\n    docType(node, options, level) {\n      var child, j, len1, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      // external identifier\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      // internal subset\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len1 = ref.length; j < len1; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      // close tag\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    }\n\n    element(node, options, level) {\n      var att, attLen, child, childNodeCount, firstChildNode, j, len, len1, name, prettySuppressed, r, ratt, ref, ref1, ref2, rline;\n      level || (level = 0);\n      // open tag\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<' + node.name;\n      // attributes\n      if (options.pretty && options.width > 0) {\n        len = r.length;\n        ref = node.attribs;\n        for (name in ref) {\n          if (!hasProp.call(ref, name)) continue;\n          att = ref[name];\n          ratt = this.attribute(att, options, level);\n          attLen = ratt.length;\n          if (len + attLen > options.width) {\n            rline = this.indent(node, options, level + 1) + ratt;\n            r += this.endline(node, options, level) + rline;\n            len = rline.length;\n          } else {\n            rline = ' ' + ratt;\n            r += rline;\n            len += rline.length;\n          }\n        }\n      } else {\n        ref1 = node.attribs;\n        for (name in ref1) {\n          if (!hasProp.call(ref1, name)) continue;\n          att = ref1[name];\n          r += this.attribute(att, options, level);\n        }\n      }\n      this.stream.write(r);\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw || e.type === NodeType.CData) && e.value === '';\n      })) {\n        // empty element\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw || firstChildNode.type === NodeType.CData) && (firstChildNode.value != null)) {\n        // do not indent text-only nodes\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        // inner tags\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        // close tag\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    }\n\n    processingInstruction(node, options, level) {\n      return this.stream.write(super.processingInstruction(node, options, level));\n    }\n\n    raw(node, options, level) {\n      return this.stream.write(super.raw(node, options, level));\n    }\n\n    text(node, options, level) {\n      return this.stream.write(super.text(node, options, level));\n    }\n\n    dtdAttList(node, options, level) {\n      return this.stream.write(super.dtdAttList(node, options, level));\n    }\n\n    dtdElement(node, options, level) {\n      return this.stream.write(super.dtdElement(node, options, level));\n    }\n\n    dtdEntity(node, options, level) {\n      return this.stream.write(super.dtdEntity(node, options, level));\n    }\n\n    dtdNotation(node, options, level) {\n      return this.stream.write(super.dtdNotation(node, options, level));\n    }\n\n  };\n\n}).call(this);\n", "// Generated by CoffeeScript 2.4.1\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction;\n\n  ({assign, isFunction} = require('./Utility'));\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  // Creates a new document and returns the root node for\n  // chain-building the document tree\n\n  // `name` name of the root element\n\n  // `xmldec.version` A version number string, e.g. 1.0\n  // `xmldec.encoding` Encoding declaration, e.g. UTF-8\n  // `xmldec.standalone` standalone document declaration: true or false\n\n  // `doctype.pubID` public identifier of the external subset\n  // `doctype.sysID` system identifier of the external subset\n\n  // `options.headless` whether XML declaration and doctype will be included:\n  //     true or false\n  // `options.keepNullNodes` whether nodes with null values will be kept\n  //     or ignored: true or false\n  // `options.keepNullAttributes` whether attributes with null values will be\n  //     kept or ignored: true or false\n  // `options.ignoreDecorators` whether decorator strings will be ignored when\n  //     converting JS objects: true or false\n  // `options.separateArrayItems` whether array items are created as separate\n  //     nodes when passed as an object value: true or false\n  // `options.noDoubleEncoding` whether existing html entities are encoded:\n  //     true or false\n  // `options.stringify` a set of functions to use for converting values to\n  //     strings\n  // `options.writer` the default XML writer to use for converting nodes to\n  //     string. If the default writer is not set, the built-in XMLStringWriter\n  //     will be used instead.\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    // create the document node\n    doc = new XMLDocument(options);\n    // add the root node\n    root = doc.element(name);\n    // prolog\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  // Creates a new document and returns the document node for\n  // chain-building the document tree\n\n  // `options.keepNullNodes` whether nodes with null values will be kept\n  //     or ignored: true or false\n  // `options.keepNullAttributes` whether attributes with null values will be\n  //     kept or ignored: true or false\n  // `options.ignoreDecorators` whether decorator strings will be ignored when\n  //     converting JS objects: true or false\n  // `options.separateArrayItems` whether array items are created as separate\n  //     nodes when passed as an object value: true or false\n  // `options.noDoubleEncoding` whether existing html entities are encoded:\n  //     true or false\n  // `options.stringify` a set of functions to use for converting values to\n  //     strings\n  // `options.writer` the default XML writer to use for converting nodes to\n  //     string. If the default writer is not set, the built-in XMLStringWriter\n  //     will be used instead.\n\n  // `onData` the function to be called when a new chunk of XML is output. The\n  //          string containing the XML chunk is passed to `onData` as its single\n  //          argument.\n  // `onEnd`  the function to be called when the XML document is completed with\n  //          `end`. `onEnd` does not receive any arguments.\n  module.exports.begin = function(options, onData, onEnd) {\n    if (isFunction(options)) {\n      [onData, onEnd] = [options, onData];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n", "/**\n * Module dependencies.\n */\n\nvar base64 = require('base64-js');\nvar xmlbuilder = require('xmlbuilder');\n\n/**\n * Module exports.\n */\n\nexports.build = build;\n\n/**\n * Accepts a `Date` instance and returns an ISO date string.\n *\n * @param {Date} d - Date instance to serialize\n * @returns {String} ISO date string representation of `d`\n * @api private\n */\n\nfunction ISODateString(d){\n  function pad(n){\n    return n < 10 ? '0' + n : n;\n  }\n  return d.getUTCFullYear()+'-'\n    + pad(d.getUTCMonth()+1)+'-'\n    + pad(d.getUTCDate())+'T'\n    + pad(d.getUTCHours())+':'\n    + pad(d.getUTCMinutes())+':'\n    + pad(d.getUTCSeconds())+'Z';\n}\n\n/**\n * Returns the internal \"type\" of `obj` via the\n * `Object.prototype.toString()` trick.\n *\n * @param {Mixed} obj - any value\n * @returns {String} the internal \"type\" name\n * @api private\n */\n\nvar toString = Object.prototype.toString;\nfunction type (obj) {\n  var m = toString.call(obj).match(/\\[object (.*)\\]/);\n  return m ? m[1] : m;\n}\n\n/**\n * Generate an XML plist string from the input object `obj`.\n *\n * @param {Object} obj - the object to convert\n * @param {Object} [opts] - optional options object\n * @returns {String} converted plist XML string\n * @api public\n */\n\nfunction build (obj, opts) {\n  var XMLHDR = {\n    version: '1.0',\n    encoding: 'UTF-8'\n  };\n\n  var XMLDTD = {\n    pubid: '-//Apple//DTD PLIST 1.0//EN',\n    sysid: 'http://www.apple.com/DTDs/PropertyList-1.0.dtd'\n  };\n\n  var doc = xmlbuilder.create('plist');\n\n  doc.dec(XMLHDR.version, XMLHDR.encoding, XMLHDR.standalone);\n  doc.dtd(XMLDTD.pubid, XMLDTD.sysid);\n  doc.att('version', '1.0');\n\n  walk_obj(obj, doc);\n\n  if (!opts) opts = {};\n  // default `pretty` to `true`\n  opts.pretty = opts.pretty !== false;\n  return doc.end(opts);\n}\n\n/**\n * depth first, recursive traversal of a javascript object. when complete,\n * next_child contains a reference to the build XML object.\n *\n * @api private\n */\n\nfunction walk_obj(next, next_child) {\n  var tag_type, i, prop;\n  var name = type(next);\n\n  if ('Undefined' == name) {\n    return;\n  } else if (Array.isArray(next)) {\n    next_child = next_child.ele('array');\n    for (i = 0; i < next.length; i++) {\n      walk_obj(next[i], next_child);\n    }\n\n  } else if (Buffer.isBuffer(next)) {\n    next_child.ele('data').raw(next.toString('base64'));\n\n  } else if ('Object' == name) {\n    next_child = next_child.ele('dict');\n    for (prop in next) {\n      if (next.hasOwnProperty(prop)) {\n        next_child.ele('key').txt(prop);\n        walk_obj(next[prop], next_child);\n      }\n    }\n\n  } else if ('Number' == name) {\n    // detect if this is an integer or real\n    // TODO: add an ability to force one way or another via a \"cast\"\n    tag_type = (next % 1 === 0) ? 'integer' : 'real';\n    next_child.ele(tag_type).txt(next.toString());\n\n  } else if ('BigInt' == name) {\n    next_child.ele('integer').txt(next);\n\n  } else if ('Date' == name) {\n    next_child.ele('date').txt(ISODateString(new Date(next)));\n\n  } else if ('Boolean' == name) {\n    next_child.ele(next ? 'true' : 'false');\n\n  } else if ('String' == name) {\n    next_child.ele('string').txt(next);\n\n  } else if ('ArrayBuffer' == name) {\n    next_child.ele('data').raw(base64.fromByteArray(next));\n\n  } else if (next && next.buffer && 'ArrayBuffer' == type(next.buffer)) {\n    // a typed array\n    next_child.ele('data').raw(base64.fromByteArray(new Uint8Array(next.buffer), next_child));\n\n  } else if ('Null' === name) {\n    next_child.ele('null').txt('');\n\n  }\n}\n", "/**\n * Parser functions.\n */\n\nvar parserFunctions = require('./lib/parse');\nObject.keys(parserFunctions).forEach(function (k) { exports[k] = parserFunctions[k]; });\n\n/**\n * Builder functions.\n */\n\nvar builderFunctions = require('./lib/build');\nObject.keys(builderFunctions).forEach(function (k) { exports[k] = builderFunctions[k]; });\n", "import { LaunchProps, List } from \"@raycast/api\";\nimport { InitError } from \"./components/init_error\";\nimport { useSnippetsLab } from \"./hooks/useSnippetsLab\";\nimport { SnippetsSearch } from \"./search\";\n\n/** Entry point for the Search in SnippetsLab command. */\nexport default function Command({ fallbackText }: LaunchProps) {\n    const { isInitializing, initializationError, appVersion, app } = useSnippetsLab();\n\n    if (isInitializing) {\n        return <List isLoading />;\n    } else if (initializationError) {\n        return <InitError error={initializationError} appVersion={appVersion} />;\n    } else {\n        return <SnippetsSearch app={app} searchText={fallbackText} />;\n    }\n}\n", "import { Action, ActionPanel, Detail, Icon } from \"@raycast/api\";\nimport semver from \"semver\";\n\n/** The minimum SnippetsLab app version. Must be valid semver. */\nconst MIN_APP_VERSION = \"2.5.0\";\n\ninterface InitErrorProps {\n    error: Error;\n    appVersion?: string;\n}\n\n/** Error screen for when the command utility cannot be found or used. */\nexport function InitError({ error, appVersion }: InitErrorProps) {\n    const version = semver.coerce(appVersion);\n    const isUnsupportedAppVersion = version && semver.lt(version, MIN_APP_VERSION);\n    const unsupportedMessage = `It looks like you are using SnippetsLab ${appVersion}, but\n        version **${MIN_APP_VERSION} or later** is required.`;\n\n    const markdown = `\n# An error occurred\n\nThe \\`lab\\` command-line utility for SnippetsLab is either missing or lacks the necessary\npermissions.\n\n**Details**\n\n${isUnsupportedAppVersion ? unsupportedMessage : \"\"}\n\n${error.message}\n\n**Troubleshooting Tips**\n\n1.  Ensure that **SnippetsLab ${MIN_APP_VERSION} or later** is installed.\n2.  The extension should typically locate the \\`lab\\` utility bundled with the app automatically.\n    You can also manually specify the path in extension preferences.\n3.  If using a custom path, it must be an absolute path pointing directly to the \\`lab\\` binary.\n4.  Confirm that the \\`lab\\` binary has executable permissions.\n`;\n\n    return (\n        <Detail\n            navigationTitle=\"An error occurred\"\n            markdown={markdown}\n            actions={\n                <ActionPanel>\n                    <Action.OpenInBrowser\n                        title=\"SnippetsLab Website\"\n                        url=\"https://www.renfei.org/snippets-lab/\"\n                        icon={Icon.Globe}\n                    />\n                    <Action.OpenInBrowser\n                        title=\"Contact Support\"\n                        url=\"mailto:support@renfei.org\"\n                        icon={Icon.Envelope}\n                    />\n                </ActionPanel>\n            }\n        />\n    );\n}\n", "import { getApplications } from \"@raycast/api\";\nimport { execa } from \"execa\";\nimport fs from \"fs\";\nimport PQueue from \"p-queue\";\nimport path from \"path\";\nimport plist from \"plist\";\nimport { useEffect, useState } from \"react\";\nimport { getPreferences } from \"../models/preferences\";\n\nconst BUNDLE_ID_APP_STORE = \"com.renfei.SnippetsLab\";\nconst BUNDLE_ID_SETAPP = \"com.renfei.snippetslab-setapp\";\nconst CLI_RELPATH = \"Contents/Helpers/lab\";\nconst INFO_PLIST_RELPATH = \"Contents/Info.plist\";\n\n/**\n * A serial queue for all operations using the command-line utility.\n *\n * Although we could run commands in parallel, all requests are ultimately serviced by SnippetsLab's\n * extension services which support limited concurrency. Using a queue here allows us to cancel\n * stale requests more effectively.\n */\nconst queue = new PQueue({ concurrency: 1 });\n\n/**\n * A registry of currently queued (including running) tasks.\n *\n * This maps from subcommand names to the task's abort controllers. Enqueuing a new task always\n * cancels the previous one with the same subcommand. Cancellation is on a best-effort basis and\n * does not force the running process to stop. However, the task's result will be ignored and any\n * queued-but-not-yet-started tasks will exit immediately.\n */\nconst queuedTasks = new Map<string, AbortController>();\n\n/** Primary API to interact with the host app. */\nexport interface SnippetsLab {\n    /** Runs the `lab` command with given subcommand and arguments. */\n    run: (subcommand: string, args: string[]) => Promise<string>;\n\n    /** Opens the snippet/fragment matching the given uuids. */\n    open: (snippet: string, fragment: string) => Promise<void>;\n}\n\n/** Manages all interactions with SnippetsLab.app. */\nexport function useSnippetsLab() {\n    const [isInitializing, setInitializing] = useState<boolean>(true);\n    const [initializationError, setInitializationError] = useState<Error>();\n    const [resolvedCliPath, setResolvedCliPath] = useState<string>();\n    const [appVersion, setAppVersion] = useState<string>();\n\n    useEffect(() => {\n        const checkCli = async () => {\n            try {\n                const cliPath = await findCliPath();\n                await validateCli(cliPath);\n                setResolvedCliPath(cliPath);\n                setInitializationError(undefined);\n            } catch (err) {\n                setInitializationError(err as Error);\n            } finally {\n                setInitializing(false);\n            }\n        };\n\n        checkCli();\n    }, []);\n\n    const findCliPath = async (): Promise<string> => {\n        const preferencesValue = getPreferences().cliPath;\n\n        if (preferencesValue) {\n            return preferencesValue;\n        }\n\n        const apps = await getApplications();\n        const app = apps.find(\n            (app) => app.bundleId === BUNDLE_ID_APP_STORE || app.bundleId === BUNDLE_ID_SETAPP,\n        );\n\n        if (!app) {\n            throw new Error(\"SnippetsLab.app not found. Is it installed?\");\n        }\n\n        const infoPlistPath = path.join(app.path, INFO_PLIST_RELPATH);\n        const infoPlistContents = fs.readFileSync(infoPlistPath, \"utf8\");\n        const infoDictionary = plist.parse(infoPlistContents) as Readonly<plist.PlistObject>;\n        setAppVersion(infoDictionary.CFBundleShortVersionString as string);\n\n        return path.join(app.path, CLI_RELPATH);\n    };\n\n    // Make sure the binary has executable permissions.\n    const validateCli = (cliPath: string): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            fs.access(cliPath, fs.constants.X_OK, (error) => {\n                if (error) {\n                    reject(error);\n                } else {\n                    resolve();\n                }\n            });\n        });\n    };\n\n    const run = async (subcommand: string, args: string[]): Promise<string> => {\n        if (!resolvedCliPath) {\n            throw new Error(\"CLI path is not resolved yet.\");\n        }\n\n        const command = `lab ${subcommand} ${args.join(\" \")}`;\n        console.log(\"Requested:\", command);\n        queuedTasks.get(subcommand)?.abort();\n        const controller = new AbortController();\n        queuedTasks.set(subcommand, controller);\n\n        const task = async () => {\n            // Abort immediately and do not execute the command if it has been cancelled.\n            if (controller.signal.aborted) {\n                console.log(\"Aborted:\", command);\n                throw new Error(\"AbortError\");\n            }\n            try {\n                console.log(\"Running:\", command);\n                const { stdout } = await execa(resolvedCliPath, [subcommand, \"--launch\", ...args]);\n                console.log(\"Received:\", command, `(${stdout.length} bytes)`);\n                return stdout;\n            } finally {\n                if (queuedTasks.get(subcommand) === controller) {\n                    queuedTasks.delete(subcommand);\n                }\n            }\n        };\n\n        return queue.add(task) as Promise<string>;\n    };\n\n    const open = async (snippet: string, fragment: string) => {\n        console.log(`Running: open snippetslab://snippet/${snippet}/${fragment}/`);\n        await execa(\"open\", [`snippetslab://snippet/${snippet}/${fragment}/`]);\n    };\n\n    return {\n        isInitializing,\n        initializationError,\n        appVersion, // undefined when using a custom CLI path in preferences.\n        app: { run, open },\n    };\n}\n", "export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n", "import {fileURLToPath} from 'node:url';\n\n// Allow some arguments/options to be either a file path string or a file URL\nexport const safeNormalizeFileUrl = (file, name) => {\n\tconst fileString = normalizeFileUrl(file);\n\n\tif (typeof fileString !== 'string') {\n\t\tthrow new TypeError(`${name} must be a string or a file URL: ${fileString}.`);\n\t}\n\n\treturn fileString;\n};\n\n// Same but also allows other values, e.g. `boolean` for the `shell` option\nexport const normalizeFileUrl = file => file instanceof URL ? fileURLToPath(file) : file;\n", "import isPlainObject from 'is-plain-obj';\nimport {safeNormalizeFileUrl} from '../arguments/file-url.js';\n\n// The command `arguments` and `options` are both optional.\n// This also does basic validation on them and on the command file.\nexport const normalizeParameters = (rawFile, rawArguments = [], rawOptions = {}) => {\n\tconst filePath = safeNormalizeFileUrl(rawFile, 'First argument');\n\tconst [commandArguments, options] = isPlainObject(rawArguments)\n\t\t? [[], rawArguments]\n\t\t: [rawArguments, rawOptions];\n\n\tif (!Array.isArray(commandArguments)) {\n\t\tthrow new TypeError(`Second argument must be either an array of arguments or an options object: ${commandArguments}`);\n\t}\n\n\tif (commandArguments.some(commandArgument => typeof commandArgument === 'object' && commandArgument !== null)) {\n\t\tthrow new TypeError(`Second argument must be an array of strings: ${commandArguments}`);\n\t}\n\n\tconst normalizedArguments = commandArguments.map(String);\n\tconst nullByteArgument = normalizedArguments.find(normalizedArgument => normalizedArgument.includes('\\0'));\n\tif (nullByteArgument !== undefined) {\n\t\tthrow new TypeError(`Arguments cannot contain null bytes (\"\\\\0\"): ${nullByteArgument}`);\n\t}\n\n\tif (!isPlainObject(options)) {\n\t\tthrow new TypeError(`Last argument must be an options object: ${options}`);\n\t}\n\n\treturn [filePath, normalizedArguments, options];\n};\n", "import {ChildProcess} from 'node:child_process';\nimport isPlainObject from 'is-plain-obj';\nimport {isUint8Array, uint8ArrayToString} from '../utils/uint-array.js';\n\n// Check whether the template string syntax is being used\nexport const isTemplateString = templates => Array.isArray(templates) && Array.isArray(templates.raw);\n\n// Convert execa`file ...commandArguments` to execa(file, commandArguments)\nexport const parseTemplates = (templates, expressions) => {\n\tlet tokens = [];\n\n\tfor (const [index, template] of templates.entries()) {\n\t\ttokens = parseTemplate({\n\t\t\ttemplates,\n\t\t\texpressions,\n\t\t\ttokens,\n\t\t\tindex,\n\t\t\ttemplate,\n\t\t});\n\t}\n\n\tif (tokens.length === 0) {\n\t\tthrow new TypeError('Template script must not be empty');\n\t}\n\n\tconst [file, ...commandArguments] = tokens;\n\treturn [file, commandArguments, {}];\n};\n\nconst parseTemplate = ({templates, expressions, tokens, index, template}) => {\n\tif (template === undefined) {\n\t\tthrow new TypeError(`Invalid backslash sequence: ${templates.raw[index]}`);\n\t}\n\n\tconst {nextTokens, leadingWhitespaces, trailingWhitespaces} = splitByWhitespaces(template, templates.raw[index]);\n\tconst newTokens = concatTokens(tokens, nextTokens, leadingWhitespaces);\n\n\tif (index === expressions.length) {\n\t\treturn newTokens;\n\t}\n\n\tconst expression = expressions[index];\n\tconst expressionTokens = Array.isArray(expression)\n\t\t? expression.map(expression => parseExpression(expression))\n\t\t: [parseExpression(expression)];\n\treturn concatTokens(newTokens, expressionTokens, trailingWhitespaces);\n};\n\n// Like `string.split(/[ \\t\\r\\n]+/)` except newlines and tabs are:\n//  - ignored when input as a backslash sequence like: `echo foo\\n bar`\n//  - not ignored when input directly\n// The only way to distinguish those in JavaScript is to use a tagged template and compare:\n//  - the first array argument, which does not escape backslash sequences\n//  - its `raw` property, which escapes them\nconst splitByWhitespaces = (template, rawTemplate) => {\n\tif (rawTemplate.length === 0) {\n\t\treturn {nextTokens: [], leadingWhitespaces: false, trailingWhitespaces: false};\n\t}\n\n\tconst nextTokens = [];\n\tlet templateStart = 0;\n\tconst leadingWhitespaces = DELIMITERS.has(rawTemplate[0]);\n\n\tfor (\n\t\tlet templateIndex = 0, rawIndex = 0;\n\t\ttemplateIndex < template.length;\n\t\ttemplateIndex += 1, rawIndex += 1\n\t) {\n\t\tconst rawCharacter = rawTemplate[rawIndex];\n\t\tif (DELIMITERS.has(rawCharacter)) {\n\t\t\tif (templateStart !== templateIndex) {\n\t\t\t\tnextTokens.push(template.slice(templateStart, templateIndex));\n\t\t\t}\n\n\t\t\ttemplateStart = templateIndex + 1;\n\t\t} else if (rawCharacter === '\\\\') {\n\t\t\tconst nextRawCharacter = rawTemplate[rawIndex + 1];\n\t\t\tif (nextRawCharacter === 'u' && rawTemplate[rawIndex + 2] === '{') {\n\t\t\t\trawIndex = rawTemplate.indexOf('}', rawIndex + 3);\n\t\t\t} else {\n\t\t\t\trawIndex += ESCAPE_LENGTH[nextRawCharacter] ?? 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst trailingWhitespaces = templateStart === template.length;\n\tif (!trailingWhitespaces) {\n\t\tnextTokens.push(template.slice(templateStart));\n\t}\n\n\treturn {nextTokens, leadingWhitespaces, trailingWhitespaces};\n};\n\nconst DELIMITERS = new Set([' ', '\\t', '\\r', '\\n']);\n\n// Number of characters in backslash escape sequences: \\0 \\xXX or \\uXXXX\n// \\cX is allowed in RegExps but not in strings\n// Octal sequences are not allowed in strict mode\nconst ESCAPE_LENGTH = {x: 3, u: 5};\n\nconst concatTokens = (tokens, nextTokens, isSeparated) => isSeparated\n\t|| tokens.length === 0\n\t|| nextTokens.length === 0\n\t? [...tokens, ...nextTokens]\n\t: [\n\t\t...tokens.slice(0, -1),\n\t\t`${tokens.at(-1)}${nextTokens[0]}`,\n\t\t...nextTokens.slice(1),\n\t];\n\n// Handle `${expression}` inside the template string syntax\nconst parseExpression = expression => {\n\tconst typeOfExpression = typeof expression;\n\n\tif (typeOfExpression === 'string') {\n\t\treturn expression;\n\t}\n\n\tif (typeOfExpression === 'number') {\n\t\treturn String(expression);\n\t}\n\n\tif (isPlainObject(expression) && ('stdout' in expression || 'isMaxBuffer' in expression)) {\n\t\treturn getSubprocessResult(expression);\n\t}\n\n\tif (expression instanceof ChildProcess || Object.prototype.toString.call(expression) === '[object Promise]') {\n\t\t// eslint-disable-next-line no-template-curly-in-string\n\t\tthrow new TypeError('Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}.');\n\t}\n\n\tthrow new TypeError(`Unexpected \"${typeOfExpression}\" in template expression`);\n};\n\nconst getSubprocessResult = ({stdout}) => {\n\tif (typeof stdout === 'string') {\n\t\treturn stdout;\n\t}\n\n\tif (isUint8Array(stdout)) {\n\t\treturn uint8ArrayToString(stdout);\n\t}\n\n\tif (stdout === undefined) {\n\t\tthrow new TypeError('Missing result.stdout in template expression. This is probably due to the previous subprocess\\' \"stdout\" option.');\n\t}\n\n\tthrow new TypeError(`Unexpected \"${typeof stdout}\" stdout in template expression`);\n};\n", "import {StringDecoder} from 'node:string_decoder';\n\nconst {toString: objectToString} = Object.prototype;\n\nexport const isArrayBuffer = value => objectToString.call(value) === '[object ArrayBuffer]';\n\n// Is either Uint8Array or Buffer\nexport const isUint8Array = value => objectToString.call(value) === '[object Uint8Array]';\n\nexport const bufferToUint8Array = buffer => new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n\nconst textEncoder = new TextEncoder();\nconst stringToUint8Array = string => textEncoder.encode(string);\n\nconst textDecoder = new TextDecoder();\nexport const uint8ArrayToString = uint8Array => textDecoder.decode(uint8Array);\n\nexport const joinToString = (uint8ArraysOrStrings, encoding) => {\n\tconst strings = uint8ArraysToStrings(uint8ArraysOrStrings, encoding);\n\treturn strings.join('');\n};\n\nconst uint8ArraysToStrings = (uint8ArraysOrStrings, encoding) => {\n\tif (encoding === 'utf8' && uint8ArraysOrStrings.every(uint8ArrayOrString => typeof uint8ArrayOrString === 'string')) {\n\t\treturn uint8ArraysOrStrings;\n\t}\n\n\tconst decoder = new StringDecoder(encoding);\n\tconst strings = uint8ArraysOrStrings\n\t\t.map(uint8ArrayOrString => typeof uint8ArrayOrString === 'string'\n\t\t\t? stringToUint8Array(uint8ArrayOrString)\n\t\t\t: uint8ArrayOrString)\n\t\t.map(uint8Array => decoder.write(uint8Array));\n\tconst finalString = decoder.end();\n\treturn finalString === '' ? strings : [...strings, finalString];\n};\n\nexport const joinToUint8Array = uint8ArraysOrStrings => {\n\tif (uint8ArraysOrStrings.length === 1 && isUint8Array(uint8ArraysOrStrings[0])) {\n\t\treturn uint8ArraysOrStrings[0];\n\t}\n\n\treturn concatUint8Arrays(stringsToUint8Arrays(uint8ArraysOrStrings));\n};\n\nconst stringsToUint8Arrays = uint8ArraysOrStrings => uint8ArraysOrStrings.map(uint8ArrayOrString => typeof uint8ArrayOrString === 'string'\n\t? stringToUint8Array(uint8ArrayOrString)\n\t: uint8ArrayOrString);\n\nexport const concatUint8Arrays = uint8Arrays => {\n\tconst result = new Uint8Array(getJoinLength(uint8Arrays));\n\n\tlet index = 0;\n\tfor (const uint8Array of uint8Arrays) {\n\t\tresult.set(uint8Array, index);\n\t\tindex += uint8Array.length;\n\t}\n\n\treturn result;\n};\n\nconst getJoinLength = uint8Arrays => {\n\tlet joinLength = 0;\n\tfor (const uint8Array of uint8Arrays) {\n\t\tjoinLength += uint8Array.length;\n\t}\n\n\treturn joinLength;\n};\n", "import {spawnSync} from 'node:child_process';\nimport {handleCommand} from '../arguments/command.js';\nimport {normalizeOptions} from '../arguments/options.js';\nimport {makeError, makeEarlyError, makeSuccessResult} from '../return/result.js';\nimport {handleResult} from '../return/reject.js';\nimport {handleStdioSync} from '../stdio/handle-sync.js';\nimport {stripNewline} from '../io/strip-newline.js';\nimport {addInputOptionsSync} from '../io/input-sync.js';\nimport {transformOutputSync} from '../io/output-sync.js';\nimport {getMaxBufferSync} from '../io/max-buffer.js';\nimport {getAllSync} from '../resolve/all-sync.js';\nimport {getExitResultSync} from '../resolve/exit-sync.js';\n\n// Main shared logic for all sync methods: `execaSync()`, `$.sync()`\nexport const execaCoreSync = (rawFile, rawArguments, rawOptions) => {\n\tconst {file, commandArguments, command, escapedCommand, startTime, verboseInfo, options, fileDescriptors} = handleSyncArguments(rawFile, rawArguments, rawOptions);\n\tconst result = spawnSubprocessSync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t});\n\treturn handleResult(result, verboseInfo, options);\n};\n\n// Compute arguments to pass to `child_process.spawnSync()`\nconst handleSyncArguments = (rawFile, rawArguments, rawOptions) => {\n\tconst {command, escapedCommand, startTime, verboseInfo} = handleCommand(rawFile, rawArguments, rawOptions);\n\tconst syncOptions = normalizeSyncOptions(rawOptions);\n\tconst {file, commandArguments, options} = normalizeOptions(rawFile, rawArguments, syncOptions);\n\tvalidateSyncOptions(options);\n\tconst fileDescriptors = handleStdioSync(options, verboseInfo);\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\toptions,\n\t\tfileDescriptors,\n\t};\n};\n\n// Options normalization logic specific to sync methods\nconst normalizeSyncOptions = options => options.node && !options.ipc ? {...options, ipc: false} : options;\n\n// Options validation logic specific to sync methods\nconst validateSyncOptions = ({ipc, ipcInput, detached, cancelSignal}) => {\n\tif (ipcInput) {\n\t\tthrowInvalidSyncOption('ipcInput');\n\t}\n\n\tif (ipc) {\n\t\tthrowInvalidSyncOption('ipc: true');\n\t}\n\n\tif (detached) {\n\t\tthrowInvalidSyncOption('detached: true');\n\t}\n\n\tif (cancelSignal) {\n\t\tthrowInvalidSyncOption('cancelSignal');\n\t}\n};\n\nconst throwInvalidSyncOption = value => {\n\tthrow new TypeError(`The \"${value}\" option cannot be used with synchronous methods.`);\n};\n\nconst spawnSubprocessSync = ({file, commandArguments, options, command, escapedCommand, verboseInfo, fileDescriptors, startTime}) => {\n\tconst syncResult = runSubprocessSync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t});\n\tif (syncResult.failed) {\n\t\treturn syncResult;\n\t}\n\n\tconst {resultError, exitCode, signal, timedOut, isMaxBuffer} = getExitResultSync(syncResult, options);\n\tconst {output, error = resultError} = transformOutputSync({\n\t\tfileDescriptors,\n\t\tsyncResult,\n\t\toptions,\n\t\tisMaxBuffer,\n\t\tverboseInfo,\n\t});\n\tconst stdio = output.map((stdioOutput, fdNumber) => stripNewline(stdioOutput, options, fdNumber));\n\tconst all = stripNewline(getAllSync(output, options), options, 'all');\n\treturn getSyncResult({\n\t\terror,\n\t\texitCode,\n\t\tsignal,\n\t\ttimedOut,\n\t\tisMaxBuffer,\n\t\tstdio,\n\t\tall,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t});\n};\n\nconst runSubprocessSync = ({file, commandArguments, options, command, escapedCommand, fileDescriptors, startTime}) => {\n\ttry {\n\t\taddInputOptionsSync(fileDescriptors, options);\n\t\tconst normalizedOptions = normalizeSpawnSyncOptions(options);\n\t\treturn spawnSync(file, commandArguments, normalizedOptions);\n\t} catch (error) {\n\t\treturn makeEarlyError({\n\t\t\terror,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tfileDescriptors,\n\t\t\toptions,\n\t\t\tstartTime,\n\t\t\tisSync: true,\n\t\t});\n\t}\n};\n\n// The `encoding` option is handled by Execa, not by `child_process.spawnSync()`\nconst normalizeSpawnSyncOptions = ({encoding, maxBuffer, ...options}) => ({...options, encoding: 'buffer', maxBuffer: getMaxBufferSync(maxBuffer)});\n\nconst getSyncResult = ({error, exitCode, signal, timedOut, isMaxBuffer, stdio, all, options, command, escapedCommand, startTime}) => error === undefined\n\t? makeSuccessResult({\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput: [],\n\t\toptions,\n\t\tstartTime,\n\t})\n\t: makeError({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\ttimedOut,\n\t\tisCanceled: false,\n\t\tisGracefullyCanceled: false,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated: false,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput: [],\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: true,\n\t});\n", "import {debuglog} from 'node:util';\nimport isPlainObject from 'is-plain-obj';\nimport {STANDARD_STREAMS_ALIASES} from '../utils/standard-stream.js';\n\n// Some options can have different values for `stdout`/`stderr`/`fd3`.\n// This normalizes those to array of values.\n// For example, `{verbose: {stdout: 'none', stderr: 'full'}}` becomes `{verbose: ['none', 'none', 'full']}`\nexport const normalizeFdSpecificOptions = options => {\n\tconst optionsCopy = {...options};\n\n\tfor (const optionName of FD_SPECIFIC_OPTIONS) {\n\t\toptionsCopy[optionName] = normalizeFdSpecificOption(options, optionName);\n\t}\n\n\treturn optionsCopy;\n};\n\nexport const normalizeFdSpecificOption = (options, optionName) => {\n\tconst optionBaseArray = Array.from({length: getStdioLength(options) + 1});\n\tconst optionArray = normalizeFdSpecificValue(options[optionName], optionBaseArray, optionName);\n\treturn addDefaultValue(optionArray, optionName);\n};\n\nconst getStdioLength = ({stdio}) => Array.isArray(stdio)\n\t? Math.max(stdio.length, STANDARD_STREAMS_ALIASES.length)\n\t: STANDARD_STREAMS_ALIASES.length;\n\nconst normalizeFdSpecificValue = (optionValue, optionArray, optionName) => isPlainObject(optionValue)\n\t? normalizeOptionObject(optionValue, optionArray, optionName)\n\t: optionArray.fill(optionValue);\n\nconst normalizeOptionObject = (optionValue, optionArray, optionName) => {\n\tfor (const fdName of Object.keys(optionValue).sort(compareFdName)) {\n\t\tfor (const fdNumber of parseFdName(fdName, optionName, optionArray)) {\n\t\t\toptionArray[fdNumber] = optionValue[fdName];\n\t\t}\n\t}\n\n\treturn optionArray;\n};\n\n// Ensure priority order when setting both `stdout`/`stderr`, `fd1`/`fd2`, and `all`\nconst compareFdName = (fdNameA, fdNameB) => getFdNameOrder(fdNameA) < getFdNameOrder(fdNameB) ? 1 : -1;\n\nconst getFdNameOrder = fdName => {\n\tif (fdName === 'stdout' || fdName === 'stderr') {\n\t\treturn 0;\n\t}\n\n\treturn fdName === 'all' ? 2 : 1;\n};\n\nconst parseFdName = (fdName, optionName, optionArray) => {\n\tif (fdName === 'ipc') {\n\t\treturn [optionArray.length - 1];\n\t}\n\n\tconst fdNumber = parseFd(fdName);\n\tif (fdNumber === undefined || fdNumber === 0) {\n\t\tthrow new TypeError(`\"${optionName}.${fdName}\" is invalid.\nIt must be \"${optionName}.stdout\", \"${optionName}.stderr\", \"${optionName}.all\", \"${optionName}.ipc\", or \"${optionName}.fd3\", \"${optionName}.fd4\" (and so on).`);\n\t}\n\n\tif (fdNumber >= optionArray.length) {\n\t\tthrow new TypeError(`\"${optionName}.${fdName}\" is invalid: that file descriptor does not exist.\nPlease set the \"stdio\" option to ensure that file descriptor exists.`);\n\t}\n\n\treturn fdNumber === 'all' ? [1, 2] : [fdNumber];\n};\n\n// Use the same syntax for fd-specific options and the `from`/`to` options\nexport const parseFd = fdName => {\n\tif (fdName === 'all') {\n\t\treturn fdName;\n\t}\n\n\tif (STANDARD_STREAMS_ALIASES.includes(fdName)) {\n\t\treturn STANDARD_STREAMS_ALIASES.indexOf(fdName);\n\t}\n\n\tconst regexpResult = FD_REGEXP.exec(fdName);\n\tif (regexpResult !== null) {\n\t\treturn Number(regexpResult[1]);\n\t}\n};\n\nconst FD_REGEXP = /^fd(\\d+)$/;\n\nconst addDefaultValue = (optionArray, optionName) => optionArray.map(optionValue => optionValue === undefined\n\t? DEFAULT_OPTIONS[optionName]\n\t: optionValue);\n\n// Default value for the `verbose` option\nconst verboseDefault = debuglog('execa').enabled ? 'full' : 'none';\n\nconst DEFAULT_OPTIONS = {\n\tlines: false,\n\tbuffer: true,\n\tmaxBuffer: 1000 * 1000 * 100,\n\tverbose: verboseDefault,\n\tstripFinalNewline: true,\n};\n\n// List of options which can have different values for `stdout`/`stderr`\nexport const FD_SPECIFIC_OPTIONS = ['lines', 'buffer', 'maxBuffer', 'verbose', 'stripFinalNewline'];\n\n// Retrieve fd-specific option\nexport const getFdSpecificValue = (optionArray, fdNumber) => fdNumber === 'ipc'\n\t? optionArray.at(-1)\n\t: optionArray[fdNumber];\n", "import process from 'node:process';\n\nexport const isStandardStream = stream => STANDARD_STREAMS.includes(stream);\nexport const STANDARD_STREAMS = [process.stdin, process.stdout, process.stderr];\nexport const STANDARD_STREAMS_ALIASES = ['stdin', 'stdout', 'stderr'];\nexport const getStreamName = fdNumber => STANDARD_STREAMS_ALIASES[fdNumber] ?? `stdio[${fdNumber}]`;\n", "import {getFdSpecificValue} from '../arguments/specific.js';\n\n// The `verbose` option can have different values for `stdout`/`stderr`\nexport const isVerbose = ({verbose}, fdNumber) => getFdVerbose(verbose, fdNumber) !== 'none';\n\n// Whether IPC and output and logged\nexport const isFullVerbose = ({verbose}, fdNumber) => !['none', 'short'].includes(getFdVerbose(verbose, fdNumber));\n\n// The `verbose` option can be a function to customize logging\nexport const getVerboseFunction = ({verbose}, fdNumber) => {\n\tconst fdVerbose = getFdVerbose(verbose, fdNumber);\n\treturn isVerboseFunction(fdVerbose) ? fdVerbose : undefined;\n};\n\n// When using `verbose: {stdout, stderr, fd3, ipc}`:\n//  - `verbose.stdout|stderr|fd3` is used for 'output'\n//  - `verbose.ipc` is only used for 'ipc'\n//  - highest `verbose.*` value is used for 'command', 'error' and 'duration'\nconst getFdVerbose = (verbose, fdNumber) => fdNumber === undefined\n\t? getFdGenericVerbose(verbose)\n\t: getFdSpecificValue(verbose, fdNumber);\n\n// When using `verbose: {stdout, stderr, fd3, ipc}` and logging is not specific to a file descriptor.\n// We then use the highest `verbose.*` value, using the following order:\n//  - function > 'full' > 'short' > 'none'\n//  - if several functions are defined: stdout > stderr > fd3 > ipc\nconst getFdGenericVerbose = verbose => verbose.find(fdVerbose => isVerboseFunction(fdVerbose))\n\t?? VERBOSE_VALUES.findLast(fdVerbose => verbose.includes(fdVerbose));\n\n// Whether the `verbose` option is customized using a function\nexport const isVerboseFunction = fdVerbose => typeof fdVerbose === 'function';\n\nexport const VERBOSE_VALUES = ['none', 'short', 'full'];\n", "import {writeFileSync} from 'node:fs';\nimport {inspect} from 'node:util';\nimport {escapeLines} from '../arguments/escape.js';\nimport {defaultVerboseFunction} from './default.js';\nimport {applyVerboseOnLines} from './custom.js';\n\n// Write synchronously to ensure lines are properly ordered and not interleaved with `stdout`\nexport const verboseLog = ({type, verboseMessage, fdNumber, verboseInfo, result}) => {\n\tconst verboseObject = getVerboseObject({type, result, verboseInfo});\n\tconst printedLines = getPrintedLines(verboseMessage, verboseObject);\n\tconst finalLines = applyVerboseOnLines(printedLines, verboseInfo, fdNumber);\n\twriteFileSync(STDERR_FD, finalLines);\n};\n\nconst getVerboseObject = ({\n\ttype,\n\tresult,\n\tverboseInfo: {escapedCommand, commandId, rawOptions: {piped = false, ...options}},\n}) => ({\n\ttype,\n\tescapedCommand,\n\tcommandId: `${commandId}`,\n\ttimestamp: new Date(),\n\tpiped,\n\tresult,\n\toptions,\n});\n\nconst getPrintedLines = (verboseMessage, verboseObject) => verboseMessage\n\t.split('\\n')\n\t.map(message => getPrintedLine({...verboseObject, message}));\n\nconst getPrintedLine = verboseObject => {\n\tconst verboseLine = defaultVerboseFunction(verboseObject);\n\treturn {verboseLine, verboseObject};\n};\n\n// Unless a `verbose` function is used, print all logs on `stderr`\nconst STDERR_FD = 2;\n\n// Serialize any type to a line string, for logging\nexport const serializeVerboseMessage = message => {\n\tconst messageString = typeof message === 'string' ? message : inspect(message);\n\tconst escapedMessage = escapeLines(messageString);\n\treturn escapedMessage.replaceAll('\\t', ' '.repeat(TAB_SIZE));\n};\n\n// Same as `util.inspect()`\nconst TAB_SIZE = 2;\n", "import {platform} from 'node:process';\nimport {stripVTControlCharacters} from 'node:util';\n\n// Compute `result.command` and `result.escapedCommand`\nexport const joinCommand = (filePath, rawArguments) => {\n\tconst fileAndArguments = [filePath, ...rawArguments];\n\tconst command = fileAndArguments.join(' ');\n\tconst escapedCommand = fileAndArguments\n\t\t.map(fileAndArgument => quoteString(escapeControlCharacters(fileAndArgument)))\n\t\t.join(' ');\n\treturn {command, escapedCommand};\n};\n\n// Remove ANSI sequences and escape control characters and newlines\nexport const escapeLines = lines => stripVTControlCharacters(lines)\n\t.split('\\n')\n\t.map(line => escapeControlCharacters(line))\n\t.join('\\n');\n\nconst escapeControlCharacters = line => line.replaceAll(SPECIAL_CHAR_REGEXP, character => escapeControlCharacter(character));\n\nconst escapeControlCharacter = character => {\n\tconst commonEscape = COMMON_ESCAPES[character];\n\tif (commonEscape !== undefined) {\n\t\treturn commonEscape;\n\t}\n\n\tconst codepoint = character.codePointAt(0);\n\tconst codepointHex = codepoint.toString(16);\n\treturn codepoint <= ASTRAL_START\n\t\t? `\\\\u${codepointHex.padStart(4, '0')}`\n\t\t: `\\\\U${codepointHex}`;\n};\n\n// Characters that would create issues when printed are escaped using the \\u or \\U notation.\n// Those include control characters and newlines.\n// The \\u and \\U notation is Bash specific, but there is no way to do this in a shell-agnostic way.\n// Some shells do not even have a way to print those characters in an escaped fashion.\n// Therefore, we prioritize printing those safely, instead of allowing those to be copy-pasted.\n// List of Unicode character categories: https://www.fileformat.info/info/unicode/category/index.htm\nconst getSpecialCharRegExp = () => {\n\ttry {\n\t\t// This throws when using Node.js without ICU support.\n\t\t// When using a RegExp literal, this would throw at parsing-time, instead of runtime.\n\t\t// eslint-disable-next-line prefer-regex-literals\n\t\treturn new RegExp('\\\\p{Separator}|\\\\p{Other}', 'gu');\n\t} catch {\n\t\t// Similar to the above RegExp, but works even when Node.js has been built without ICU support.\n\t\t// Unlike the above RegExp, it only covers whitespaces and C0/C1 control characters.\n\t\t// It does not cover some edge cases, such as Unicode reserved characters.\n\t\t// See https://github.com/sindresorhus/execa/issues/1143\n\t\t// eslint-disable-next-line no-control-regex\n\t\treturn /[\\s\\u0000-\\u001F\\u007F-\\u009F\\u00AD]/g;\n\t}\n};\n\nconst SPECIAL_CHAR_REGEXP = getSpecialCharRegExp();\n\n// Accepted by $'...' in Bash.\n// Exclude \\a \\e \\v which are accepted in Bash but not in JavaScript (except \\v) and JSON.\nconst COMMON_ESCAPES = {\n\t' ': ' ',\n\t'\\b': '\\\\b',\n\t'\\f': '\\\\f',\n\t'\\n': '\\\\n',\n\t'\\r': '\\\\r',\n\t'\\t': '\\\\t',\n};\n\n// Up until that codepoint, \\u notation can be used instead of \\U\nconst ASTRAL_START = 65_535;\n\n// Some characters are shell-specific, i.e. need to be escaped when the command is copy-pasted then run.\n// Escaping is shell-specific. We cannot know which shell is used: `process.platform` detection is not enough.\n// For example, Windows users could be using `cmd.exe`, Powershell or Bash for Windows which all use different escaping.\n// We use '...' on Unix, which is POSIX shell compliant and escape all characters but ' so this is fairly safe.\n// On Windows, we assume cmd.exe is used and escape with \"...\", which also works with Powershell.\nconst quoteString = escapedArgument => {\n\tif (NO_ESCAPE_REGEXP.test(escapedArgument)) {\n\t\treturn escapedArgument;\n\t}\n\n\treturn platform === 'win32'\n\t\t? `\"${escapedArgument.replaceAll('\"', '\"\"')}\"`\n\t\t: `'${escapedArgument.replaceAll('\\'', '\\'\\\\\\'\\'')}'`;\n};\n\nconst NO_ESCAPE_REGEXP = /^[\\w./-]+$/;\n", "import process from 'node:process';\n\nexport default function isUnicodeSupported() {\n\tconst {env} = process;\n\tconst {TERM, TERM_PROGRAM} = env;\n\n\tif (process.platform !== 'win32') {\n\t\treturn TERM !== 'linux'; // Linux console (kernel)\n\t}\n\n\treturn Boolean(env.WT_SESSION) // Windows Terminal\n\t\t|| Boolean(env.TERMINUS_SUBLIME) // Terminus (<0.2.27)\n\t\t|| env.ConEmuTask === '{cmd::Cmder}' // ConEmu and cmder\n\t\t|| TERM_PROGRAM === 'Terminus-Sublime'\n\t\t|| TERM_PROGRAM === 'vscode'\n\t\t|| TERM === 'xterm-256color'\n\t\t|| TERM === 'alacritty'\n\t\t|| TERM === 'rxvt-unicode'\n\t\t|| TERM === 'rxvt-unicode-256color'\n\t\t|| env.TERMINAL_EMULATOR === 'JetBrains-JediTerm';\n}\n", "import isUnicodeSupported from 'is-unicode-supported';\n\nconst common = {\n\tcircleQuestionMark: '(?)',\n\tquestionMarkPrefix: '(?)',\n\tsquare: '\u2588',\n\tsquareDarkShade: '\u2593',\n\tsquareMediumShade: '\u2592',\n\tsquareLightShade: '\u2591',\n\tsquareTop: '\u2580',\n\tsquareBottom: '\u2584',\n\tsquareLeft: '\u258C',\n\tsquareRight: '\u2590',\n\tsquareCenter: '\u25A0',\n\tbullet: '\u25CF',\n\tdot: '\u2024',\n\tellipsis: '\u2026',\n\tpointerSmall: '\u203A',\n\ttriangleUp: '\u25B2',\n\ttriangleUpSmall: '\u25B4',\n\ttriangleDown: '\u25BC',\n\ttriangleDownSmall: '\u25BE',\n\ttriangleLeftSmall: '\u25C2',\n\ttriangleRightSmall: '\u25B8',\n\thome: '\u2302',\n\theart: '\u2665',\n\tmusicNote: '\u266A',\n\tmusicNoteBeamed: '\u266B',\n\tarrowUp: '\u2191',\n\tarrowDown: '\u2193',\n\tarrowLeft: '\u2190',\n\tarrowRight: '\u2192',\n\tarrowLeftRight: '\u2194',\n\tarrowUpDown: '\u2195',\n\talmostEqual: '\u2248',\n\tnotEqual: '\u2260',\n\tlessOrEqual: '\u2264',\n\tgreaterOrEqual: '\u2265',\n\tidentical: '\u2261',\n\tinfinity: '\u221E',\n\tsubscriptZero: '\u2080',\n\tsubscriptOne: '\u2081',\n\tsubscriptTwo: '\u2082',\n\tsubscriptThree: '\u2083',\n\tsubscriptFour: '\u2084',\n\tsubscriptFive: '\u2085',\n\tsubscriptSix: '\u2086',\n\tsubscriptSeven: '\u2087',\n\tsubscriptEight: '\u2088',\n\tsubscriptNine: '\u2089',\n\toneHalf: '\u00BD',\n\toneThird: '\u2153',\n\toneQuarter: '\u00BC',\n\toneFifth: '\u2155',\n\toneSixth: '\u2159',\n\toneEighth: '\u215B',\n\ttwoThirds: '\u2154',\n\ttwoFifths: '\u2156',\n\tthreeQuarters: '\u00BE',\n\tthreeFifths: '\u2157',\n\tthreeEighths: '\u215C',\n\tfourFifths: '\u2158',\n\tfiveSixths: '\u215A',\n\tfiveEighths: '\u215D',\n\tsevenEighths: '\u215E',\n\tline: '\u2500',\n\tlineBold: '\u2501',\n\tlineDouble: '\u2550',\n\tlineDashed0: '\u2504',\n\tlineDashed1: '\u2505',\n\tlineDashed2: '\u2508',\n\tlineDashed3: '\u2509',\n\tlineDashed4: '\u254C',\n\tlineDashed5: '\u254D',\n\tlineDashed6: '\u2574',\n\tlineDashed7: '\u2576',\n\tlineDashed8: '\u2578',\n\tlineDashed9: '\u257A',\n\tlineDashed10: '\u257C',\n\tlineDashed11: '\u257E',\n\tlineDashed12: '\u2212',\n\tlineDashed13: '\u2013',\n\tlineDashed14: '\u2010',\n\tlineDashed15: '\u2043',\n\tlineVertical: '\u2502',\n\tlineVerticalBold: '\u2503',\n\tlineVerticalDouble: '\u2551',\n\tlineVerticalDashed0: '\u2506',\n\tlineVerticalDashed1: '\u2507',\n\tlineVerticalDashed2: '\u250A',\n\tlineVerticalDashed3: '\u250B',\n\tlineVerticalDashed4: '\u254E',\n\tlineVerticalDashed5: '\u254F',\n\tlineVerticalDashed6: '\u2575',\n\tlineVerticalDashed7: '\u2577',\n\tlineVerticalDashed8: '\u2579',\n\tlineVerticalDashed9: '\u257B',\n\tlineVerticalDashed10: '\u257D',\n\tlineVerticalDashed11: '\u257F',\n\tlineDownLeft: '\u2510',\n\tlineDownLeftArc: '\u256E',\n\tlineDownBoldLeftBold: '\u2513',\n\tlineDownBoldLeft: '\u2512',\n\tlineDownLeftBold: '\u2511',\n\tlineDownDoubleLeftDouble: '\u2557',\n\tlineDownDoubleLeft: '\u2556',\n\tlineDownLeftDouble: '\u2555',\n\tlineDownRight: '\u250C',\n\tlineDownRightArc: '\u256D',\n\tlineDownBoldRightBold: '\u250F',\n\tlineDownBoldRight: '\u250E',\n\tlineDownRightBold: '\u250D',\n\tlineDownDoubleRightDouble: '\u2554',\n\tlineDownDoubleRight: '\u2553',\n\tlineDownRightDouble: '\u2552',\n\tlineUpLeft: '\u2518',\n\tlineUpLeftArc: '\u256F',\n\tlineUpBoldLeftBold: '\u251B',\n\tlineUpBoldLeft: '\u251A',\n\tlineUpLeftBold: '\u2519',\n\tlineUpDoubleLeftDouble: '\u255D',\n\tlineUpDoubleLeft: '\u255C',\n\tlineUpLeftDouble: '\u255B',\n\tlineUpRight: '\u2514',\n\tlineUpRightArc: '\u2570',\n\tlineUpBoldRightBold: '\u2517',\n\tlineUpBoldRight: '\u2516',\n\tlineUpRightBold: '\u2515',\n\tlineUpDoubleRightDouble: '\u255A',\n\tlineUpDoubleRight: '\u2559',\n\tlineUpRightDouble: '\u2558',\n\tlineUpDownLeft: '\u2524',\n\tlineUpBoldDownBoldLeftBold: '\u252B',\n\tlineUpBoldDownBoldLeft: '\u2528',\n\tlineUpDownLeftBold: '\u2525',\n\tlineUpBoldDownLeftBold: '\u2529',\n\tlineUpDownBoldLeftBold: '\u252A',\n\tlineUpDownBoldLeft: '\u2527',\n\tlineUpBoldDownLeft: '\u2526',\n\tlineUpDoubleDownDoubleLeftDouble: '\u2563',\n\tlineUpDoubleDownDoubleLeft: '\u2562',\n\tlineUpDownLeftDouble: '\u2561',\n\tlineUpDownRight: '\u251C',\n\tlineUpBoldDownBoldRightBold: '\u2523',\n\tlineUpBoldDownBoldRight: '\u2520',\n\tlineUpDownRightBold: '\u251D',\n\tlineUpBoldDownRightBold: '\u2521',\n\tlineUpDownBoldRightBold: '\u2522',\n\tlineUpDownBoldRight: '\u251F',\n\tlineUpBoldDownRight: '\u251E',\n\tlineUpDoubleDownDoubleRightDouble: '\u2560',\n\tlineUpDoubleDownDoubleRight: '\u255F',\n\tlineUpDownRightDouble: '\u255E',\n\tlineDownLeftRight: '\u252C',\n\tlineDownBoldLeftBoldRightBold: '\u2533',\n\tlineDownLeftBoldRightBold: '\u252F',\n\tlineDownBoldLeftRight: '\u2530',\n\tlineDownBoldLeftBoldRight: '\u2531',\n\tlineDownBoldLeftRightBold: '\u2532',\n\tlineDownLeftRightBold: '\u252E',\n\tlineDownLeftBoldRight: '\u252D',\n\tlineDownDoubleLeftDoubleRightDouble: '\u2566',\n\tlineDownDoubleLeftRight: '\u2565',\n\tlineDownLeftDoubleRightDouble: '\u2564',\n\tlineUpLeftRight: '\u2534',\n\tlineUpBoldLeftBoldRightBold: '\u253B',\n\tlineUpLeftBoldRightBold: '\u2537',\n\tlineUpBoldLeftRight: '\u2538',\n\tlineUpBoldLeftBoldRight: '\u2539',\n\tlineUpBoldLeftRightBold: '\u253A',\n\tlineUpLeftRightBold: '\u2536',\n\tlineUpLeftBoldRight: '\u2535',\n\tlineUpDoubleLeftDoubleRightDouble: '\u2569',\n\tlineUpDoubleLeftRight: '\u2568',\n\tlineUpLeftDoubleRightDouble: '\u2567',\n\tlineUpDownLeftRight: '\u253C',\n\tlineUpBoldDownBoldLeftBoldRightBold: '\u254B',\n\tlineUpDownBoldLeftBoldRightBold: '\u2548',\n\tlineUpBoldDownLeftBoldRightBold: '\u2547',\n\tlineUpBoldDownBoldLeftRightBold: '\u254A',\n\tlineUpBoldDownBoldLeftBoldRight: '\u2549',\n\tlineUpBoldDownLeftRight: '\u2540',\n\tlineUpDownBoldLeftRight: '\u2541',\n\tlineUpDownLeftBoldRight: '\u253D',\n\tlineUpDownLeftRightBold: '\u253E',\n\tlineUpBoldDownBoldLeftRight: '\u2542',\n\tlineUpDownLeftBoldRightBold: '\u253F',\n\tlineUpBoldDownLeftBoldRight: '\u2543',\n\tlineUpBoldDownLeftRightBold: '\u2544',\n\tlineUpDownBoldLeftBoldRight: '\u2545',\n\tlineUpDownBoldLeftRightBold: '\u2546',\n\tlineUpDoubleDownDoubleLeftDoubleRightDouble: '\u256C',\n\tlineUpDoubleDownDoubleLeftRight: '\u256B',\n\tlineUpDownLeftDoubleRightDouble: '\u256A',\n\tlineCross: '\u2573',\n\tlineBackslash: '\u2572',\n\tlineSlash: '\u2571',\n};\n\nconst specialMainSymbols = {\n\ttick: '\u2714',\n\tinfo: '\u2139',\n\twarning: '\u26A0',\n\tcross: '\u2718',\n\tsquareSmall: '\u25FB',\n\tsquareSmallFilled: '\u25FC',\n\tcircle: '\u25EF',\n\tcircleFilled: '\u25C9',\n\tcircleDotted: '\u25CC',\n\tcircleDouble: '\u25CE',\n\tcircleCircle: '\u24DE',\n\tcircleCross: '\u24E7',\n\tcirclePipe: '\u24BE',\n\tradioOn: '\u25C9',\n\tradioOff: '\u25EF',\n\tcheckboxOn: '\u2612',\n\tcheckboxOff: '\u2610',\n\tcheckboxCircleOn: '\u24E7',\n\tcheckboxCircleOff: '\u24BE',\n\tpointer: '\u276F',\n\ttriangleUpOutline: '\u25B3',\n\ttriangleLeft: '\u25C0',\n\ttriangleRight: '\u25B6',\n\tlozenge: '\u25C6',\n\tlozengeOutline: '\u25C7',\n\thamburger: '\u2630',\n\tsmiley: '\u32E1',\n\tmustache: '\u0DF4',\n\tstar: '\u2605',\n\tplay: '\u25B6',\n\tnodejs: '\u2B22',\n\toneSeventh: '\u2150',\n\toneNinth: '\u2151',\n\toneTenth: '\u2152',\n};\n\nconst specialFallbackSymbols = {\n\ttick: '\u221A',\n\tinfo: 'i',\n\twarning: '\u203C',\n\tcross: '\u00D7',\n\tsquareSmall: '\u25A1',\n\tsquareSmallFilled: '\u25A0',\n\tcircle: '( )',\n\tcircleFilled: '(*)',\n\tcircleDotted: '( )',\n\tcircleDouble: '( )',\n\tcircleCircle: '(\u25CB)',\n\tcircleCross: '(\u00D7)',\n\tcirclePipe: '(\u2502)',\n\tradioOn: '(*)',\n\tradioOff: '( )',\n\tcheckboxOn: '[\u00D7]',\n\tcheckboxOff: '[ ]',\n\tcheckboxCircleOn: '(\u00D7)',\n\tcheckboxCircleOff: '( )',\n\tpointer: '>',\n\ttriangleUpOutline: '\u2206',\n\ttriangleLeft: '\u25C4',\n\ttriangleRight: '\u25BA',\n\tlozenge: '\u2666',\n\tlozengeOutline: '\u25CA',\n\thamburger: '\u2261',\n\tsmiley: '\u263A',\n\tmustache: '\u250C\u2500\u2510',\n\tstar: '\u2736',\n\tplay: '\u25BA',\n\tnodejs: '\u2666',\n\toneSeventh: '1/7',\n\toneNinth: '1/9',\n\toneTenth: '1/10',\n};\n\nexport const mainSymbols = {...common, ...specialMainSymbols};\nexport const fallbackSymbols = {...common, ...specialFallbackSymbols};\n\nconst shouldUseMain = isUnicodeSupported();\nconst figures = shouldUseMain ? mainSymbols : fallbackSymbols;\nexport default figures;\n\nconst replacements = Object.entries(specialMainSymbols);\n\n// On terminals which do not support Unicode symbols, substitute them to other symbols\nexport const replaceSymbols = (string, {useFallback = !shouldUseMain} = {}) => {\n\tif (useFallback) {\n\t\tfor (const [key, mainSymbol] of replacements) {\n\t\t\tstring = string.replaceAll(mainSymbol, fallbackSymbols[key]);\n\t\t}\n\t}\n\n\treturn string;\n};\n", "import tty from 'node:tty';\n\n// eslint-disable-next-line no-warning-comments\n// TODO: Use a better method when it's added to Node.js (https://github.com/nodejs/node/pull/40240)\n// Lots of optionals here to support Deno.\nconst hasColors = tty?.WriteStream?.prototype?.hasColors?.() ?? false;\n\nconst format = (open, close) => {\n\tif (!hasColors) {\n\t\treturn input => input;\n\t}\n\n\tconst openCode = `\\u001B[${open}m`;\n\tconst closeCode = `\\u001B[${close}m`;\n\n\treturn input => {\n\t\tconst string = input + ''; // eslint-disable-line no-implicit-coercion -- This is faster.\n\t\tlet index = string.indexOf(closeCode);\n\n\t\tif (index === -1) {\n\t\t\t// Note: Intentionally not using string interpolation for performance reasons.\n\t\t\treturn openCode + string + closeCode;\n\t\t}\n\n\t\t// Handle nested colors.\n\n\t\t// We could have done this, but it's too slow (as of Node.js 22).\n\t\t// return openCode + string.replaceAll(closeCode, openCode) + closeCode;\n\n\t\tlet result = openCode;\n\t\tlet lastIndex = 0;\n\n\t\twhile (index !== -1) {\n\t\t\tresult += string.slice(lastIndex, index) + openCode;\n\t\t\tlastIndex = index + closeCode.length;\n\t\t\tindex = string.indexOf(closeCode, lastIndex);\n\t\t}\n\n\t\tresult += string.slice(lastIndex) + closeCode;\n\n\t\treturn result;\n\t};\n};\n\nexport const reset = format(0, 0);\nexport const bold = format(1, 22);\nexport const dim = format(2, 22);\nexport const italic = format(3, 23);\nexport const underline = format(4, 24);\nexport const overline = format(53, 55);\nexport const inverse = format(7, 27);\nexport const hidden = format(8, 28);\nexport const strikethrough = format(9, 29);\n\nexport const black = format(30, 39);\nexport const red = format(31, 39);\nexport const green = format(32, 39);\nexport const yellow = format(33, 39);\nexport const blue = format(34, 39);\nexport const magenta = format(35, 39);\nexport const cyan = format(36, 39);\nexport const white = format(37, 39);\nexport const gray = format(90, 39);\n\nexport const bgBlack = format(40, 49);\nexport const bgRed = format(41, 49);\nexport const bgGreen = format(42, 49);\nexport const bgYellow = format(43, 49);\nexport const bgBlue = format(44, 49);\nexport const bgMagenta = format(45, 49);\nexport const bgCyan = format(46, 49);\nexport const bgWhite = format(47, 49);\nexport const bgGray = format(100, 49);\n\nexport const redBright = format(91, 39);\nexport const greenBright = format(92, 39);\nexport const yellowBright = format(93, 39);\nexport const blueBright = format(94, 39);\nexport const magentaBright = format(95, 39);\nexport const cyanBright = format(96, 39);\nexport const whiteBright = format(97, 39);\n\nexport const bgRedBright = format(101, 49);\nexport const bgGreenBright = format(102, 49);\nexport const bgYellowBright = format(103, 49);\nexport const bgBlueBright = format(104, 49);\nexport const bgMagentaBright = format(105, 49);\nexport const bgCyanBright = format(106, 49);\nexport const bgWhiteBright = format(107, 49);\n", "import figures from 'figures';\nimport {\n\tgray,\n\tbold,\n\tredBright,\n\tyellowBright,\n} from 'yoctocolors';\n\n// Default when `verbose` is not a function\nexport const defaultVerboseFunction = ({\n\ttype,\n\tmessage,\n\ttimestamp,\n\tpiped,\n\tcommandId,\n\tresult: {failed = false} = {},\n\toptions: {reject = true},\n}) => {\n\tconst timestampString = serializeTimestamp(timestamp);\n\tconst icon = ICONS[type]({failed, reject, piped});\n\tconst color = COLORS[type]({reject});\n\treturn `${gray(`[${timestampString}]`)} ${gray(`[${commandId}]`)} ${color(icon)} ${color(message)}`;\n};\n\n// Prepending the timestamp allows debugging the slow paths of a subprocess\nconst serializeTimestamp = timestamp => `${padField(timestamp.getHours(), 2)}:${padField(timestamp.getMinutes(), 2)}:${padField(timestamp.getSeconds(), 2)}.${padField(timestamp.getMilliseconds(), 3)}`;\n\nconst padField = (field, padding) => String(field).padStart(padding, '0');\n\nconst getFinalIcon = ({failed, reject}) => {\n\tif (!failed) {\n\t\treturn figures.tick;\n\t}\n\n\treturn reject ? figures.cross : figures.warning;\n};\n\nconst ICONS = {\n\tcommand: ({piped}) => piped ? '|' : '$',\n\toutput: () => ' ',\n\tipc: () => '*',\n\terror: getFinalIcon,\n\tduration: getFinalIcon,\n};\n\nconst identity = string => string;\n\nconst COLORS = {\n\tcommand: () => bold,\n\toutput: () => identity,\n\tipc: () => identity,\n\terror: ({reject}) => reject ? redBright : yellowBright,\n\tduration: () => gray,\n};\n", "import {getVerboseFunction} from './values.js';\n\n// Apply the `verbose` function on each line\nexport const applyVerboseOnLines = (printedLines, verboseInfo, fdNumber) => {\n\tconst verboseFunction = getVerboseFunction(verboseInfo, fdNumber);\n\treturn printedLines\n\t\t.map(({verboseLine, verboseObject}) => applyVerboseFunction(verboseLine, verboseObject, verboseFunction))\n\t\t.filter(printedLine => printedLine !== undefined)\n\t\t.map(printedLine => appendNewline(printedLine))\n\t\t.join('');\n};\n\nconst applyVerboseFunction = (verboseLine, verboseObject, verboseFunction) => {\n\tif (verboseFunction === undefined) {\n\t\treturn verboseLine;\n\t}\n\n\tconst printedLine = verboseFunction(verboseLine, verboseObject);\n\tif (typeof printedLine === 'string') {\n\t\treturn printedLine;\n\t}\n};\n\nconst appendNewline = printedLine => printedLine.endsWith('\\n')\n\t? printedLine\n\t: `${printedLine}\\n`;\n", "import {isVerbose} from './values.js';\nimport {verboseLog} from './log.js';\n\n// When `verbose` is `short|full|custom`, print each command\nexport const logCommand = (escapedCommand, verboseInfo) => {\n\tif (!isVerbose(verboseInfo)) {\n\t\treturn;\n\t}\n\n\tverboseLog({\n\t\ttype: 'command',\n\t\tverboseMessage: escapedCommand,\n\t\tverboseInfo,\n\t});\n};\n", "import {isVerbose, VERBOSE_VALUES, isVerboseFunction} from './values.js';\n\n// Information computed before spawning, used by the `verbose` option\nexport const getVerboseInfo = (verbose, escapedCommand, rawOptions) => {\n\tvalidateVerbose(verbose);\n\tconst commandId = getCommandId(verbose);\n\treturn {\n\t\tverbose,\n\t\tescapedCommand,\n\t\tcommandId,\n\t\trawOptions,\n\t};\n};\n\nconst getCommandId = verbose => isVerbose({verbose}) ? COMMAND_ID++ : undefined;\n\n// Prepending the `pid` is useful when multiple commands print their output at the same time.\n// However, we cannot use the real PID since this is not available with `child_process.spawnSync()`.\n// Also, we cannot use the real PID if we want to print it before `child_process.spawn()` is run.\n// As a pro, it is shorter than a normal PID and never re-uses the same id.\n// As a con, it cannot be used to send signals.\nlet COMMAND_ID = 0n;\n\nconst validateVerbose = verbose => {\n\tfor (const fdVerbose of verbose) {\n\t\tif (fdVerbose === false) {\n\t\t\tthrow new TypeError('The \"verbose: false\" option was renamed to \"verbose: \\'none\\'\".');\n\t\t}\n\n\t\tif (fdVerbose === true) {\n\t\t\tthrow new TypeError('The \"verbose: true\" option was renamed to \"verbose: \\'short\\'\".');\n\t\t}\n\n\t\tif (!VERBOSE_VALUES.includes(fdVerbose) && !isVerboseFunction(fdVerbose)) {\n\t\t\tconst allowedValues = VERBOSE_VALUES.map(allowedValue => `'${allowedValue}'`).join(', ');\n\t\t\tthrow new TypeError(`The \"verbose\" option must not be ${fdVerbose}. Allowed values are: ${allowedValues} or a function.`);\n\t\t}\n\t}\n};\n", "import {hrtime} from 'node:process';\n\n// Start counting time before spawning the subprocess\nexport const getStartTime = () => hrtime.bigint();\n\n// Compute duration after the subprocess ended.\n// Printed by the `verbose` option.\nexport const getDurationMs = startTime => Number(hrtime.bigint() - startTime) / 1e6;\n", "import {logCommand} from '../verbose/start.js';\nimport {getVerboseInfo} from '../verbose/info.js';\nimport {getStartTime} from '../return/duration.js';\nimport {joinCommand} from './escape.js';\nimport {normalizeFdSpecificOption} from './specific.js';\n\n// Compute `result.command`, `result.escapedCommand` and `verbose`-related information\nexport const handleCommand = (filePath, rawArguments, rawOptions) => {\n\tconst startTime = getStartTime();\n\tconst {command, escapedCommand} = joinCommand(filePath, rawArguments);\n\tconst verbose = normalizeFdSpecificOption(rawOptions, 'verbose');\n\tconst verboseInfo = getVerboseInfo(verbose, escapedCommand, {...rawOptions});\n\tlogCommand(escapedCommand, verboseInfo);\n\treturn {\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t};\n};\n", "import path from 'node:path';\nimport process from 'node:process';\nimport crossSpawn from 'cross-spawn';\nimport {npmRunPathEnv} from 'npm-run-path';\nimport {normalizeForceKillAfterDelay} from '../terminate/kill.js';\nimport {normalizeKillSignal} from '../terminate/signal.js';\nimport {validateCancelSignal} from '../terminate/cancel.js';\nimport {validateGracefulCancel} from '../terminate/graceful.js';\nimport {validateTimeout} from '../terminate/timeout.js';\nimport {handleNodeOption} from '../methods/node.js';\nimport {validateIpcInputOption} from '../ipc/ipc-input.js';\nimport {validateEncoding, BINARY_ENCODINGS} from './encoding-option.js';\nimport {normalizeCwd} from './cwd.js';\nimport {normalizeFileUrl} from './file-url.js';\nimport {normalizeFdSpecificOptions} from './specific.js';\n\n// Normalize the options object, and sometimes also the file paths and arguments.\n// Applies default values, validate allowed options, normalize them.\nexport const normalizeOptions = (filePath, rawArguments, rawOptions) => {\n\trawOptions.cwd = normalizeCwd(rawOptions.cwd);\n\tconst [processedFile, processedArguments, processedOptions] = handleNodeOption(filePath, rawArguments, rawOptions);\n\n\tconst {command: file, args: commandArguments, options: initialOptions} = crossSpawn._parse(processedFile, processedArguments, processedOptions);\n\n\tconst fdOptions = normalizeFdSpecificOptions(initialOptions);\n\tconst options = addDefaultOptions(fdOptions);\n\tvalidateTimeout(options);\n\tvalidateEncoding(options);\n\tvalidateIpcInputOption(options);\n\tvalidateCancelSignal(options);\n\tvalidateGracefulCancel(options);\n\toptions.shell = normalizeFileUrl(options.shell);\n\toptions.env = getEnv(options);\n\toptions.killSignal = normalizeKillSignal(options.killSignal);\n\toptions.forceKillAfterDelay = normalizeForceKillAfterDelay(options.forceKillAfterDelay);\n\toptions.lines = options.lines.map((lines, fdNumber) => lines && !BINARY_ENCODINGS.has(options.encoding) && options.buffer[fdNumber]);\n\n\tif (process.platform === 'win32' && path.basename(file, '.exe') === 'cmd') {\n\t\t// #116\n\t\tcommandArguments.unshift('/q');\n\t}\n\n\treturn {file, commandArguments, options};\n};\n\nconst addDefaultOptions = ({\n\textendEnv = true,\n\tpreferLocal = false,\n\tcwd,\n\tlocalDir: localDirectory = cwd,\n\tencoding = 'utf8',\n\treject = true,\n\tcleanup = true,\n\tall = false,\n\twindowsHide = true,\n\tkillSignal = 'SIGTERM',\n\tforceKillAfterDelay = true,\n\tgracefulCancel = false,\n\tipcInput,\n\tipc = ipcInput !== undefined || gracefulCancel,\n\tserialization = 'advanced',\n\t...options\n}) => ({\n\t...options,\n\textendEnv,\n\tpreferLocal,\n\tcwd,\n\tlocalDirectory,\n\tencoding,\n\treject,\n\tcleanup,\n\tall,\n\twindowsHide,\n\tkillSignal,\n\tforceKillAfterDelay,\n\tgracefulCancel,\n\tipcInput,\n\tipc,\n\tserialization,\n});\n\nconst getEnv = ({env: envOption, extendEnv, preferLocal, node, localDirectory, nodePath}) => {\n\tconst env = extendEnv ? {...process.env, ...envOption} : envOption;\n\n\tif (preferLocal || node) {\n\t\treturn npmRunPathEnv({\n\t\t\tenv,\n\t\t\tcwd: localDirectory,\n\t\t\texecPath: nodePath,\n\t\t\tpreferLocal,\n\t\t\taddExecPath: node,\n\t\t});\n\t}\n\n\treturn env;\n};\n", "import process from 'node:process';\nimport path from 'node:path';\nimport pathKey from 'path-key';\nimport {toPath, traversePathUp} from 'unicorn-magic';\n\nexport const npmRunPath = ({\n\tcwd = process.cwd(),\n\tpath: pathOption = process.env[pathKey()],\n\tpreferLocal = true,\n\texecPath = process.execPath,\n\taddExecPath = true,\n} = {}) => {\n\tconst cwdPath = path.resolve(toPath(cwd));\n\tconst result = [];\n\tconst pathParts = pathOption.split(path.delimiter);\n\n\tif (preferLocal) {\n\t\tapplyPreferLocal(result, pathParts, cwdPath);\n\t}\n\n\tif (addExecPath) {\n\t\tapplyExecPath(result, pathParts, execPath, cwdPath);\n\t}\n\n\treturn pathOption === '' || pathOption === path.delimiter\n\t\t? `${result.join(path.delimiter)}${pathOption}`\n\t\t: [...result, pathOption].join(path.delimiter);\n};\n\nconst applyPreferLocal = (result, pathParts, cwdPath) => {\n\tfor (const directory of traversePathUp(cwdPath)) {\n\t\tconst pathPart = path.join(directory, 'node_modules/.bin');\n\t\tif (!pathParts.includes(pathPart)) {\n\t\t\tresult.push(pathPart);\n\t\t}\n\t}\n};\n\n// Ensure the running `node` binary is used\nconst applyExecPath = (result, pathParts, execPath, cwdPath) => {\n\tconst pathPart = path.resolve(cwdPath, toPath(execPath), '..');\n\tif (!pathParts.includes(pathPart)) {\n\t\tresult.push(pathPart);\n\t}\n};\n\nexport const npmRunPathEnv = ({env = process.env, ...options} = {}) => {\n\tenv = {...env};\n\n\tconst pathName = pathKey({env});\n\toptions.path = env[pathName];\n\tenv[pathName] = npmRunPath(options);\n\n\treturn env;\n};\n", "export default function pathKey(options = {}) {\n\tconst {\n\t\tenv = process.env,\n\t\tplatform = process.platform\n\t} = options;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(env).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n}\n", "import {promisify} from 'node:util';\nimport {execFile as execFileCallback, execFileSync as execFileSyncOriginal} from 'node:child_process';\nimport path from 'node:path';\nimport {fileURLToPath} from 'node:url';\n\nconst execFileOriginal = promisify(execFileCallback);\n\nexport function toPath(urlOrPath) {\n\treturn urlOrPath instanceof URL ? fileURLToPath(urlOrPath) : urlOrPath;\n}\n\nexport function rootDirectory(pathInput) {\n\treturn path.parse(toPath(pathInput)).root;\n}\n\nexport function traversePathUp(startPath) {\n\treturn {\n\t\t* [Symbol.iterator]() {\n\t\t\tlet currentPath = path.resolve(toPath(startPath));\n\t\t\tlet previousPath;\n\n\t\t\twhile (previousPath !== currentPath) {\n\t\t\t\tyield currentPath;\n\t\t\t\tpreviousPath = currentPath;\n\t\t\t\tcurrentPath = path.resolve(currentPath, '..');\n\t\t\t}\n\t\t},\n\t};\n}\n\nconst TEN_MEGABYTES_IN_BYTES = 10 * 1024 * 1024;\n\nexport async function execFile(file, arguments_, options = {}) {\n\treturn execFileOriginal(file, arguments_, {\n\t\tmaxBuffer: TEN_MEGABYTES_IN_BYTES,\n\t\t...options,\n\t});\n}\n\nexport function execFileSync(file, arguments_ = [], options = {}) {\n\treturn execFileSyncOriginal(file, arguments_, {\n\t\tmaxBuffer: TEN_MEGABYTES_IN_BYTES,\n\t\tencoding: 'utf8',\n\t\tstdio: 'pipe',\n\t\t...options,\n\t});\n}\n\nexport * from './default.js';\n", "import {setTimeout} from 'node:timers/promises';\nimport {isErrorInstance} from '../return/final-error.js';\nimport {normalizeSignalArgument} from './signal.js';\n\n// Normalize the `forceKillAfterDelay` option\nexport const normalizeForceKillAfterDelay = forceKillAfterDelay => {\n\tif (forceKillAfterDelay === false) {\n\t\treturn forceKillAfterDelay;\n\t}\n\n\tif (forceKillAfterDelay === true) {\n\t\treturn DEFAULT_FORCE_KILL_TIMEOUT;\n\t}\n\n\tif (!Number.isFinite(forceKillAfterDelay) || forceKillAfterDelay < 0) {\n\t\tthrow new TypeError(`Expected the \\`forceKillAfterDelay\\` option to be a non-negative integer, got \\`${forceKillAfterDelay}\\` (${typeof forceKillAfterDelay})`);\n\t}\n\n\treturn forceKillAfterDelay;\n};\n\nconst DEFAULT_FORCE_KILL_TIMEOUT = 1000 * 5;\n\n// Monkey-patches `subprocess.kill()` to add `forceKillAfterDelay` behavior and `.kill(error)`\nexport const subprocessKill = (\n\t{kill, options: {forceKillAfterDelay, killSignal}, onInternalError, context, controller},\n\tsignalOrError,\n\terrorArgument,\n) => {\n\tconst {signal, error} = parseKillArguments(signalOrError, errorArgument, killSignal);\n\temitKillError(error, onInternalError);\n\tconst killResult = kill(signal);\n\tsetKillTimeout({\n\t\tkill,\n\t\tsignal,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tkillResult,\n\t\tcontext,\n\t\tcontroller,\n\t});\n\treturn killResult;\n};\n\nconst parseKillArguments = (signalOrError, errorArgument, killSignal) => {\n\tconst [signal = killSignal, error] = isErrorInstance(signalOrError)\n\t\t? [undefined, signalOrError]\n\t\t: [signalOrError, errorArgument];\n\n\tif (typeof signal !== 'string' && !Number.isInteger(signal)) {\n\t\tthrow new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(signal)}`);\n\t}\n\n\tif (error !== undefined && !isErrorInstance(error)) {\n\t\tthrow new TypeError(`The second argument is optional. If specified, it must be an error instance: ${error}`);\n\t}\n\n\treturn {signal: normalizeSignalArgument(signal), error};\n};\n\n// Fails right away when calling `subprocess.kill(error)`.\n// Does not wait for actual signal termination.\n// Uses a deferred promise instead of the `error` event on the subprocess, as this is less intrusive.\nconst emitKillError = (error, onInternalError) => {\n\tif (error !== undefined) {\n\t\tonInternalError.reject(error);\n\t}\n};\n\nconst setKillTimeout = async ({kill, signal, forceKillAfterDelay, killSignal, killResult, context, controller}) => {\n\tif (signal === killSignal && killResult) {\n\t\tkillOnTimeout({\n\t\t\tkill,\n\t\t\tforceKillAfterDelay,\n\t\t\tcontext,\n\t\t\tcontrollerSignal: controller.signal,\n\t\t});\n\t}\n};\n\n// Forcefully terminate a subprocess after a timeout\nexport const killOnTimeout = async ({kill, forceKillAfterDelay, context, controllerSignal}) => {\n\tif (forceKillAfterDelay === false) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait setTimeout(forceKillAfterDelay, undefined, {signal: controllerSignal});\n\t\tif (kill('SIGKILL')) {\n\t\t\tcontext.isForcefullyTerminated ??= true;\n\t\t}\n\t} catch {}\n};\n", "// When the subprocess fails, this is the error instance being returned.\n// If another error instance is being thrown, it is kept as `error.cause`.\nexport const getFinalError = (originalError, message, isSync) => {\n\tconst ErrorClass = isSync ? ExecaSyncError : ExecaError;\n\tconst options = originalError instanceof DiscardedError ? {} : {cause: originalError};\n\treturn new ErrorClass(message, options);\n};\n\n// Indicates that the error is used only to interrupt control flow, but not in the return value\nexport class DiscardedError extends Error {}\n\n// Proper way to set `error.name`: it should be inherited and non-enumerable\nconst setErrorName = (ErrorClass, value) => {\n\tObject.defineProperty(ErrorClass.prototype, 'name', {\n\t\tvalue,\n\t\twritable: true,\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t});\n\tObject.defineProperty(ErrorClass.prototype, execaErrorSymbol, {\n\t\tvalue: true,\n\t\twritable: false,\n\t\tenumerable: false,\n\t\tconfigurable: false,\n\t});\n};\n\n// Unlike `instanceof`, this works across realms\nexport const isExecaError = error => isErrorInstance(error) && execaErrorSymbol in error;\n\nconst execaErrorSymbol = Symbol('isExecaError');\n\nexport const isErrorInstance = value => Object.prototype.toString.call(value) === '[object Error]';\n\n// We use two different Error classes for async/sync methods since they have slightly different shape and types\nexport class ExecaError extends Error {}\nsetErrorName(ExecaError, ExecaError.name);\n\nexport class ExecaSyncError extends Error {}\nsetErrorName(ExecaSyncError, ExecaSyncError.name);\n", "import {constants} from 'node:os';\nimport {signalsByName} from 'human-signals';\n\n// Normalize signals for comparison purpose.\n// Also validate the signal exists.\nexport const normalizeKillSignal = killSignal => {\n\tconst optionName = 'option `killSignal`';\n\tif (killSignal === 0) {\n\t\tthrow new TypeError(`Invalid ${optionName}: 0 cannot be used.`);\n\t}\n\n\treturn normalizeSignal(killSignal, optionName);\n};\n\nexport const normalizeSignalArgument = signal => signal === 0\n\t? signal\n\t: normalizeSignal(signal, '`subprocess.kill()`\\'s argument');\n\nconst normalizeSignal = (signalNameOrInteger, optionName) => {\n\tif (Number.isInteger(signalNameOrInteger)) {\n\t\treturn normalizeSignalInteger(signalNameOrInteger, optionName);\n\t}\n\n\tif (typeof signalNameOrInteger === 'string') {\n\t\treturn normalizeSignalName(signalNameOrInteger, optionName);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} ${String(signalNameOrInteger)}: it must be a string or an integer.\\n${getAvailableSignals()}`);\n};\n\nconst normalizeSignalInteger = (signalInteger, optionName) => {\n\tif (signalsIntegerToName.has(signalInteger)) {\n\t\treturn signalsIntegerToName.get(signalInteger);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} ${signalInteger}: this signal integer does not exist.\\n${getAvailableSignals()}`);\n};\n\nconst getSignalsIntegerToName = () => new Map(Object.entries(constants.signals)\n\t.reverse()\n\t.map(([signalName, signalInteger]) => [signalInteger, signalName]));\n\nconst signalsIntegerToName = getSignalsIntegerToName();\n\nconst normalizeSignalName = (signalName, optionName) => {\n\tif (signalName in constants.signals) {\n\t\treturn signalName;\n\t}\n\n\tif (signalName.toUpperCase() in constants.signals) {\n\t\tthrow new TypeError(`Invalid ${optionName} '${signalName}': please rename it to '${signalName.toUpperCase()}'.`);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} '${signalName}': this signal name does not exist.\\n${getAvailableSignals()}`);\n};\n\nconst getAvailableSignals = () => `Available signal names: ${getAvailableSignalNames()}.\nAvailable signal numbers: ${getAvailableSignalIntegers()}.`;\n\nconst getAvailableSignalNames = () => Object.keys(constants.signals)\n\t.sort()\n\t.map(signalName => `'${signalName}'`)\n\t.join(', ');\n\nconst getAvailableSignalIntegers = () => [...new Set(Object.values(constants.signals)\n\t.sort((signalInteger, signalIntegerTwo) => signalInteger - signalIntegerTwo))]\n\t.join(', ');\n\n// Human-friendly description of a signal\nexport const getSignalDescription = signal => signalsByName[signal].description;\n", "import{constants}from\"node:os\";\n\nimport{SIGRTMAX}from\"./realtime.js\";\nimport{getSignals}from\"./signals.js\";\n\n\n\nconst getSignalsByName=()=>{\nconst signals=getSignals();\nreturn Object.fromEntries(signals.map(getSignalByName))\n};\n\nconst getSignalByName=({\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard\n})=>[name,{name,number,description,supported,action,forced,standard}];\n\nexport const signalsByName=getSignalsByName();\n\n\n\n\nconst getSignalsByNumber=()=>{\nconst signals=getSignals();\nconst length=SIGRTMAX+1;\nconst signalsA=Array.from({length},(value,number)=>\ngetSignalByNumber(number,signals)\n);\nreturn Object.assign({},...signalsA)\n};\n\nconst getSignalByNumber=(number,signals)=>{\nconst signal=findSignalByNumber(number,signals);\n\nif(signal===undefined){\nreturn{}\n}\n\nconst{name,description,supported,action,forced,standard}=signal;\nreturn{\n[number]:{\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard\n}\n}\n};\n\n\n\nconst findSignalByNumber=(number,signals)=>{\nconst signal=signals.find(({name})=>constants.signals[name]===number);\n\nif(signal!==undefined){\nreturn signal\n}\n\nreturn signals.find((signalA)=>signalA.number===number)\n};\n\nexport const signalsByNumber=getSignalsByNumber();", "\nexport const getRealtimeSignals=()=>{\nconst length=SIGRTMAX-SIGRTMIN+1;\nreturn Array.from({length},getRealtimeSignal)\n};\n\nconst getRealtimeSignal=(value,index)=>({\nname:`SIGRT${index+1}`,\nnumber:SIGRTMIN+index,\naction:\"terminate\",\ndescription:\"Application-specific signal (realtime)\",\nstandard:\"posix\"\n});\n\nconst SIGRTMIN=34;\nexport const SIGRTMAX=64;", "import{constants}from\"node:os\";\n\nimport{SIGNALS}from\"./core.js\";\nimport{getRealtimeSignals}from\"./realtime.js\";\n\n\n\nexport const getSignals=()=>{\nconst realtimeSignals=getRealtimeSignals();\nconst signals=[...SIGNALS,...realtimeSignals].map(normalizeSignal);\nreturn signals\n};\n\n\n\n\n\n\n\nconst normalizeSignal=({\nname,\nnumber:defaultNumber,\ndescription,\naction,\nforced=false,\nstandard\n})=>{\nconst{\nsignals:{[name]:constantSignal}\n}=constants;\nconst supported=constantSignal!==undefined;\nconst number=supported?constantSignal:defaultNumber;\nreturn{name,number,description,supported,action,forced,standard}\n};", "\n\nexport const SIGNALS=[\n{\nname:\"SIGHUP\",\nnumber:1,\naction:\"terminate\",\ndescription:\"Terminal closed\",\nstandard:\"posix\"\n},\n{\nname:\"SIGINT\",\nnumber:2,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-C\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGQUIT\",\nnumber:3,\naction:\"core\",\ndescription:\"User interruption with CTRL-\\\\\",\nstandard:\"posix\"\n},\n{\nname:\"SIGILL\",\nnumber:4,\naction:\"core\",\ndescription:\"Invalid machine instruction\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGTRAP\",\nnumber:5,\naction:\"core\",\ndescription:\"Debugger breakpoint\",\nstandard:\"posix\"\n},\n{\nname:\"SIGABRT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGIOT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGBUS\",\nnumber:7,\naction:\"core\",\ndescription:\n\"Bus error due to misaligned, non-existing address or paging error\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGEMT\",\nnumber:7,\naction:\"terminate\",\ndescription:\"Command should be emulated but is not implemented\",\nstandard:\"other\"\n},\n{\nname:\"SIGFPE\",\nnumber:8,\naction:\"core\",\ndescription:\"Floating point arithmetic error\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGKILL\",\nnumber:9,\naction:\"terminate\",\ndescription:\"Forced termination\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGUSR1\",\nnumber:10,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"\n},\n{\nname:\"SIGSEGV\",\nnumber:11,\naction:\"core\",\ndescription:\"Segmentation fault\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGUSR2\",\nnumber:12,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"\n},\n{\nname:\"SIGPIPE\",\nnumber:13,\naction:\"terminate\",\ndescription:\"Broken pipe or socket\",\nstandard:\"posix\"\n},\n{\nname:\"SIGALRM\",\nnumber:14,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"posix\"\n},\n{\nname:\"SIGTERM\",\nnumber:15,\naction:\"terminate\",\ndescription:\"Termination\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGSTKFLT\",\nnumber:16,\naction:\"terminate\",\ndescription:\"Stack is empty or overflowed\",\nstandard:\"other\"\n},\n{\nname:\"SIGCHLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"posix\"\n},\n{\nname:\"SIGCLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"other\"\n},\n{\nname:\"SIGCONT\",\nnumber:18,\naction:\"unpause\",\ndescription:\"Unpaused\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGSTOP\",\nnumber:19,\naction:\"pause\",\ndescription:\"Paused\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGTSTP\",\nnumber:20,\naction:\"pause\",\ndescription:\"Paused using CTRL-Z or \\\"suspend\\\"\",\nstandard:\"posix\"\n},\n{\nname:\"SIGTTIN\",\nnumber:21,\naction:\"pause\",\ndescription:\"Background process cannot read terminal input\",\nstandard:\"posix\"\n},\n{\nname:\"SIGBREAK\",\nnumber:21,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-BREAK\",\nstandard:\"other\"\n},\n{\nname:\"SIGTTOU\",\nnumber:22,\naction:\"pause\",\ndescription:\"Background process cannot write to terminal output\",\nstandard:\"posix\"\n},\n{\nname:\"SIGURG\",\nnumber:23,\naction:\"ignore\",\ndescription:\"Socket received out-of-band data\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGXCPU\",\nnumber:24,\naction:\"core\",\ndescription:\"Process timed out\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGXFSZ\",\nnumber:25,\naction:\"core\",\ndescription:\"File too big\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGVTALRM\",\nnumber:26,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGPROF\",\nnumber:27,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGWINCH\",\nnumber:28,\naction:\"ignore\",\ndescription:\"Terminal window size changed\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGIO\",\nnumber:29,\naction:\"terminate\",\ndescription:\"I/O is available\",\nstandard:\"other\"\n},\n{\nname:\"SIGPOLL\",\nnumber:29,\naction:\"terminate\",\ndescription:\"Watched event\",\nstandard:\"other\"\n},\n{\nname:\"SIGINFO\",\nnumber:29,\naction:\"ignore\",\ndescription:\"Request for process information\",\nstandard:\"other\"\n},\n{\nname:\"SIGPWR\",\nnumber:30,\naction:\"terminate\",\ndescription:\"Device running out of power\",\nstandard:\"systemv\"\n},\n{\nname:\"SIGSYS\",\nnumber:31,\naction:\"core\",\ndescription:\"Invalid system call\",\nstandard:\"other\"\n},\n{\nname:\"SIGUNUSED\",\nnumber:31,\naction:\"terminate\",\ndescription:\"Invalid system call\",\nstandard:\"other\"\n}];", "import {once} from 'node:events';\n\n// Combines `util.aborted()` and `events.addAbortListener()`: promise-based and cleaned up with a stop signal\nexport const onAbortedSignal = async (mainSignal, stopSignal) => {\n\tif (!mainSignal.aborted) {\n\t\tawait once(mainSignal, 'abort', {signal: stopSignal});\n\t}\n};\n", "import {onAbortedSignal} from '../utils/abort-signal.js';\n\n// Validate the `cancelSignal` option\nexport const validateCancelSignal = ({cancelSignal}) => {\n\tif (cancelSignal !== undefined && Object.prototype.toString.call(cancelSignal) !== '[object AbortSignal]') {\n\t\tthrow new Error(`The \\`cancelSignal\\` option must be an AbortSignal: ${String(cancelSignal)}`);\n\t}\n};\n\n// Terminate the subprocess when aborting the `cancelSignal` option and `gracefulSignal` is `false`\nexport const throwOnCancel = ({subprocess, cancelSignal, gracefulCancel, context, controller}) => cancelSignal === undefined || gracefulCancel\n\t? []\n\t: [terminateOnCancel(subprocess, cancelSignal, context, controller)];\n\nconst terminateOnCancel = async (subprocess, cancelSignal, context, {signal}) => {\n\tawait onAbortedSignal(cancelSignal, signal);\n\tcontext.terminationReason ??= 'cancel';\n\tsubprocess.kill();\n\tthrow cancelSignal.reason;\n};\n", "import {scheduler} from 'node:timers/promises';\nimport {sendOneMessage} from './send.js';\nimport {getIpcEmitter} from './forward.js';\nimport {validateConnection, getAbortDisconnectError, throwOnMissingParent} from './validation.js';\n\n// Send an IPC message so the subprocess performs a graceful termination\nexport const sendAbort = (subprocess, message) => {\n\tconst methodName = 'cancelSignal';\n\tvalidateConnection(methodName, false, subprocess.connected);\n\treturn sendOneMessage({\n\t\tanyProcess: subprocess,\n\t\tmethodName,\n\t\tisSubprocess: false,\n\t\twrappedMessage: {type: GRACEFUL_CANCEL_TYPE, message},\n\t\tmessage,\n\t});\n};\n\n// When the signal is being used, start listening for incoming messages.\n// Unbuffering messages takes one microtask to complete, so this must be async.\nexport const getCancelSignal = async ({anyProcess, channel, isSubprocess, ipc}) => {\n\tawait startIpc({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipc,\n\t});\n\treturn cancelController.signal;\n};\n\nconst startIpc = async ({anyProcess, channel, isSubprocess, ipc}) => {\n\tif (cancelListening) {\n\t\treturn;\n\t}\n\n\tcancelListening = true;\n\n\tif (!ipc) {\n\t\tthrowOnMissingParent();\n\t\treturn;\n\t}\n\n\tif (channel === null) {\n\t\tabortOnDisconnect();\n\t\treturn;\n\t}\n\n\tgetIpcEmitter(anyProcess, channel, isSubprocess);\n\tawait scheduler.yield();\n};\n\nlet cancelListening = false;\n\n// Reception of IPC message to perform a graceful termination\nexport const handleAbort = wrappedMessage => {\n\tif (wrappedMessage?.type !== GRACEFUL_CANCEL_TYPE) {\n\t\treturn false;\n\t}\n\n\tcancelController.abort(wrappedMessage.message);\n\treturn true;\n};\n\nconst GRACEFUL_CANCEL_TYPE = 'execa:ipc:cancel';\n\n// When the current process disconnects early, the subprocess `cancelSignal` is aborted.\n// Otherwise, the signal would never be able to be aborted later on.\nexport const abortOnDisconnect = () => {\n\tcancelController.abort(getAbortDisconnectError());\n};\n\nconst cancelController = new AbortController();\n", "import {promisify} from 'node:util';\nimport {\n\tvalidateIpcMethod,\n\thandleEpipeError,\n\thandleSerializationError,\n\tdisconnect,\n} from './validation.js';\nimport {startSendMessage, endSendMessage} from './outgoing.js';\nimport {handleSendStrict, waitForStrictResponse} from './strict.js';\n\n// Like `[sub]process.send()` but promise-based.\n// We do not `await subprocess` during `.sendMessage()` nor `.getOneMessage()` since those methods are transient.\n// Users would still need to `await subprocess` after the method is done.\n// Also, this would prevent `unhandledRejection` event from being emitted, making it silent.\nexport const sendMessage = ({anyProcess, channel, isSubprocess, ipc}, message, {strict = false} = {}) => {\n\tconst methodName = 'sendMessage';\n\tvalidateIpcMethod({\n\t\tmethodName,\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: anyProcess.connected,\n\t});\n\n\treturn sendMessageAsync({\n\t\tanyProcess,\n\t\tchannel,\n\t\tmethodName,\n\t\tisSubprocess,\n\t\tmessage,\n\t\tstrict,\n\t});\n};\n\nconst sendMessageAsync = async ({anyProcess, channel, methodName, isSubprocess, message, strict}) => {\n\tconst wrappedMessage = handleSendStrict({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tmessage,\n\t\tstrict,\n\t});\n\tconst outgoingMessagesState = startSendMessage(anyProcess, wrappedMessage, strict);\n\ttry {\n\t\tawait sendOneMessage({\n\t\t\tanyProcess,\n\t\t\tmethodName,\n\t\t\tisSubprocess,\n\t\t\twrappedMessage,\n\t\t\tmessage,\n\t\t});\n\t} catch (error) {\n\t\tdisconnect(anyProcess);\n\t\tthrow error;\n\t} finally {\n\t\tendSendMessage(outgoingMessagesState);\n\t}\n};\n\n// Used internally by `cancelSignal`\nexport const sendOneMessage = async ({anyProcess, methodName, isSubprocess, wrappedMessage, message}) => {\n\tconst sendMethod = getSendMethod(anyProcess);\n\n\ttry {\n\t\tawait Promise.all([\n\t\t\twaitForStrictResponse(wrappedMessage, anyProcess, isSubprocess),\n\t\t\tsendMethod(wrappedMessage),\n\t\t]);\n\t} catch (error) {\n\t\thandleEpipeError({error, methodName, isSubprocess});\n\t\thandleSerializationError({\n\t\t\terror,\n\t\t\tmethodName,\n\t\t\tisSubprocess,\n\t\t\tmessage,\n\t\t});\n\t\tthrow error;\n\t}\n};\n\n// [sub]process.send() promisified, memoized\nconst getSendMethod = anyProcess => {\n\tif (PROCESS_SEND_METHODS.has(anyProcess)) {\n\t\treturn PROCESS_SEND_METHODS.get(anyProcess);\n\t}\n\n\tconst sendMethod = promisify(anyProcess.send.bind(anyProcess));\n\tPROCESS_SEND_METHODS.set(anyProcess, sendMethod);\n\treturn sendMethod;\n};\n\nconst PROCESS_SEND_METHODS = new WeakMap();\n", "// Validate the IPC channel is connected before receiving/sending messages\nexport const validateIpcMethod = ({methodName, isSubprocess, ipc, isConnected}) => {\n\tvalidateIpcOption(methodName, isSubprocess, ipc);\n\tvalidateConnection(methodName, isSubprocess, isConnected);\n};\n\n// Better error message when forgetting to set `ipc: true` and using the IPC methods\nconst validateIpcOption = (methodName, isSubprocess, ipc) => {\n\tif (!ipc) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} can only be used if the \\`ipc\\` option is \\`true\\`.`);\n\t}\n};\n\n// Better error message when one process does not send/receive messages once the other process has disconnected.\n// This also makes it clear that any buffered messages are lost once either process has disconnected.\n// Also when aborting `cancelSignal` after disconnecting the IPC.\nexport const validateConnection = (methodName, isSubprocess, isConnected) => {\n\tif (!isConnected) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} cannot be used: the ${getOtherProcessName(isSubprocess)} has already exited or disconnected.`);\n\t}\n};\n\n// When `getOneMessage()` could not complete due to an early disconnection\nexport const throwOnEarlyDisconnect = isSubprocess => {\n\tthrow new Error(`${getMethodName('getOneMessage', isSubprocess)} could not complete: the ${getOtherProcessName(isSubprocess)} exited or disconnected.`);\n};\n\n// When both processes use `sendMessage()` with `strict` at the same time\nexport const throwOnStrictDeadlockError = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} is sending a message too, instead of listening to incoming messages.\nThis can be fixed by both sending a message and listening to incoming messages at the same time:\n\nconst [receivedMessage] = await Promise.all([\n\t${getMethodName('getOneMessage', isSubprocess)},\n\t${getMethodName('sendMessage', isSubprocess, 'message, {strict: true}')},\n]);`);\n};\n\n// When the other process used `strict` but the current process had I/O error calling `sendMessage()` for the response\nexport const getStrictResponseError = (error, isSubprocess) => new Error(`${getMethodName('sendMessage', isSubprocess)} failed when sending an acknowledgment response to the ${getOtherProcessName(isSubprocess)}.`, {cause: error});\n\n// When using `strict` but the other process was not listening for messages\nexport const throwOnMissingStrict = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} is not listening to incoming messages.`);\n};\n\n// When using `strict` but the other process disconnected before receiving the message\nexport const throwOnStrictDisconnect = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} exited without listening to incoming messages.`);\n};\n\n// When the current process disconnects while the subprocess is listening to `cancelSignal`\nexport const getAbortDisconnectError = () => new Error(`\\`cancelSignal\\` aborted: the ${getOtherProcessName(true)} disconnected.`);\n\n// When the subprocess uses `cancelSignal` but not the current process\nexport const throwOnMissingParent = () => {\n\tthrow new Error('`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.');\n};\n\n// EPIPE can happen when sending a message to a subprocess that is closing but has not disconnected yet\nexport const handleEpipeError = ({error, methodName, isSubprocess}) => {\n\tif (error.code === 'EPIPE') {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} cannot be used: the ${getOtherProcessName(isSubprocess)} is disconnecting.`, {cause: error});\n\t}\n};\n\n// Better error message when sending messages which cannot be serialized.\n// Works with both `serialization: 'advanced'` and `serialization: 'json'`.\nexport const handleSerializationError = ({error, methodName, isSubprocess, message}) => {\n\tif (isSerializationError(error)) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)}'s argument type is invalid: the message cannot be serialized: ${String(message)}.`, {cause: error});\n\t}\n};\n\nconst isSerializationError = ({code, message}) => SERIALIZATION_ERROR_CODES.has(code)\n\t|| SERIALIZATION_ERROR_MESSAGES.some(serializationErrorMessage => message.includes(serializationErrorMessage));\n\n// `error.code` set by Node.js when it failed to serialize the message\nconst SERIALIZATION_ERROR_CODES = new Set([\n\t// Message is `undefined`\n\t'ERR_MISSING_ARGS',\n\t// Message is a function, a bigint, a symbol\n\t'ERR_INVALID_ARG_TYPE',\n]);\n\n// `error.message` set by Node.js when it failed to serialize the message\nconst SERIALIZATION_ERROR_MESSAGES = [\n\t// Message is a promise or a proxy, with `serialization: 'advanced'`\n\t'could not be cloned',\n\t// Message has cycles, with `serialization: 'json'`\n\t'circular structure',\n\t// Message has cycles inside toJSON(), with `serialization: 'json'`\n\t'call stack size exceeded',\n];\n\nconst getMethodName = (methodName, isSubprocess, parameters = '') => methodName === 'cancelSignal'\n\t? '`cancelSignal`\\'s `controller.abort()`'\n\t: `${getNamespaceName(isSubprocess)}${methodName}(${parameters})`;\n\nconst getNamespaceName = isSubprocess => isSubprocess ? '' : 'subprocess.';\n\nconst getOtherProcessName = isSubprocess => isSubprocess ? 'parent process' : 'subprocess';\n\n// When any error arises, we disconnect the IPC.\n// Otherwise, it is likely that one of the processes will stop sending/receiving messages.\n// This would leave the other process hanging.\nexport const disconnect = anyProcess => {\n\tif (anyProcess.connected) {\n\t\tanyProcess.disconnect();\n\t}\n};\n", "export const createDeferred = () => {\n\tconst methods = {};\n\tconst promise = new Promise((resolve, reject) => {\n\t\tObject.assign(methods, {resolve, reject});\n\t});\n\treturn Object.assign(promise, methods);\n};\n", "import {parseFd} from './specific.js';\n\n// Retrieve stream targeted by the `to` option\nexport const getToStream = (destination, to = 'stdin') => {\n\tconst isWritable = true;\n\tconst {options, fileDescriptors} = SUBPROCESS_OPTIONS.get(destination);\n\tconst fdNumber = getFdNumber(fileDescriptors, to, isWritable);\n\tconst destinationStream = destination.stdio[fdNumber];\n\n\tif (destinationStream === null) {\n\t\tthrow new TypeError(getInvalidStdioOptionMessage(fdNumber, to, options, isWritable));\n\t}\n\n\treturn destinationStream;\n};\n\n// Retrieve stream targeted by the `from` option\nexport const getFromStream = (source, from = 'stdout') => {\n\tconst isWritable = false;\n\tconst {options, fileDescriptors} = SUBPROCESS_OPTIONS.get(source);\n\tconst fdNumber = getFdNumber(fileDescriptors, from, isWritable);\n\tconst sourceStream = fdNumber === 'all' ? source.all : source.stdio[fdNumber];\n\n\tif (sourceStream === null || sourceStream === undefined) {\n\t\tthrow new TypeError(getInvalidStdioOptionMessage(fdNumber, from, options, isWritable));\n\t}\n\n\treturn sourceStream;\n};\n\n// Keeps track of the options passed to each Execa call\nexport const SUBPROCESS_OPTIONS = new WeakMap();\n\nconst getFdNumber = (fileDescriptors, fdName, isWritable) => {\n\tconst fdNumber = parseFdNumber(fdName, isWritable);\n\tvalidateFdNumber(fdNumber, fdName, isWritable, fileDescriptors);\n\treturn fdNumber;\n};\n\nconst parseFdNumber = (fdName, isWritable) => {\n\tconst fdNumber = parseFd(fdName);\n\tif (fdNumber !== undefined) {\n\t\treturn fdNumber;\n\t}\n\n\tconst {validOptions, defaultValue} = isWritable\n\t\t? {validOptions: '\"stdin\"', defaultValue: 'stdin'}\n\t\t: {validOptions: '\"stdout\", \"stderr\", \"all\"', defaultValue: 'stdout'};\n\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be \"${fdName}\".\nIt must be ${validOptions} or \"fd3\", \"fd4\" (and so on).\nIt is optional and defaults to \"${defaultValue}\".`);\n};\n\nconst validateFdNumber = (fdNumber, fdName, isWritable, fileDescriptors) => {\n\tconst fileDescriptor = fileDescriptors[getUsedDescriptor(fdNumber)];\n\tif (fileDescriptor === undefined) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. That file descriptor does not exist.\nPlease set the \"stdio\" option to ensure that file descriptor exists.`);\n\t}\n\n\tif (fileDescriptor.direction === 'input' && !isWritable) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. It must be a readable stream, not writable.`);\n\t}\n\n\tif (fileDescriptor.direction !== 'input' && isWritable) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. It must be a writable stream, not readable.`);\n\t}\n};\n\nconst getInvalidStdioOptionMessage = (fdNumber, fdName, options, isWritable) => {\n\tif (fdNumber === 'all' && !options.all) {\n\t\treturn 'The \"all\" option must be true to use \"from: \\'all\\'\".';\n\t}\n\n\tconst {optionName, optionValue} = getInvalidStdioOption(fdNumber, options);\n\treturn `The \"${optionName}: ${serializeOptionValue(optionValue)}\" option is incompatible with using \"${getOptionName(isWritable)}: ${serializeOptionValue(fdName)}\".\nPlease set this option with \"pipe\" instead.`;\n};\n\nconst getInvalidStdioOption = (fdNumber, {stdin, stdout, stderr, stdio}) => {\n\tconst usedDescriptor = getUsedDescriptor(fdNumber);\n\n\tif (usedDescriptor === 0 && stdin !== undefined) {\n\t\treturn {optionName: 'stdin', optionValue: stdin};\n\t}\n\n\tif (usedDescriptor === 1 && stdout !== undefined) {\n\t\treturn {optionName: 'stdout', optionValue: stdout};\n\t}\n\n\tif (usedDescriptor === 2 && stderr !== undefined) {\n\t\treturn {optionName: 'stderr', optionValue: stderr};\n\t}\n\n\treturn {optionName: `stdio[${usedDescriptor}]`, optionValue: stdio[usedDescriptor]};\n};\n\nconst getUsedDescriptor = fdNumber => fdNumber === 'all' ? 1 : fdNumber;\n\nconst getOptionName = isWritable => isWritable ? 'to' : 'from';\n\nexport const serializeOptionValue = value => {\n\tif (typeof value === 'string') {\n\t\treturn `'${value}'`;\n\t}\n\n\treturn typeof value === 'number' ? `${value}` : 'Stream';\n};\n", "import {once} from 'node:events';\nimport {createDeferred} from '../utils/deferred.js';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {sendMessage} from './send.js';\nimport {throwOnMissingStrict, throwOnStrictDisconnect, throwOnStrictDeadlockError} from './validation.js';\nimport {getIpcEmitter} from './forward.js';\nimport {hasMessageListeners} from './outgoing.js';\n\n// When using the `strict` option, wrap the message with metadata during `sendMessage()`\nexport const handleSendStrict = ({anyProcess, channel, isSubprocess, message, strict}) => {\n\tif (!strict) {\n\t\treturn message;\n\t}\n\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst hasListeners = hasMessageListeners(anyProcess, ipcEmitter);\n\treturn {\n\t\tid: count++,\n\t\ttype: REQUEST_TYPE,\n\t\tmessage,\n\t\thasListeners,\n\t};\n};\n\nlet count = 0n;\n\n// Handles when both processes are calling `sendMessage()` with `strict` at the same time.\n// If neither process is listening, this would create a deadlock. We detect it and throw.\nexport const validateStrictDeadlock = (outgoingMessages, wrappedMessage) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE || wrappedMessage.hasListeners) {\n\t\treturn;\n\t}\n\n\tfor (const {id} of outgoingMessages) {\n\t\tif (id !== undefined) {\n\t\t\tSTRICT_RESPONSES[id].resolve({isDeadlock: true, hasListeners: false});\n\t\t}\n\t}\n};\n\n// The other process then sends the acknowledgment back as a response\nexport const handleStrictRequest = async ({wrappedMessage, anyProcess, channel, isSubprocess, ipcEmitter}) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE || !anyProcess.connected) {\n\t\treturn wrappedMessage;\n\t}\n\n\tconst {id, message} = wrappedMessage;\n\tconst response = {id, type: RESPONSE_TYPE, message: hasMessageListeners(anyProcess, ipcEmitter)};\n\n\ttry {\n\t\tawait sendMessage({\n\t\t\tanyProcess,\n\t\t\tchannel,\n\t\t\tisSubprocess,\n\t\t\tipc: true,\n\t\t}, response);\n\t} catch (error) {\n\t\tipcEmitter.emit('strict:error', error);\n\t}\n\n\treturn message;\n};\n\n// Reception of the acknowledgment response\nexport const handleStrictResponse = wrappedMessage => {\n\tif (wrappedMessage?.type !== RESPONSE_TYPE) {\n\t\treturn false;\n\t}\n\n\tconst {id, message: hasListeners} = wrappedMessage;\n\tSTRICT_RESPONSES[id]?.resolve({isDeadlock: false, hasListeners});\n\treturn true;\n};\n\n// Wait for the other process to receive the message from `sendMessage()`\nexport const waitForStrictResponse = async (wrappedMessage, anyProcess, isSubprocess) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE) {\n\t\treturn;\n\t}\n\n\tconst deferred = createDeferred();\n\tSTRICT_RESPONSES[wrappedMessage.id] = deferred;\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tconst {isDeadlock, hasListeners} = await Promise.race([\n\t\t\tdeferred,\n\t\t\tthrowOnDisconnect(anyProcess, isSubprocess, controller),\n\t\t]);\n\n\t\tif (isDeadlock) {\n\t\t\tthrowOnStrictDeadlockError(isSubprocess);\n\t\t}\n\n\t\tif (!hasListeners) {\n\t\t\tthrowOnMissingStrict(isSubprocess);\n\t\t}\n\t} finally {\n\t\tcontroller.abort();\n\t\tdelete STRICT_RESPONSES[wrappedMessage.id];\n\t}\n};\n\nconst STRICT_RESPONSES = {};\n\nconst throwOnDisconnect = async (anyProcess, isSubprocess, {signal}) => {\n\tincrementMaxListeners(anyProcess, 1, signal);\n\tawait once(anyProcess, 'disconnect', {signal});\n\tthrowOnStrictDisconnect(isSubprocess);\n};\n\nconst REQUEST_TYPE = 'execa:ipc:request';\nconst RESPONSE_TYPE = 'execa:ipc:response';\n", "import {addAbortListener} from 'node:events';\n\n// Temporarily increase the maximum number of listeners on an eventEmitter\nexport const incrementMaxListeners = (eventEmitter, maxListenersIncrement, signal) => {\n\tconst maxListeners = eventEmitter.getMaxListeners();\n\tif (maxListeners === 0 || maxListeners === Number.POSITIVE_INFINITY) {\n\t\treturn;\n\t}\n\n\teventEmitter.setMaxListeners(maxListeners + maxListenersIncrement);\n\taddAbortListener(signal, () => {\n\t\teventEmitter.setMaxListeners(eventEmitter.getMaxListeners() - maxListenersIncrement);\n\t});\n};\n", "import {EventEmitter} from 'node:events';\nimport {onMessage, onDisconnect} from './incoming.js';\nimport {undoAddedReferences} from './reference.js';\n\n// Forward the `message` and `disconnect` events from the process and subprocess to a proxy emitter.\n// This prevents the `error` event from stopping IPC.\n// This also allows debouncing the `message` event.\nexport const getIpcEmitter = (anyProcess, channel, isSubprocess) => {\n\tif (IPC_EMITTERS.has(anyProcess)) {\n\t\treturn IPC_EMITTERS.get(anyProcess);\n\t}\n\n\t// Use an `EventEmitter`, like the `process` that is being proxied\n\t// eslint-disable-next-line unicorn/prefer-event-target\n\tconst ipcEmitter = new EventEmitter();\n\tipcEmitter.connected = true;\n\tIPC_EMITTERS.set(anyProcess, ipcEmitter);\n\tforwardEvents({\n\t\tipcEmitter,\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t});\n\treturn ipcEmitter;\n};\n\nconst IPC_EMITTERS = new WeakMap();\n\n// The `message` and `disconnect` events are buffered in the subprocess until the first listener is setup.\n// However, unbuffering happens after one tick, so this give enough time for the caller to setup the listener on the proxy emitter first.\n// See https://github.com/nodejs/node/blob/2aaeaa863c35befa2ebaa98fb7737ec84df4d8e9/lib/internal/child_process.js#L721\nconst forwardEvents = ({ipcEmitter, anyProcess, channel, isSubprocess}) => {\n\tconst boundOnMessage = onMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipcEmitter,\n\t});\n\tanyProcess.on('message', boundOnMessage);\n\tanyProcess.once('disconnect', onDisconnect.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipcEmitter,\n\t\tboundOnMessage,\n\t}));\n\tundoAddedReferences(channel, isSubprocess);\n};\n\n// Check whether there might still be some `message` events to receive\nexport const isConnected = anyProcess => {\n\tconst ipcEmitter = IPC_EMITTERS.get(anyProcess);\n\treturn ipcEmitter === undefined\n\t\t? anyProcess.channel !== null\n\t\t: ipcEmitter.connected;\n};\n", "import {once} from 'node:events';\nimport {scheduler} from 'node:timers/promises';\nimport {waitForOutgoingMessages} from './outgoing.js';\nimport {redoAddedReferences} from './reference.js';\nimport {handleStrictRequest, handleStrictResponse} from './strict.js';\nimport {handleAbort, abortOnDisconnect} from './graceful.js';\n\n// By default, Node.js buffers `message` events.\n//  - Buffering happens when there is a `message` event is emitted but there is no handler.\n//  - As soon as a `message` event handler is set, all buffered `message` events are emitted, emptying the buffer.\n//  - This happens both in the current process and the subprocess.\n//  - See https://github.com/nodejs/node/blob/501546e8f37059cd577041e23941b640d0d4d406/lib/internal/child_process.js#L719\n// This is helpful. Notably, this allows sending messages to a subprocess that's still initializing.\n// However, it has several problems.\n//  - This works with `events.on()` but not `events.once()` since all buffered messages are emitted at once.\n//    For example, users cannot call `await getOneMessage()`/`getEachMessage()` multiple times in a row.\n//  - When a user intentionally starts listening to `message` at a specific point in time, past `message` events are replayed, which might be unexpected.\n//  - Buffering is unlimited, which might lead to an out-of-memory crash.\n//  - This does not work well with multiple consumers.\n//    For example, Execa consumes events with both `result.ipcOutput` and manual IPC calls like `getOneMessage()`.\n//    Since `result.ipcOutput` reads all incoming messages, no buffering happens for manual IPC calls.\n//  - Forgetting to setup a `message` listener, or setting it up too late, is a programming mistake.\n//    The default behavior does not allow users to realize they made that mistake.\n// To solve those problems, instead of buffering messages, we debounce them.\n// The `message` event so it is emitted at most once per macrotask.\nexport const onMessage = async ({anyProcess, channel, isSubprocess, ipcEmitter}, wrappedMessage) => {\n\tif (handleStrictResponse(wrappedMessage) || handleAbort(wrappedMessage)) {\n\t\treturn;\n\t}\n\n\tif (!INCOMING_MESSAGES.has(anyProcess)) {\n\t\tINCOMING_MESSAGES.set(anyProcess, []);\n\t}\n\n\tconst incomingMessages = INCOMING_MESSAGES.get(anyProcess);\n\tincomingMessages.push(wrappedMessage);\n\n\tif (incomingMessages.length > 1) {\n\t\treturn;\n\t}\n\n\twhile (incomingMessages.length > 0) {\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait waitForOutgoingMessages(anyProcess, ipcEmitter, wrappedMessage);\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait scheduler.yield();\n\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tconst message = await handleStrictRequest({\n\t\t\twrappedMessage: incomingMessages[0],\n\t\t\tanyProcess,\n\t\t\tchannel,\n\t\t\tisSubprocess,\n\t\t\tipcEmitter,\n\t\t});\n\n\t\tincomingMessages.shift();\n\t\tipcEmitter.emit('message', message);\n\t\tipcEmitter.emit('message:done');\n\t}\n};\n\n// If the `message` event is currently debounced, the `disconnect` event must wait for it\nexport const onDisconnect = async ({anyProcess, channel, isSubprocess, ipcEmitter, boundOnMessage}) => {\n\tabortOnDisconnect();\n\n\tconst incomingMessages = INCOMING_MESSAGES.get(anyProcess);\n\twhile (incomingMessages?.length > 0) {\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait once(ipcEmitter, 'message:done');\n\t}\n\n\tanyProcess.removeListener('message', boundOnMessage);\n\tredoAddedReferences(channel, isSubprocess);\n\tipcEmitter.connected = false;\n\tipcEmitter.emit('disconnect');\n};\n\nconst INCOMING_MESSAGES = new WeakMap();\n", "// By default, Node.js keeps the subprocess alive while it has a `message` or `disconnect` listener.\n// We replicate the same logic for the events that we proxy.\n// This ensures the subprocess is kept alive while `getOneMessage()` and `getEachMessage()` are ongoing.\n// This is not a problem with `sendMessage()` since Node.js handles that method automatically.\n// We do not use `anyProcess.channel.ref()` since this would prevent the automatic `.channel.refCounted()` Node.js is doing.\n// We keep a reference to `anyProcess.channel` since it might be `null` while `getOneMessage()` or `getEachMessage()` is still processing debounced messages.\n// See https://github.com/nodejs/node/blob/2aaeaa863c35befa2ebaa98fb7737ec84df4d8e9/lib/internal/child_process.js#L547\nexport const addReference = (channel, reference) => {\n\tif (reference) {\n\t\taddReferenceCount(channel);\n\t}\n};\n\nconst addReferenceCount = channel => {\n\tchannel.refCounted();\n};\n\nexport const removeReference = (channel, reference) => {\n\tif (reference) {\n\t\tremoveReferenceCount(channel);\n\t}\n};\n\nconst removeReferenceCount = channel => {\n\tchannel.unrefCounted();\n};\n\n// To proxy events, we setup some global listeners on the `message` and `disconnect` events.\n// Those should not keep the subprocess alive, so we remove the automatic counting that Node.js is doing.\n// See https://github.com/nodejs/node/blob/1b965270a9c273d4cf70e8808e9d28b9ada7844f/lib/child_process.js#L180\nexport const undoAddedReferences = (channel, isSubprocess) => {\n\tif (isSubprocess) {\n\t\tremoveReferenceCount(channel);\n\t\tremoveReferenceCount(channel);\n\t}\n};\n\n// Reverse it during `disconnect`\nexport const redoAddedReferences = (channel, isSubprocess) => {\n\tif (isSubprocess) {\n\t\taddReferenceCount(channel);\n\t\taddReferenceCount(channel);\n\t}\n};\n", "import {createDeferred} from '../utils/deferred.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\nimport {SUBPROCESS_OPTIONS} from '../arguments/fd-options.js';\nimport {validateStrictDeadlock} from './strict.js';\n\n// When `sendMessage()` is ongoing, any `message` being received waits before being emitted.\n// This allows calling one or multiple `await sendMessage()` followed by `await getOneMessage()`/`await getEachMessage()`.\n// Without running into a race condition when the other process sends a response too fast, before the current process set up a listener.\nexport const startSendMessage = (anyProcess, wrappedMessage, strict) => {\n\tif (!OUTGOING_MESSAGES.has(anyProcess)) {\n\t\tOUTGOING_MESSAGES.set(anyProcess, new Set());\n\t}\n\n\tconst outgoingMessages = OUTGOING_MESSAGES.get(anyProcess);\n\tconst onMessageSent = createDeferred();\n\tconst id = strict ? wrappedMessage.id : undefined;\n\tconst outgoingMessage = {onMessageSent, id};\n\toutgoingMessages.add(outgoingMessage);\n\treturn {outgoingMessages, outgoingMessage};\n};\n\nexport const endSendMessage = ({outgoingMessages, outgoingMessage}) => {\n\toutgoingMessages.delete(outgoingMessage);\n\toutgoingMessage.onMessageSent.resolve();\n};\n\n// Await while `sendMessage()` is ongoing, unless there is already a `message` listener\nexport const waitForOutgoingMessages = async (anyProcess, ipcEmitter, wrappedMessage) => {\n\twhile (!hasMessageListeners(anyProcess, ipcEmitter) && OUTGOING_MESSAGES.get(anyProcess)?.size > 0) {\n\t\tconst outgoingMessages = [...OUTGOING_MESSAGES.get(anyProcess)];\n\t\tvalidateStrictDeadlock(outgoingMessages, wrappedMessage);\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait Promise.all(outgoingMessages.map(({onMessageSent}) => onMessageSent));\n\t}\n};\n\nconst OUTGOING_MESSAGES = new WeakMap();\n\n// Whether any `message` listener is setup\nexport const hasMessageListeners = (anyProcess, ipcEmitter) => ipcEmitter.listenerCount('message') > getMinListenerCount(anyProcess);\n\n// When `buffer` is `false`, we set up a `message` listener that should be ignored.\n// That listener is only meant to intercept `strict` acknowledgement responses.\nconst getMinListenerCount = anyProcess => SUBPROCESS_OPTIONS.has(anyProcess)\n\t&& !getFdSpecificValue(SUBPROCESS_OPTIONS.get(anyProcess).options.buffer, 'ipc')\n\t? 1\n\t: 0;\n", "import {onAbortedSignal} from '../utils/abort-signal.js';\nimport {sendAbort} from '../ipc/graceful.js';\nimport {killOnTimeout} from './kill.js';\n\n// Validate the `gracefulCancel` option\nexport const validateGracefulCancel = ({gracefulCancel, cancelSignal, ipc, serialization}) => {\n\tif (!gracefulCancel) {\n\t\treturn;\n\t}\n\n\tif (cancelSignal === undefined) {\n\t\tthrow new Error('The `cancelSignal` option must be defined when setting the `gracefulCancel` option.');\n\t}\n\n\tif (!ipc) {\n\t\tthrow new Error('The `ipc` option cannot be false when setting the `gracefulCancel` option.');\n\t}\n\n\tif (serialization === 'json') {\n\t\tthrow new Error('The `serialization` option cannot be \\'json\\' when setting the `gracefulCancel` option.');\n\t}\n};\n\n// Send abort reason to the subprocess when aborting the `cancelSignal` option and `gracefulCancel` is `true`\nexport const throwOnGracefulCancel = ({\n\tsubprocess,\n\tcancelSignal,\n\tgracefulCancel,\n\tforceKillAfterDelay,\n\tcontext,\n\tcontroller,\n}) => gracefulCancel\n\t? [sendOnAbort({\n\t\tsubprocess,\n\t\tcancelSignal,\n\t\tforceKillAfterDelay,\n\t\tcontext,\n\t\tcontroller,\n\t})]\n\t: [];\n\nconst sendOnAbort = async ({subprocess, cancelSignal, forceKillAfterDelay, context, controller: {signal}}) => {\n\tawait onAbortedSignal(cancelSignal, signal);\n\tconst reason = getReason(cancelSignal);\n\tawait sendAbort(subprocess, reason);\n\tkillOnTimeout({\n\t\tkill: subprocess.kill,\n\t\tforceKillAfterDelay,\n\t\tcontext,\n\t\tcontrollerSignal: signal,\n\t});\n\tcontext.terminationReason ??= 'gracefulCancel';\n\tthrow cancelSignal.reason;\n};\n\n// The default `reason` is a DOMException, which is not serializable with V8\n// See https://github.com/nodejs/node/issues/53225\nconst getReason = ({reason}) => {\n\tif (!(reason instanceof DOMException)) {\n\t\treturn reason;\n\t}\n\n\tconst error = new Error(reason.message);\n\tObject.defineProperty(error, 'stack', {\n\t\tvalue: reason.stack,\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\twritable: true,\n\t});\n\treturn error;\n};\n", "import {setTimeout} from 'node:timers/promises';\nimport {DiscardedError} from '../return/final-error.js';\n\n// Validate `timeout` option\nexport const validateTimeout = ({timeout}) => {\n\tif (timeout !== undefined && (!Number.isFinite(timeout) || timeout < 0)) {\n\t\tthrow new TypeError(`Expected the \\`timeout\\` option to be a non-negative integer, got \\`${timeout}\\` (${typeof timeout})`);\n\t}\n};\n\n// Fails when the `timeout` option is exceeded\nexport const throwOnTimeout = (subprocess, timeout, context, controller) => timeout === 0 || timeout === undefined\n\t? []\n\t: [killAfterTimeout(subprocess, timeout, context, controller)];\n\nconst killAfterTimeout = async (subprocess, timeout, context, {signal}) => {\n\tawait setTimeout(timeout, undefined, {signal});\n\tcontext.terminationReason ??= 'timeout';\n\tsubprocess.kill();\n\tthrow new DiscardedError();\n};\n", "import {execPath, execArgv} from 'node:process';\nimport path from 'node:path';\nimport {safeNormalizeFileUrl} from '../arguments/file-url.js';\n\n// `execaNode()` is a shortcut for `execa(..., {node: true})`\nexport const mapNode = ({options}) => {\n\tif (options.node === false) {\n\t\tthrow new TypeError('The \"node\" option cannot be false with `execaNode()`.');\n\t}\n\n\treturn {options: {...options, node: true}};\n};\n\n// Applies the `node: true` option, and the related `nodePath`/`nodeOptions` options.\n// Modifies the file commands/arguments to ensure the same Node binary and flags are re-used.\n// Also adds `ipc: true` and `shell: false`.\nexport const handleNodeOption = (file, commandArguments, {\n\tnode: shouldHandleNode = false,\n\tnodePath = execPath,\n\tnodeOptions = execArgv.filter(nodeOption => !nodeOption.startsWith('--inspect')),\n\tcwd,\n\texecPath: formerNodePath,\n\t...options\n}) => {\n\tif (formerNodePath !== undefined) {\n\t\tthrow new TypeError('The \"execPath\" option has been removed. Please use the \"nodePath\" option instead.');\n\t}\n\n\tconst normalizedNodePath = safeNormalizeFileUrl(nodePath, 'The \"nodePath\" option');\n\tconst resolvedNodePath = path.resolve(cwd, normalizedNodePath);\n\tconst newOptions = {\n\t\t...options,\n\t\tnodePath: resolvedNodePath,\n\t\tnode: shouldHandleNode,\n\t\tcwd,\n\t};\n\n\tif (!shouldHandleNode) {\n\t\treturn [file, commandArguments, newOptions];\n\t}\n\n\tif (path.basename(file, '.exe') === 'node') {\n\t\tthrow new TypeError('When the \"node\" option is true, the first argument does not need to be \"node\".');\n\t}\n\n\treturn [\n\t\tresolvedNodePath,\n\t\t[...nodeOptions, file, ...commandArguments],\n\t\t{ipc: true, ...newOptions, shell: false},\n\t];\n};\n", "import {serialize} from 'node:v8';\n\n// Validate the `ipcInput` option\nexport const validateIpcInputOption = ({ipcInput, ipc, serialization}) => {\n\tif (ipcInput === undefined) {\n\t\treturn;\n\t}\n\n\tif (!ipc) {\n\t\tthrow new Error('The `ipcInput` option cannot be set unless the `ipc` option is `true`.');\n\t}\n\n\tvalidateIpcInput[serialization](ipcInput);\n};\n\nconst validateAdvancedInput = ipcInput => {\n\ttry {\n\t\tserialize(ipcInput);\n\t} catch (error) {\n\t\tthrow new Error('The `ipcInput` option is not serializable with a structured clone.', {cause: error});\n\t}\n};\n\nconst validateJsonInput = ipcInput => {\n\ttry {\n\t\tJSON.stringify(ipcInput);\n\t} catch (error) {\n\t\tthrow new Error('The `ipcInput` option is not serializable with JSON.', {cause: error});\n\t}\n};\n\nconst validateIpcInput = {\n\tadvanced: validateAdvancedInput,\n\tjson: validateJsonInput,\n};\n\n// When the `ipcInput` option is set, it is sent as an initial IPC message to the subprocess\nexport const sendIpcInput = async (subprocess, ipcInput) => {\n\tif (ipcInput === undefined) {\n\t\treturn;\n\t}\n\n\tawait subprocess.sendMessage(ipcInput);\n};\n", "// Validate `encoding` option\nexport const validateEncoding = ({encoding}) => {\n\tif (ENCODINGS.has(encoding)) {\n\t\treturn;\n\t}\n\n\tconst correctEncoding = getCorrectEncoding(encoding);\n\tif (correctEncoding !== undefined) {\n\t\tthrow new TypeError(`Invalid option \\`encoding: ${serializeEncoding(encoding)}\\`.\nPlease rename it to ${serializeEncoding(correctEncoding)}.`);\n\t}\n\n\tconst correctEncodings = [...ENCODINGS].map(correctEncoding => serializeEncoding(correctEncoding)).join(', ');\n\tthrow new TypeError(`Invalid option \\`encoding: ${serializeEncoding(encoding)}\\`.\nPlease rename it to one of: ${correctEncodings}.`);\n};\n\nconst TEXT_ENCODINGS = new Set(['utf8', 'utf16le']);\nexport const BINARY_ENCODINGS = new Set(['buffer', 'hex', 'base64', 'base64url', 'latin1', 'ascii']);\nconst ENCODINGS = new Set([...TEXT_ENCODINGS, ...BINARY_ENCODINGS]);\n\nconst getCorrectEncoding = encoding => {\n\tif (encoding === null) {\n\t\treturn 'buffer';\n\t}\n\n\tif (typeof encoding !== 'string') {\n\t\treturn;\n\t}\n\n\tconst lowerEncoding = encoding.toLowerCase();\n\tif (lowerEncoding in ENCODING_ALIASES) {\n\t\treturn ENCODING_ALIASES[lowerEncoding];\n\t}\n\n\tif (ENCODINGS.has(lowerEncoding)) {\n\t\treturn lowerEncoding;\n\t}\n};\n\nconst ENCODING_ALIASES = {\n\t// eslint-disable-next-line unicorn/text-encoding-identifier-case\n\t'utf-8': 'utf8',\n\t'utf-16le': 'utf16le',\n\t'ucs-2': 'utf16le',\n\tucs2: 'utf16le',\n\tbinary: 'latin1',\n};\n\nconst serializeEncoding = encoding => typeof encoding === 'string' ? `\"${encoding}\"` : String(encoding);\n", "import {statSync} from 'node:fs';\nimport path from 'node:path';\nimport process from 'node:process';\nimport {safeNormalizeFileUrl} from './file-url.js';\n\n// Normalize `cwd` option\nexport const normalizeCwd = (cwd = getDefaultCwd()) => {\n\tconst cwdString = safeNormalizeFileUrl(cwd, 'The \"cwd\" option');\n\treturn path.resolve(cwdString);\n};\n\nconst getDefaultCwd = () => {\n\ttry {\n\t\treturn process.cwd();\n\t} catch (error) {\n\t\terror.message = `The current directory does not exist.\\n${error.message}`;\n\t\tthrow error;\n\t}\n};\n\n// When `cwd` option has an invalid value, provide with a better error message\nexport const fixCwdError = (originalMessage, cwd) => {\n\tif (cwd === getDefaultCwd()) {\n\t\treturn originalMessage;\n\t}\n\n\tlet cwdStat;\n\ttry {\n\t\tcwdStat = statSync(cwd);\n\t} catch (error) {\n\t\treturn `The \"cwd\" option is invalid: ${cwd}.\\n${error.message}\\n${originalMessage}`;\n\t}\n\n\tif (!cwdStat.isDirectory()) {\n\t\treturn `The \"cwd\" option is not a directory: ${cwd}.\\n${originalMessage}`;\n\t}\n\n\treturn originalMessage;\n};\n", "import {inspect} from 'node:util';\nimport stripFinalNewline from 'strip-final-newline';\nimport {isUint8Array, uint8ArrayToString} from '../utils/uint-array.js';\nimport {fixCwdError} from '../arguments/cwd.js';\nimport {escapeLines} from '../arguments/escape.js';\nimport {getMaxBufferMessage} from '../io/max-buffer.js';\nimport {getSignalDescription} from '../terminate/signal.js';\nimport {DiscardedError, isExecaError} from './final-error.js';\n\n// Computes `error.message`, `error.shortMessage` and `error.originalMessage`\nexport const createMessages = ({\n\tstdio,\n\tall,\n\tipcOutput,\n\toriginalError,\n\tsignal,\n\tsignalDescription,\n\texitCode,\n\tescapedCommand,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\tforceKillAfterDelay,\n\tkillSignal,\n\tmaxBuffer,\n\ttimeout,\n\tcwd,\n}) => {\n\tconst errorCode = originalError?.code;\n\tconst prefix = getErrorPrefix({\n\t\toriginalError,\n\t\ttimedOut,\n\t\ttimeout,\n\t\tisMaxBuffer,\n\t\tmaxBuffer,\n\t\terrorCode,\n\t\tsignal,\n\t\tsignalDescription,\n\t\texitCode,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisForcefullyTerminated,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t});\n\tconst originalMessage = getOriginalMessage(originalError, cwd);\n\tconst suffix = originalMessage === undefined ? '' : `\\n${originalMessage}`;\n\tconst shortMessage = `${prefix}: ${escapedCommand}${suffix}`;\n\tconst messageStdio = all === undefined ? [stdio[2], stdio[1]] : [all];\n\tconst message = [\n\t\tshortMessage,\n\t\t...messageStdio,\n\t\t...stdio.slice(3),\n\t\tipcOutput.map(ipcMessage => serializeIpcMessage(ipcMessage)).join('\\n'),\n\t]\n\t\t.map(messagePart => escapeLines(stripFinalNewline(serializeMessagePart(messagePart))))\n\t\t.filter(Boolean)\n\t\t.join('\\n\\n');\n\treturn {originalMessage, shortMessage, message};\n};\n\nconst getErrorPrefix = ({\n\toriginalError,\n\ttimedOut,\n\ttimeout,\n\tisMaxBuffer,\n\tmaxBuffer,\n\terrorCode,\n\tsignal,\n\tsignalDescription,\n\texitCode,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisForcefullyTerminated,\n\tforceKillAfterDelay,\n\tkillSignal,\n}) => {\n\tconst forcefulSuffix = getForcefulSuffix(isForcefullyTerminated, forceKillAfterDelay);\n\n\tif (timedOut) {\n\t\treturn `Command timed out after ${timeout} milliseconds${forcefulSuffix}`;\n\t}\n\n\tif (isGracefullyCanceled) {\n\t\tif (signal === undefined) {\n\t\t\treturn `Command was gracefully canceled with exit code ${exitCode}`;\n\t\t}\n\n\t\treturn isForcefullyTerminated\n\t\t\t? `Command was gracefully canceled${forcefulSuffix}`\n\t\t\t: `Command was gracefully canceled with ${signal} (${signalDescription})`;\n\t}\n\n\tif (isCanceled) {\n\t\treturn `Command was canceled${forcefulSuffix}`;\n\t}\n\n\tif (isMaxBuffer) {\n\t\treturn `${getMaxBufferMessage(originalError, maxBuffer)}${forcefulSuffix}`;\n\t}\n\n\tif (errorCode !== undefined) {\n\t\treturn `Command failed with ${errorCode}${forcefulSuffix}`;\n\t}\n\n\tif (isForcefullyTerminated) {\n\t\treturn `Command was killed with ${killSignal} (${getSignalDescription(killSignal)})${forcefulSuffix}`;\n\t}\n\n\tif (signal !== undefined) {\n\t\treturn `Command was killed with ${signal} (${signalDescription})`;\n\t}\n\n\tif (exitCode !== undefined) {\n\t\treturn `Command failed with exit code ${exitCode}`;\n\t}\n\n\treturn 'Command failed';\n};\n\nconst getForcefulSuffix = (isForcefullyTerminated, forceKillAfterDelay) => isForcefullyTerminated\n\t? ` and was forcefully terminated after ${forceKillAfterDelay} milliseconds`\n\t: '';\n\nconst getOriginalMessage = (originalError, cwd) => {\n\tif (originalError instanceof DiscardedError) {\n\t\treturn;\n\t}\n\n\tconst originalMessage = isExecaError(originalError)\n\t\t? originalError.originalMessage\n\t\t: String(originalError?.message ?? originalError);\n\tconst escapedOriginalMessage = escapeLines(fixCwdError(originalMessage, cwd));\n\treturn escapedOriginalMessage === '' ? undefined : escapedOriginalMessage;\n};\n\nconst serializeIpcMessage = ipcMessage => typeof ipcMessage === 'string'\n\t? ipcMessage\n\t: inspect(ipcMessage);\n\nconst serializeMessagePart = messagePart => Array.isArray(messagePart)\n\t? messagePart.map(messageItem => stripFinalNewline(serializeMessageItem(messageItem))).filter(Boolean).join('\\n')\n\t: serializeMessageItem(messagePart);\n\nconst serializeMessageItem = messageItem => {\n\tif (typeof messageItem === 'string') {\n\t\treturn messageItem;\n\t}\n\n\tif (isUint8Array(messageItem)) {\n\t\treturn uint8ArrayToString(messageItem);\n\t}\n\n\treturn '';\n};\n", "export default function stripFinalNewline(input) {\n\tif (typeof input === 'string') {\n\t\treturn stripFinalNewlineString(input);\n\t}\n\n\tif (!(ArrayBuffer.isView(input) && input.BYTES_PER_ELEMENT === 1)) {\n\t\tthrow new Error('Input must be a string or a Uint8Array');\n\t}\n\n\treturn stripFinalNewlineBinary(input);\n}\n\nconst stripFinalNewlineString = input =>\n\tinput.at(-1) === LF\n\t\t? input.slice(0, input.at(-2) === CR ? -2 : -1)\n\t\t: input;\n\nconst stripFinalNewlineBinary = input =>\n\tinput.at(-1) === LF_BINARY\n\t\t? input.subarray(0, input.at(-2) === CR_BINARY ? -2 : -1)\n\t\t: input;\n\nconst LF = '\\n';\nconst LF_BINARY = LF.codePointAt(0);\nconst CR = '\\r';\nconst CR_BINARY = CR.codePointAt(0);\n", "import {on} from 'node:events';\nimport {finished} from 'node:stream/promises';\nimport {nodeImports} from './stream.js';\n\nObject.assign(nodeImports, {on, finished});\n\nexport {\n\tdefault,\n\tgetStreamAsArray,\n\tgetStreamAsArrayBuffer,\n\tgetStreamAsBuffer,\n\tMaxBufferError,\n} from './exports.js';\n", "export function isStream(stream, {checkOpen = true} = {}) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& (stream.writable || stream.readable || !checkOpen || (stream.writable === undefined && stream.readable === undefined))\n\t\t&& typeof stream.pipe === 'function';\n}\n\nexport function isWritableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.writable || !checkOpen)\n\t\t&& typeof stream.write === 'function'\n\t\t&& typeof stream.end === 'function'\n\t\t&& typeof stream.writable === 'boolean'\n\t\t&& typeof stream.writableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isReadableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.readable || !checkOpen)\n\t\t&& typeof stream.read === 'function'\n\t\t&& typeof stream.readable === 'boolean'\n\t\t&& typeof stream.readableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isDuplexStream(stream, options) {\n\treturn isWritableStream(stream, options)\n\t\t&& isReadableStream(stream, options);\n}\n\nexport function isTransformStream(stream, options) {\n\treturn isDuplexStream(stream, options)\n\t\t&& typeof stream._transform === 'function';\n}\n", "const a = Object.getPrototypeOf(\n  Object.getPrototypeOf(\n    /* istanbul ignore next */\n    async function* () {\n    }\n  ).prototype\n);\nclass c {\n  #t;\n  #n;\n  #r = !1;\n  #e = void 0;\n  constructor(e, t) {\n    this.#t = e, this.#n = t;\n  }\n  next() {\n    const e = () => this.#s();\n    return this.#e = this.#e ? this.#e.then(e, e) : e(), this.#e;\n  }\n  return(e) {\n    const t = () => this.#i(e);\n    return this.#e ? this.#e.then(t, t) : t();\n  }\n  async #s() {\n    if (this.#r)\n      return {\n        done: !0,\n        value: void 0\n      };\n    let e;\n    try {\n      e = await this.#t.read();\n    } catch (t) {\n      throw this.#e = void 0, this.#r = !0, this.#t.releaseLock(), t;\n    }\n    return e.done && (this.#e = void 0, this.#r = !0, this.#t.releaseLock()), e;\n  }\n  async #i(e) {\n    if (this.#r)\n      return {\n        done: !0,\n        value: e\n      };\n    if (this.#r = !0, !this.#n) {\n      const t = this.#t.cancel(e);\n      return this.#t.releaseLock(), await t, {\n        done: !0,\n        value: e\n      };\n    }\n    return this.#t.releaseLock(), {\n      done: !0,\n      value: e\n    };\n  }\n}\nconst n = Symbol();\nfunction i() {\n  return this[n].next();\n}\nObject.defineProperty(i, \"name\", { value: \"next\" });\nfunction o(r) {\n  return this[n].return(r);\n}\nObject.defineProperty(o, \"name\", { value: \"return\" });\nconst u = Object.create(a, {\n  next: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: i\n  },\n  return: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: o\n  }\n});\nfunction h({ preventCancel: r = !1 } = {}) {\n  const e = this.getReader(), t = new c(\n    e,\n    r\n  ), s = Object.create(u);\n  return s[n] = t, s;\n}\nexport {\n  h as asyncIterator\n};\n", "import {isReadableStream} from 'is-stream';\nimport {asyncIterator} from '@sec-ant/readable-stream/ponyfill';\n\nexport const getAsyncIterable = stream => {\n\tif (isReadableStream(stream, {checkOpen: false}) && nodeImports.on !== undefined) {\n\t\treturn getStreamIterable(stream);\n\t}\n\n\tif (typeof stream?.[Symbol.asyncIterator] === 'function') {\n\t\treturn stream;\n\t}\n\n\t// `ReadableStream[Symbol.asyncIterator]` support is missing in multiple browsers, so we ponyfill it\n\tif (toString.call(stream) === '[object ReadableStream]') {\n\t\treturn asyncIterator.call(stream);\n\t}\n\n\tthrow new TypeError('The first argument must be a Readable, a ReadableStream, or an async iterable.');\n};\n\nconst {toString} = Object.prototype;\n\n// The default iterable for Node.js streams does not allow for multiple readers at once, so we re-implement it\nconst getStreamIterable = async function * (stream) {\n\tconst controller = new AbortController();\n\tconst state = {};\n\thandleStreamEnd(stream, controller, state);\n\n\ttry {\n\t\tfor await (const [chunk] of nodeImports.on(stream, 'data', {signal: controller.signal})) {\n\t\t\tyield chunk;\n\t\t}\n\t} catch (error) {\n\t\t// Stream failure, for example due to `stream.destroy(error)`\n\t\tif (state.error !== undefined) {\n\t\t\tthrow state.error;\n\t\t// `error` event directly emitted on stream\n\t\t} else if (!controller.signal.aborted) {\n\t\t\tthrow error;\n\t\t// Otherwise, stream completed successfully\n\t\t}\n\t\t// The `finally` block also runs when the caller throws, for example due to the `maxBuffer` option\n\t} finally {\n\t\tstream.destroy();\n\t}\n};\n\nconst handleStreamEnd = async (stream, controller, state) => {\n\ttry {\n\t\tawait nodeImports.finished(stream, {\n\t\t\tcleanup: true,\n\t\t\treadable: true,\n\t\t\twritable: false,\n\t\t\terror: false,\n\t\t});\n\t} catch (error) {\n\t\tstate.error = error;\n\t} finally {\n\t\tcontroller.abort();\n\t}\n};\n\n// Loaded by the Node entrypoint, but not by the browser one.\n// This prevents using dynamic imports.\nexport const nodeImports = {};\n", "import {getAsyncIterable} from './stream.js';\n\nexport const getStreamContents = async (stream, {init, convertChunk, getSize, truncateChunk, addChunk, getFinalChunk, finalize}, {maxBuffer = Number.POSITIVE_INFINITY} = {}) => {\n\tconst asyncIterable = getAsyncIterable(stream);\n\n\tconst state = init();\n\tstate.length = 0;\n\n\ttry {\n\t\tfor await (const chunk of asyncIterable) {\n\t\t\tconst chunkType = getChunkType(chunk);\n\t\t\tconst convertedChunk = convertChunk[chunkType](chunk, state);\n\t\t\tappendChunk({\n\t\t\t\tconvertedChunk,\n\t\t\t\tstate,\n\t\t\t\tgetSize,\n\t\t\t\ttruncateChunk,\n\t\t\t\taddChunk,\n\t\t\t\tmaxBuffer,\n\t\t\t});\n\t\t}\n\n\t\tappendFinalChunk({\n\t\t\tstate,\n\t\t\tconvertChunk,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tgetFinalChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t\treturn finalize(state);\n\t} catch (error) {\n\t\tconst normalizedError = typeof error === 'object' && error !== null ? error : new Error(error);\n\t\tnormalizedError.bufferedData = finalize(state);\n\t\tthrow normalizedError;\n\t}\n};\n\nconst appendFinalChunk = ({state, getSize, truncateChunk, addChunk, getFinalChunk, maxBuffer}) => {\n\tconst convertedChunk = getFinalChunk(state);\n\tif (convertedChunk !== undefined) {\n\t\tappendChunk({\n\t\t\tconvertedChunk,\n\t\t\tstate,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t}\n};\n\nconst appendChunk = ({convertedChunk, state, getSize, truncateChunk, addChunk, maxBuffer}) => {\n\tconst chunkSize = getSize(convertedChunk);\n\tconst newLength = state.length + chunkSize;\n\n\tif (newLength <= maxBuffer) {\n\t\taddNewChunk(convertedChunk, state, addChunk, newLength);\n\t\treturn;\n\t}\n\n\tconst truncatedChunk = truncateChunk(convertedChunk, maxBuffer - state.length);\n\n\tif (truncatedChunk !== undefined) {\n\t\taddNewChunk(truncatedChunk, state, addChunk, maxBuffer);\n\t}\n\n\tthrow new MaxBufferError();\n};\n\nconst addNewChunk = (convertedChunk, state, addChunk, newLength) => {\n\tstate.contents = addChunk(convertedChunk, state, newLength);\n\tstate.length = newLength;\n};\n\nconst getChunkType = chunk => {\n\tconst typeOfChunk = typeof chunk;\n\n\tif (typeOfChunk === 'string') {\n\t\treturn 'string';\n\t}\n\n\tif (typeOfChunk !== 'object' || chunk === null) {\n\t\treturn 'others';\n\t}\n\n\tif (globalThis.Buffer?.isBuffer(chunk)) {\n\t\treturn 'buffer';\n\t}\n\n\tconst prototypeName = objectToString.call(chunk);\n\n\tif (prototypeName === '[object ArrayBuffer]') {\n\t\treturn 'arrayBuffer';\n\t}\n\n\tif (prototypeName === '[object DataView]') {\n\t\treturn 'dataView';\n\t}\n\n\tif (\n\t\tNumber.isInteger(chunk.byteLength)\n\t\t&& Number.isInteger(chunk.byteOffset)\n\t\t&& objectToString.call(chunk.buffer) === '[object ArrayBuffer]'\n\t) {\n\t\treturn 'typedArray';\n\t}\n\n\treturn 'others';\n};\n\nconst {toString: objectToString} = Object.prototype;\n\nexport class MaxBufferError extends Error {\n\tname = 'MaxBufferError';\n\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t}\n}\n", "export const identity = value => value;\n\nexport const noop = () => undefined;\n\nexport const getContentsProperty = ({contents}) => contents;\n\nexport const throwObjectStream = chunk => {\n\tthrow new Error(`Streams in object mode are not supported: ${String(chunk)}`);\n};\n\nexport const getLengthProperty = convertedChunk => convertedChunk.length;\n", "import {getStreamContents} from './contents.js';\nimport {identity, noop, getContentsProperty} from './utils.js';\n\nexport async function getStreamAsArray(stream, options) {\n\treturn getStreamContents(stream, arrayMethods, options);\n}\n\nconst initArray = () => ({contents: []});\n\nconst increment = () => 1;\n\nconst addArrayChunk = (convertedChunk, {contents}) => {\n\tcontents.push(convertedChunk);\n\treturn contents;\n};\n\nconst arrayMethods = {\n\tinit: initArray,\n\tconvertChunk: {\n\t\tstring: identity,\n\t\tbuffer: identity,\n\t\tarrayBuffer: identity,\n\t\tdataView: identity,\n\t\ttypedArray: identity,\n\t\tothers: identity,\n\t},\n\tgetSize: increment,\n\ttruncateChunk: noop,\n\taddChunk: addArrayChunk,\n\tgetFinalChunk: noop,\n\tfinalize: getContentsProperty,\n};\n", "import {getStreamContents} from './contents.js';\nimport {noop, throwObjectStream, getLengthProperty} from './utils.js';\n\nexport async function getStreamAsArrayBuffer(stream, options) {\n\treturn getStreamContents(stream, arrayBufferMethods, options);\n}\n\nconst initArrayBuffer = () => ({contents: new ArrayBuffer(0)});\n\nconst useTextEncoder = chunk => textEncoder.encode(chunk);\nconst textEncoder = new TextEncoder();\n\nconst useUint8Array = chunk => new Uint8Array(chunk);\n\nconst useUint8ArrayWithOffset = chunk => new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n\nconst truncateArrayBufferChunk = (convertedChunk, chunkSize) => convertedChunk.slice(0, chunkSize);\n\n// `contents` is an increasingly growing `Uint8Array`.\nconst addArrayBufferChunk = (convertedChunk, {contents, length: previousLength}, length) => {\n\tconst newContents = hasArrayBufferResize() ? resizeArrayBuffer(contents, length) : resizeArrayBufferSlow(contents, length);\n\tnew Uint8Array(newContents).set(convertedChunk, previousLength);\n\treturn newContents;\n};\n\n// Without `ArrayBuffer.resize()`, `contents` size is always a power of 2.\n// This means its last bytes are zeroes (not stream data), which need to be\n// trimmed at the end with `ArrayBuffer.slice()`.\nconst resizeArrayBufferSlow = (contents, length) => {\n\tif (length <= contents.byteLength) {\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(getNewContentsLength(length));\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// With `ArrayBuffer.resize()`, `contents` size matches exactly the size of\n// the stream data. It does not include extraneous zeroes to trim at the end.\n// The underlying `ArrayBuffer` does allocate a number of bytes that is a power\n// of 2, but those bytes are only visible after calling `ArrayBuffer.resize()`.\nconst resizeArrayBuffer = (contents, length) => {\n\tif (length <= contents.maxByteLength) {\n\t\tcontents.resize(length);\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(length, {maxByteLength: getNewContentsLength(length)});\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// Retrieve the closest `length` that is both >= and a power of 2\nconst getNewContentsLength = length => SCALE_FACTOR ** Math.ceil(Math.log(length) / Math.log(SCALE_FACTOR));\n\nconst SCALE_FACTOR = 2;\n\nconst finalizeArrayBuffer = ({contents, length}) => hasArrayBufferResize() ? contents : contents.slice(0, length);\n\n// `ArrayBuffer.slice()` is slow. When `ArrayBuffer.resize()` is available\n// (Node >=20.0.0, Safari >=16.4 and Chrome), we can use it instead.\n// eslint-disable-next-line no-warning-comments\n// TODO: remove after dropping support for Node 20.\n// eslint-disable-next-line no-warning-comments\n// TODO: use `ArrayBuffer.transferToFixedLength()` instead once it is available\nconst hasArrayBufferResize = () => 'resize' in ArrayBuffer.prototype;\n\nconst arrayBufferMethods = {\n\tinit: initArrayBuffer,\n\tconvertChunk: {\n\t\tstring: useTextEncoder,\n\t\tbuffer: useUint8Array,\n\t\tarrayBuffer: useUint8Array,\n\t\tdataView: useUint8ArrayWithOffset,\n\t\ttypedArray: useUint8ArrayWithOffset,\n\t\tothers: throwObjectStream,\n\t},\n\tgetSize: getLengthProperty,\n\ttruncateChunk: truncateArrayBufferChunk,\n\taddChunk: addArrayBufferChunk,\n\tgetFinalChunk: noop,\n\tfinalize: finalizeArrayBuffer,\n};\n", "import {getStreamContents} from './contents.js';\nimport {\n\tidentity,\n\tgetContentsProperty,\n\tthrowObjectStream,\n\tgetLengthProperty,\n} from './utils.js';\n\nexport async function getStreamAsString(stream, options) {\n\treturn getStreamContents(stream, stringMethods, options);\n}\n\nconst initString = () => ({contents: '', textDecoder: new TextDecoder()});\n\nconst useTextDecoder = (chunk, {textDecoder}) => textDecoder.decode(chunk, {stream: true});\n\nconst addStringChunk = (convertedChunk, {contents}) => contents + convertedChunk;\n\nconst truncateStringChunk = (convertedChunk, chunkSize) => convertedChunk.slice(0, chunkSize);\n\nconst getFinalStringChunk = ({textDecoder}) => {\n\tconst finalChunk = textDecoder.decode();\n\treturn finalChunk === '' ? undefined : finalChunk;\n};\n\nconst stringMethods = {\n\tinit: initString,\n\tconvertChunk: {\n\t\tstring: identity,\n\t\tbuffer: useTextDecoder,\n\t\tarrayBuffer: useTextDecoder,\n\t\tdataView: useTextDecoder,\n\t\ttypedArray: useTextDecoder,\n\t\tothers: throwObjectStream,\n\t},\n\tgetSize: getLengthProperty,\n\ttruncateChunk: truncateStringChunk,\n\taddChunk: addStringChunk,\n\tgetFinalChunk: getFinalStringChunk,\n\tfinalize: getContentsProperty,\n};\n", "import {MaxBufferError} from 'get-stream';\nimport {getStreamName} from '../utils/standard-stream.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\n\n// When the `maxBuffer` option is hit, a MaxBufferError is thrown.\n// The stream is aborted, then specific information is kept for the error message.\nexport const handleMaxBuffer = ({error, stream, readableObjectMode, lines, encoding, fdNumber}) => {\n\tif (!(error instanceof MaxBufferError)) {\n\t\tthrow error;\n\t}\n\n\tif (fdNumber === 'all') {\n\t\treturn error;\n\t}\n\n\tconst unit = getMaxBufferUnit(readableObjectMode, lines, encoding);\n\terror.maxBufferInfo = {fdNumber, unit};\n\tstream.destroy();\n\tthrow error;\n};\n\nconst getMaxBufferUnit = (readableObjectMode, lines, encoding) => {\n\tif (readableObjectMode) {\n\t\treturn 'objects';\n\t}\n\n\tif (lines) {\n\t\treturn 'lines';\n\t}\n\n\tif (encoding === 'buffer') {\n\t\treturn 'bytes';\n\t}\n\n\treturn 'characters';\n};\n\n// Check the `maxBuffer` option with `result.ipcOutput`\nexport const checkIpcMaxBuffer = (subprocess, ipcOutput, maxBuffer) => {\n\tif (ipcOutput.length !== maxBuffer) {\n\t\treturn;\n\t}\n\n\tconst error = new MaxBufferError();\n\terror.maxBufferInfo = {fdNumber: 'ipc'};\n\tthrow error;\n};\n\n// Error message when `maxBuffer` is hit\nexport const getMaxBufferMessage = (error, maxBuffer) => {\n\tconst {streamName, threshold, unit} = getMaxBufferInfo(error, maxBuffer);\n\treturn `Command's ${streamName} was larger than ${threshold} ${unit}`;\n};\n\nconst getMaxBufferInfo = (error, maxBuffer) => {\n\tif (error?.maxBufferInfo === undefined) {\n\t\treturn {streamName: 'output', threshold: maxBuffer[1], unit: 'bytes'};\n\t}\n\n\tconst {maxBufferInfo: {fdNumber, unit}} = error;\n\tdelete error.maxBufferInfo;\n\n\tconst threshold = getFdSpecificValue(maxBuffer, fdNumber);\n\tif (fdNumber === 'ipc') {\n\t\treturn {streamName: 'IPC output', threshold, unit: 'messages'};\n\t}\n\n\treturn {streamName: getStreamName(fdNumber), threshold, unit};\n};\n\n// The only way to apply `maxBuffer` with `spawnSync()` is to use the native `maxBuffer` option Node.js provides.\n// However, this has multiple limitations, and cannot behave the exact same way as the async behavior.\n// When the `maxBuffer` is hit, a `ENOBUFS` error is thrown.\nexport const isMaxBufferSync = (resultError, output, maxBuffer) => resultError?.code === 'ENOBUFS'\n\t&& output !== null\n\t&& output.some(result => result !== null && result.length > getMaxBufferSync(maxBuffer));\n\n// When `maxBuffer` is hit, ensure the result is truncated\nexport const truncateMaxBufferSync = (result, isMaxBuffer, maxBuffer) => {\n\tif (!isMaxBuffer) {\n\t\treturn result;\n\t}\n\n\tconst maxBufferValue = getMaxBufferSync(maxBuffer);\n\treturn result.length > maxBufferValue ? result.slice(0, maxBufferValue) : result;\n};\n\n// `spawnSync()` does not allow differentiating `maxBuffer` per file descriptor, so we always use `stdout`\nexport const getMaxBufferSync = ([, stdoutMaxBuffer]) => stdoutMaxBuffer;\n", "import {getSignalDescription} from '../terminate/signal.js';\nimport {getDurationMs} from './duration.js';\nimport {getFinalError} from './final-error.js';\nimport {createMessages} from './message.js';\n\n// Object returned on subprocess success\nexport const makeSuccessResult = ({\n\tcommand,\n\tescapedCommand,\n\tstdio,\n\tall,\n\tipcOutput,\n\toptions: {cwd},\n\tstartTime,\n}) => omitUndefinedProperties({\n\tcommand,\n\tescapedCommand,\n\tcwd,\n\tdurationMs: getDurationMs(startTime),\n\tfailed: false,\n\ttimedOut: false,\n\tisCanceled: false,\n\tisGracefullyCanceled: false,\n\tisTerminated: false,\n\tisMaxBuffer: false,\n\tisForcefullyTerminated: false,\n\texitCode: 0,\n\tstdout: stdio[1],\n\tstderr: stdio[2],\n\tall,\n\tstdio,\n\tipcOutput,\n\tpipedFrom: [],\n});\n\n// Object returned on subprocess failure before spawning\nexport const makeEarlyError = ({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tfileDescriptors,\n\toptions,\n\tstartTime,\n\tisSync,\n}) => makeError({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut: false,\n\tisCanceled: false,\n\tisGracefullyCanceled: false,\n\tisMaxBuffer: false,\n\tisForcefullyTerminated: false,\n\tstdio: Array.from({length: fileDescriptors.length}),\n\tipcOutput: [],\n\toptions,\n\tisSync,\n});\n\n// Object returned on subprocess failure\nexport const makeError = ({\n\terror: originalError,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode: rawExitCode,\n\tsignal: rawSignal,\n\tstdio,\n\tall,\n\tipcOutput,\n\toptions: {\n\t\ttimeoutDuration,\n\t\ttimeout = timeoutDuration,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tcwd,\n\t\tmaxBuffer,\n\t},\n\tisSync,\n}) => {\n\tconst {exitCode, signal, signalDescription} = normalizeExitPayload(rawExitCode, rawSignal);\n\tconst {originalMessage, shortMessage, message} = createMessages({\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toriginalError,\n\t\tsignal,\n\t\tsignalDescription,\n\t\texitCode,\n\t\tescapedCommand,\n\t\ttimedOut,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tmaxBuffer,\n\t\ttimeout,\n\t\tcwd,\n\t});\n\tconst error = getFinalError(originalError, message, isSync);\n\tObject.assign(error, getErrorProperties({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\ttimedOut,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated,\n\t\texitCode,\n\t\tsignal,\n\t\tsignalDescription,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\tcwd,\n\t\toriginalMessage,\n\t\tshortMessage,\n\t}));\n\treturn error;\n};\n\nconst getErrorProperties = ({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode,\n\tsignal,\n\tsignalDescription,\n\tstdio,\n\tall,\n\tipcOutput,\n\tcwd,\n\toriginalMessage,\n\tshortMessage,\n}) => omitUndefinedProperties({\n\tshortMessage,\n\toriginalMessage,\n\tcommand,\n\tescapedCommand,\n\tcwd,\n\tdurationMs: getDurationMs(startTime),\n\tfailed: true,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisTerminated: signal !== undefined,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode,\n\tsignal,\n\tsignalDescription,\n\tcode: error.cause?.code,\n\tstdout: stdio[1],\n\tstderr: stdio[2],\n\tall,\n\tstdio,\n\tipcOutput,\n\tpipedFrom: [],\n});\n\nconst omitUndefinedProperties = result => Object.fromEntries(Object.entries(result).filter(([, value]) => value !== undefined));\n\n// `signal` and `exitCode` emitted on `subprocess.on('exit')` event can be `null`.\n// We normalize them to `undefined`\nconst normalizeExitPayload = (rawExitCode, rawSignal) => {\n\tconst exitCode = rawExitCode === null ? undefined : rawExitCode;\n\tconst signal = rawSignal === null ? undefined : rawSignal;\n\tconst signalDescription = signal === undefined ? undefined : getSignalDescription(rawSignal);\n\treturn {exitCode, signal, signalDescription};\n};\n", "const toZeroIfInfinity = value => Number.isFinite(value) ? value : 0;\n\nfunction parseNumber(milliseconds) {\n\treturn {\n\t\tdays: Math.trunc(milliseconds / 86_400_000),\n\t\thours: Math.trunc(milliseconds / 3_600_000 % 24),\n\t\tminutes: Math.trunc(milliseconds / 60_000 % 60),\n\t\tseconds: Math.trunc(milliseconds / 1000 % 60),\n\t\tmilliseconds: Math.trunc(milliseconds % 1000),\n\t\tmicroseconds: Math.trunc(toZeroIfInfinity(milliseconds * 1000) % 1000),\n\t\tnanoseconds: Math.trunc(toZeroIfInfinity(milliseconds * 1e6) % 1000),\n\t};\n}\n\nfunction parseBigint(milliseconds) {\n\treturn {\n\t\tdays: milliseconds / 86_400_000n,\n\t\thours: milliseconds / 3_600_000n % 24n,\n\t\tminutes: milliseconds / 60_000n % 60n,\n\t\tseconds: milliseconds / 1000n % 60n,\n\t\tmilliseconds: milliseconds % 1000n,\n\t\tmicroseconds: 0n,\n\t\tnanoseconds: 0n,\n\t};\n}\n\nexport default function parseMilliseconds(milliseconds) {\n\tswitch (typeof milliseconds) {\n\t\tcase 'number': {\n\t\t\tif (Number.isFinite(milliseconds)) {\n\t\t\t\treturn parseNumber(milliseconds);\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'bigint': {\n\t\t\treturn parseBigint(milliseconds);\n\t\t}\n\n\t\t// No default\n\t}\n\n\tthrow new TypeError('Expected a finite number or bigint');\n}\n", "import parseMilliseconds from 'parse-ms';\n\nconst isZero = value => value === 0 || value === 0n;\nconst pluralize = (word, count) => (count === 1 || count === 1n) ? word : `${word}s`;\n\nconst SECOND_ROUNDING_EPSILON = 0.000_000_1;\nconst ONE_DAY_IN_MILLISECONDS = 24n * 60n * 60n * 1000n;\n\nexport default function prettyMilliseconds(milliseconds, options) {\n\tconst isBigInt = typeof milliseconds === 'bigint';\n\tif (!isBigInt && !Number.isFinite(milliseconds)) {\n\t\tthrow new TypeError('Expected a finite number or bigint');\n\t}\n\n\toptions = {...options};\n\n\tconst sign = milliseconds < 0 ? '-' : '';\n\tmilliseconds = milliseconds < 0 ? -milliseconds : milliseconds; // Cannot use `Math.abs()` because of BigInt support.\n\n\tif (options.colonNotation) {\n\t\toptions.compact = false;\n\t\toptions.formatSubMilliseconds = false;\n\t\toptions.separateMilliseconds = false;\n\t\toptions.verbose = false;\n\t}\n\n\tif (options.compact) {\n\t\toptions.unitCount = 1;\n\t\toptions.secondsDecimalDigits = 0;\n\t\toptions.millisecondsDecimalDigits = 0;\n\t}\n\n\tlet result = [];\n\n\tconst floorDecimals = (value, decimalDigits) => {\n\t\tconst flooredInterimValue = Math.floor((value * (10 ** decimalDigits)) + SECOND_ROUNDING_EPSILON);\n\t\tconst flooredValue = Math.round(flooredInterimValue) / (10 ** decimalDigits);\n\t\treturn flooredValue.toFixed(decimalDigits);\n\t};\n\n\tconst add = (value, long, short, valueString) => {\n\t\tif (\n\t\t\t(result.length === 0 || !options.colonNotation)\n\t\t\t&& isZero(value)\n\t\t\t&& !(options.colonNotation && short === 'm')) {\n\t\t\treturn;\n\t\t}\n\n\t\tvalueString ??= String(value);\n\t\tif (options.colonNotation) {\n\t\t\tconst wholeDigits = valueString.includes('.') ? valueString.split('.')[0].length : valueString.length;\n\t\t\tconst minLength = result.length > 0 ? 2 : 1;\n\t\t\tvalueString = '0'.repeat(Math.max(0, minLength - wholeDigits)) + valueString;\n\t\t} else {\n\t\t\tvalueString += options.verbose ? ' ' + pluralize(long, value) : short;\n\t\t}\n\n\t\tresult.push(valueString);\n\t};\n\n\tconst parsed = parseMilliseconds(milliseconds);\n\tconst days = BigInt(parsed.days);\n\n\tadd(days / 365n, 'year', 'y');\n\tadd(days % 365n, 'day', 'd');\n\tadd(Number(parsed.hours), 'hour', 'h');\n\tadd(Number(parsed.minutes), 'minute', 'm');\n\n\tif (\n\t\toptions.separateMilliseconds\n\t\t|| options.formatSubMilliseconds\n\t\t|| (!options.colonNotation && milliseconds < 1000)\n\t) {\n\t\tconst seconds = Number(parsed.seconds);\n\t\tconst milliseconds = Number(parsed.milliseconds);\n\t\tconst microseconds = Number(parsed.microseconds);\n\t\tconst nanoseconds = Number(parsed.nanoseconds);\n\n\t\tadd(seconds, 'second', 's');\n\n\t\tif (options.formatSubMilliseconds) {\n\t\t\tadd(milliseconds, 'millisecond', 'ms');\n\t\t\tadd(microseconds, 'microsecond', '\u00B5s');\n\t\t\tadd(nanoseconds, 'nanosecond', 'ns');\n\t\t} else {\n\t\t\tconst millisecondsAndBelow\n\t\t\t\t= milliseconds\n\t\t\t\t+ (microseconds / 1000)\n\t\t\t\t+ (nanoseconds / 1e6);\n\n\t\t\tconst millisecondsDecimalDigits\n\t\t\t\t= typeof options.millisecondsDecimalDigits === 'number'\n\t\t\t\t\t? options.millisecondsDecimalDigits\n\t\t\t\t\t: 0;\n\n\t\t\tconst roundedMilliseconds = millisecondsAndBelow >= 1\n\t\t\t\t? Math.round(millisecondsAndBelow)\n\t\t\t\t: Math.ceil(millisecondsAndBelow);\n\n\t\t\tconst millisecondsString = millisecondsDecimalDigits\n\t\t\t\t? millisecondsAndBelow.toFixed(millisecondsDecimalDigits)\n\t\t\t\t: roundedMilliseconds;\n\n\t\t\tadd(\n\t\t\t\tNumber.parseFloat(millisecondsString),\n\t\t\t\t'millisecond',\n\t\t\t\t'ms',\n\t\t\t\tmillisecondsString,\n\t\t\t);\n\t\t}\n\t} else {\n\t\tconst seconds = (\n\t\t\t(isBigInt ? Number(milliseconds % ONE_DAY_IN_MILLISECONDS) : milliseconds)\n\t\t\t/ 1000\n\t\t) % 60;\n\t\tconst secondsDecimalDigits\n\t\t\t= typeof options.secondsDecimalDigits === 'number'\n\t\t\t\t? options.secondsDecimalDigits\n\t\t\t\t: 1;\n\t\tconst secondsFixed = floorDecimals(seconds, secondsDecimalDigits);\n\t\tconst secondsString = options.keepDecimalsOnWholeSeconds\n\t\t\t? secondsFixed\n\t\t\t: secondsFixed.replace(/\\.0+$/, '');\n\t\tadd(Number.parseFloat(secondsString), 'second', 's', secondsString);\n\t}\n\n\tif (result.length === 0) {\n\t\treturn sign + '0' + (options.verbose ? ' milliseconds' : 'ms');\n\t}\n\n\tconst separator = options.colonNotation ? ':' : ' ';\n\tif (typeof options.unitCount === 'number') {\n\t\tresult = result.slice(0, Math.max(options.unitCount, 1));\n\t}\n\n\treturn sign + result.join(separator);\n}\n", "import {verboseLog} from './log.js';\n\n// When `verbose` is `short|full|custom`, print each command's error when it fails\nexport const logError = (result, verboseInfo) => {\n\tif (result.failed) {\n\t\tverboseLog({\n\t\t\ttype: 'error',\n\t\t\tverboseMessage: result.shortMessage,\n\t\t\tverboseInfo,\n\t\t\tresult,\n\t\t});\n\t}\n};\n", "import prettyMs from 'pretty-ms';\nimport {isVerbose} from './values.js';\nimport {verboseLog} from './log.js';\nimport {logError} from './error.js';\n\n// When `verbose` is `short|full|custom`, print each command's completion, duration and error\nexport const logResult = (result, verboseInfo) => {\n\tif (!isVerbose(verboseInfo)) {\n\t\treturn;\n\t}\n\n\tlogError(result, verboseInfo);\n\tlogDuration(result, verboseInfo);\n};\n\nconst logDuration = (result, verboseInfo) => {\n\tconst verboseMessage = `(done in ${prettyMs(result.durationMs)})`;\n\tverboseLog({\n\t\ttype: 'duration',\n\t\tverboseMessage,\n\t\tverboseInfo,\n\t\tresult,\n\t});\n};\n", "import {logResult} from '../verbose/complete.js';\n\n// Applies the `reject` option.\n// Also print the final log line with `verbose`.\nexport const handleResult = (result, verboseInfo, {reject}) => {\n\tlogResult(result, verboseInfo);\n\n\tif (result.failed && reject) {\n\t\tthrow result;\n\t}\n\n\treturn result;\n};\n", "import {readFileSync} from 'node:fs';\nimport {bufferToUint8Array} from '../utils/uint-array.js';\nimport {handleStdio} from './handle.js';\nimport {TYPE_TO_MESSAGE} from './type.js';\n\n// Normalize `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in sync mode\nexport const handleStdioSync = (options, verboseInfo) => handleStdio(addPropertiesSync, options, verboseInfo, true);\n\nconst forbiddenIfSync = ({type, optionName}) => {\n\tthrowInvalidSyncValue(optionName, TYPE_TO_MESSAGE[type]);\n};\n\nconst forbiddenNativeIfSync = ({optionName, value}) => {\n\tif (value === 'ipc' || value === 'overlapped') {\n\t\tthrowInvalidSyncValue(optionName, `\"${value}\"`);\n\t}\n\n\treturn {};\n};\n\nconst throwInvalidSyncValue = (optionName, value) => {\n\tthrow new TypeError(`The \\`${optionName}\\` option cannot be ${value} with synchronous methods.`);\n};\n\n// Create streams used internally for redirecting when using specific values for the `std*` options, in sync mode.\n// For example, `stdin: {file}` reads the file synchronously, then passes it as the `input` option.\nconst addProperties = {\n\tgenerator() {},\n\tasyncGenerator: forbiddenIfSync,\n\twebStream: forbiddenIfSync,\n\tnodeStream: forbiddenIfSync,\n\twebTransform: forbiddenIfSync,\n\tduplex: forbiddenIfSync,\n\tasyncIterable: forbiddenIfSync,\n\tnative: forbiddenNativeIfSync,\n};\n\nconst addPropertiesSync = {\n\tinput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({contents: [bufferToUint8Array(readFileSync(value))]}),\n\t\tfilePath: ({value: {file}}) => ({contents: [bufferToUint8Array(readFileSync(file))]}),\n\t\tfileNumber: forbiddenIfSync,\n\t\titerable: ({value}) => ({contents: [...value]}),\n\t\tstring: ({value}) => ({contents: [value]}),\n\t\tuint8Array: ({value}) => ({contents: [value]}),\n\t},\n\toutput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({path: value}),\n\t\tfilePath: ({value: {file}}) => ({path: file}),\n\t\tfileNumber: ({value}) => ({path: value}),\n\t\titerable: forbiddenIfSync,\n\t\tstring: forbiddenIfSync,\n\t\tuint8Array: forbiddenIfSync,\n\t},\n};\n", "import {isStream as isNodeStream, isDuplexStream} from 'is-stream';\nimport isPlainObj from 'is-plain-obj';\nimport {isUint8Array} from '../utils/uint-array.js';\n\n// The `stdin`/`stdout`/`stderr` option can be of many types. This detects it.\nexport const getStdioItemType = (value, optionName) => {\n\tif (isAsyncGenerator(value)) {\n\t\treturn 'asyncGenerator';\n\t}\n\n\tif (isSyncGenerator(value)) {\n\t\treturn 'generator';\n\t}\n\n\tif (isUrl(value)) {\n\t\treturn 'fileUrl';\n\t}\n\n\tif (isFilePathObject(value)) {\n\t\treturn 'filePath';\n\t}\n\n\tif (isWebStream(value)) {\n\t\treturn 'webStream';\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\treturn 'native';\n\t}\n\n\tif (isUint8Array(value)) {\n\t\treturn 'uint8Array';\n\t}\n\n\tif (isAsyncIterableObject(value)) {\n\t\treturn 'asyncIterable';\n\t}\n\n\tif (isIterableObject(value)) {\n\t\treturn 'iterable';\n\t}\n\n\tif (isTransformStream(value)) {\n\t\treturn getTransformStreamType({transform: value}, optionName);\n\t}\n\n\tif (isTransformOptions(value)) {\n\t\treturn getTransformObjectType(value, optionName);\n\t}\n\n\treturn 'native';\n};\n\nconst getTransformObjectType = (value, optionName) => {\n\tif (isDuplexStream(value.transform, {checkOpen: false})) {\n\t\treturn getDuplexType(value, optionName);\n\t}\n\n\tif (isTransformStream(value.transform)) {\n\t\treturn getTransformStreamType(value, optionName);\n\t}\n\n\treturn getGeneratorObjectType(value, optionName);\n};\n\nconst getDuplexType = (value, optionName) => {\n\tvalidateNonGeneratorType(value, optionName, 'Duplex stream');\n\treturn 'duplex';\n};\n\nconst getTransformStreamType = (value, optionName) => {\n\tvalidateNonGeneratorType(value, optionName, 'web TransformStream');\n\treturn 'webTransform';\n};\n\nconst validateNonGeneratorType = ({final, binary, objectMode}, optionName, typeName) => {\n\tcheckUndefinedOption(final, `${optionName}.final`, typeName);\n\tcheckUndefinedOption(binary, `${optionName}.binary`, typeName);\n\tcheckBooleanOption(objectMode, `${optionName}.objectMode`);\n};\n\nconst checkUndefinedOption = (value, optionName, typeName) => {\n\tif (value !== undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option can only be defined when using a generator, not a ${typeName}.`);\n\t}\n};\n\nconst getGeneratorObjectType = ({transform, final, binary, objectMode}, optionName) => {\n\tif (transform !== undefined && !isGenerator(transform)) {\n\t\tthrow new TypeError(`The \\`${optionName}.transform\\` option must be a generator, a Duplex stream or a web TransformStream.`);\n\t}\n\n\tif (isDuplexStream(final, {checkOpen: false})) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must not be a Duplex stream.`);\n\t}\n\n\tif (isTransformStream(final)) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must not be a web TransformStream.`);\n\t}\n\n\tif (final !== undefined && !isGenerator(final)) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must be a generator.`);\n\t}\n\n\tcheckBooleanOption(binary, `${optionName}.binary`);\n\tcheckBooleanOption(objectMode, `${optionName}.objectMode`);\n\n\treturn isAsyncGenerator(transform) || isAsyncGenerator(final) ? 'asyncGenerator' : 'generator';\n};\n\nconst checkBooleanOption = (value, optionName) => {\n\tif (value !== undefined && typeof value !== 'boolean') {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must use a boolean.`);\n\t}\n};\n\nconst isGenerator = value => isAsyncGenerator(value) || isSyncGenerator(value);\nexport const isAsyncGenerator = value => Object.prototype.toString.call(value) === '[object AsyncGeneratorFunction]';\nconst isSyncGenerator = value => Object.prototype.toString.call(value) === '[object GeneratorFunction]';\nconst isTransformOptions = value => isPlainObj(value)\n\t&& (value.transform !== undefined || value.final !== undefined);\n\nexport const isUrl = value => Object.prototype.toString.call(value) === '[object URL]';\nexport const isRegularUrl = value => isUrl(value) && value.protocol !== 'file:';\n\nconst isFilePathObject = value => isPlainObj(value)\n\t&& Object.keys(value).length === 1\n\t&& isFilePathString(value.file);\nexport const isFilePathString = file => typeof file === 'string';\n\nexport const isUnknownStdioString = (type, value) => type === 'native'\n\t&& typeof value === 'string'\n\t&& !KNOWN_STDIO_STRINGS.has(value);\nconst KNOWN_STDIO_STRINGS = new Set(['ipc', 'ignore', 'inherit', 'overlapped', 'pipe']);\n\nconst isReadableStream = value => Object.prototype.toString.call(value) === '[object ReadableStream]';\nexport const isWritableStream = value => Object.prototype.toString.call(value) === '[object WritableStream]';\nconst isWebStream = value => isReadableStream(value) || isWritableStream(value);\nconst isTransformStream = value => isReadableStream(value?.readable) && isWritableStream(value?.writable);\n\nconst isAsyncIterableObject = value => isObject(value) && typeof value[Symbol.asyncIterator] === 'function';\nconst isIterableObject = value => isObject(value) && typeof value[Symbol.iterator] === 'function';\nconst isObject = value => typeof value === 'object' && value !== null;\n\n// Types which modify `subprocess.std*`\nexport const TRANSFORM_TYPES = new Set(['generator', 'asyncGenerator', 'duplex', 'webTransform']);\n// Types which write to a file or a file descriptor\nexport const FILE_TYPES = new Set(['fileUrl', 'filePath', 'fileNumber']);\n// When two file descriptors of this type share the same target, we need to do some special logic\nexport const SPECIAL_DUPLICATE_TYPES_SYNC = new Set(['fileUrl', 'filePath']);\nexport const SPECIAL_DUPLICATE_TYPES = new Set([...SPECIAL_DUPLICATE_TYPES_SYNC, 'webStream', 'nodeStream']);\n// Do not allow two file descriptors of this type sharing the same target\nexport const FORBID_DUPLICATE_TYPES = new Set(['webTransform', 'duplex']);\n\n// Convert types to human-friendly strings for error messages\nexport const TYPE_TO_MESSAGE = {\n\tgenerator: 'a generator',\n\tasyncGenerator: 'an async generator',\n\tfileUrl: 'a file URL',\n\tfilePath: 'a file path string',\n\tfileNumber: 'a file descriptor number',\n\twebStream: 'a web stream',\n\tnodeStream: 'a Node.js stream',\n\twebTransform: 'a web TransformStream',\n\tduplex: 'a Duplex stream',\n\tnative: 'any value',\n\titerable: 'an iterable',\n\tasyncIterable: 'an async iterable',\n\tstring: 'a string',\n\tuint8Array: 'a Uint8Array',\n};\n", "import {TRANSFORM_TYPES} from '../stdio/type.js';\n\n/*\nRetrieve the `objectMode`s of a single transform.\n`objectMode` determines the return value's type, i.e. the `readableObjectMode`.\nThe chunk argument's type is based on the previous generator's return value, i.e. the `writableObjectMode` is based on the previous `readableObjectMode`.\nThe last input's generator is read by `subprocess.stdin` which:\n- should not be in `objectMode` for performance reasons.\n- can only be strings, Buffers and Uint8Arrays.\nTherefore its `readableObjectMode` must be `false`.\nThe same applies to the first output's generator's `writableObjectMode`.\n*/\nexport const getTransformObjectModes = (objectMode, index, newTransforms, direction) => direction === 'output'\n\t? getOutputObjectModes(objectMode, index, newTransforms)\n\t: getInputObjectModes(objectMode, index, newTransforms);\n\nconst getOutputObjectModes = (objectMode, index, newTransforms) => {\n\tconst writableObjectMode = index !== 0 && newTransforms[index - 1].value.readableObjectMode;\n\tconst readableObjectMode = objectMode ?? writableObjectMode;\n\treturn {writableObjectMode, readableObjectMode};\n};\n\nconst getInputObjectModes = (objectMode, index, newTransforms) => {\n\tconst writableObjectMode = index === 0\n\t\t? objectMode === true\n\t\t: newTransforms[index - 1].value.readableObjectMode;\n\tconst readableObjectMode = index !== newTransforms.length - 1 && (objectMode ?? writableObjectMode);\n\treturn {writableObjectMode, readableObjectMode};\n};\n\n// Retrieve the `objectMode` of a file descriptor, e.g. `stdout` or `stderr`\nexport const getFdObjectMode = (stdioItems, direction) => {\n\tconst lastTransform = stdioItems.findLast(({type}) => TRANSFORM_TYPES.has(type));\n\tif (lastTransform === undefined) {\n\t\treturn false;\n\t}\n\n\treturn direction === 'input'\n\t\t? lastTransform.value.writableObjectMode\n\t\t: lastTransform.value.readableObjectMode;\n};\n", "import isPlainObj from 'is-plain-obj';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {getTransformObjectModes} from './object-mode.js';\n\n// Transforms generators/duplex/TransformStream can have multiple shapes.\n// This normalizes it and applies default values.\nexport const normalizeTransforms = (stdioItems, optionName, direction, options) => [\n\t...stdioItems.filter(({type}) => !TRANSFORM_TYPES.has(type)),\n\t...getTransforms(stdioItems, optionName, direction, options),\n];\n\nconst getTransforms = (stdioItems, optionName, direction, {encoding}) => {\n\tconst transforms = stdioItems.filter(({type}) => TRANSFORM_TYPES.has(type));\n\tconst newTransforms = Array.from({length: transforms.length});\n\n\tfor (const [index, stdioItem] of Object.entries(transforms)) {\n\t\tnewTransforms[index] = normalizeTransform({\n\t\t\tstdioItem,\n\t\t\tindex: Number(index),\n\t\t\tnewTransforms,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t\tencoding,\n\t\t});\n\t}\n\n\treturn sortTransforms(newTransforms, direction);\n};\n\nconst normalizeTransform = ({stdioItem, stdioItem: {type}, index, newTransforms, optionName, direction, encoding}) => {\n\tif (type === 'duplex') {\n\t\treturn normalizeDuplex({stdioItem, optionName});\n\t}\n\n\tif (type === 'webTransform') {\n\t\treturn normalizeTransformStream({\n\t\t\tstdioItem,\n\t\t\tindex,\n\t\t\tnewTransforms,\n\t\t\tdirection,\n\t\t});\n\t}\n\n\treturn normalizeGenerator({\n\t\tstdioItem,\n\t\tindex,\n\t\tnewTransforms,\n\t\tdirection,\n\t\tencoding,\n\t});\n};\n\nconst normalizeDuplex = ({\n\tstdioItem,\n\tstdioItem: {\n\t\tvalue: {\n\t\t\ttransform,\n\t\t\ttransform: {writableObjectMode, readableObjectMode},\n\t\t\tobjectMode = readableObjectMode,\n\t\t},\n\t},\n\toptionName,\n}) => {\n\tif (objectMode && !readableObjectMode) {\n\t\tthrow new TypeError(`The \\`${optionName}.objectMode\\` option can only be \\`true\\` if \\`new Duplex({objectMode: true})\\` is used.`);\n\t}\n\n\tif (!objectMode && readableObjectMode) {\n\t\tthrow new TypeError(`The \\`${optionName}.objectMode\\` option cannot be \\`false\\` if \\`new Duplex({objectMode: true})\\` is used.`);\n\t}\n\n\treturn {\n\t\t...stdioItem,\n\t\tvalue: {transform, writableObjectMode, readableObjectMode},\n\t};\n};\n\nconst normalizeTransformStream = ({stdioItem, stdioItem: {value}, index, newTransforms, direction}) => {\n\tconst {transform, objectMode} = isPlainObj(value) ? value : {transform: value};\n\tconst {writableObjectMode, readableObjectMode} = getTransformObjectModes(objectMode, index, newTransforms, direction);\n\treturn ({\n\t\t...stdioItem,\n\t\tvalue: {transform, writableObjectMode, readableObjectMode},\n\t});\n};\n\nconst normalizeGenerator = ({stdioItem, stdioItem: {value}, index, newTransforms, direction, encoding}) => {\n\tconst {\n\t\ttransform,\n\t\tfinal,\n\t\tbinary: binaryOption = false,\n\t\tpreserveNewlines = false,\n\t\tobjectMode,\n\t} = isPlainObj(value) ? value : {transform: value};\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {writableObjectMode, readableObjectMode} = getTransformObjectModes(objectMode, index, newTransforms, direction);\n\treturn {\n\t\t...stdioItem,\n\t\tvalue: {\n\t\t\ttransform,\n\t\t\tfinal,\n\t\t\tbinary,\n\t\t\tpreserveNewlines,\n\t\t\twritableObjectMode,\n\t\t\treadableObjectMode,\n\t\t},\n\t};\n};\n\nconst sortTransforms = (newTransforms, direction) => direction === 'input' ? newTransforms.reverse() : newTransforms;\n", "import process from 'node:process';\nimport {\n\tisStream as isNodeStream,\n\tisReadableStream as isNodeReadableStream,\n\tisWritableStream as isNodeWritableStream,\n} from 'is-stream';\nimport {isWritableStream} from './type.js';\n\n// For `stdio[fdNumber]` beyond stdin/stdout/stderr, we need to guess whether the value passed is intended for inputs or outputs.\n// This allows us to know whether to pipe _into_ or _from_ the stream.\n// When `stdio[fdNumber]` is a single value, this guess is fairly straightforward.\n// However, when it is an array instead, we also need to make sure the different values are not incompatible with each other.\nexport const getStreamDirection = (stdioItems, fdNumber, optionName) => {\n\tconst directions = stdioItems.map(stdioItem => getStdioItemDirection(stdioItem, fdNumber));\n\n\tif (directions.includes('input') && directions.includes('output')) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must not be an array of both readable and writable values.`);\n\t}\n\n\treturn directions.find(Boolean) ?? DEFAULT_DIRECTION;\n};\n\nconst getStdioItemDirection = ({type, value}, fdNumber) => KNOWN_DIRECTIONS[fdNumber] ?? guessStreamDirection[type](value);\n\n// `stdin`/`stdout`/`stderr` have a known direction\nconst KNOWN_DIRECTIONS = ['input', 'output', 'output'];\n\nconst anyDirection = () => undefined;\nconst alwaysInput = () => 'input';\n\n// `string` can only be added through the `input` option, i.e. does not need to be handled here\nconst guessStreamDirection = {\n\tgenerator: anyDirection,\n\tasyncGenerator: anyDirection,\n\tfileUrl: anyDirection,\n\tfilePath: anyDirection,\n\titerable: alwaysInput,\n\tasyncIterable: alwaysInput,\n\tuint8Array: alwaysInput,\n\twebStream: value => isWritableStream(value) ? 'output' : 'input',\n\tnodeStream(value) {\n\t\tif (!isNodeReadableStream(value, {checkOpen: false})) {\n\t\t\treturn 'output';\n\t\t}\n\n\t\treturn isNodeWritableStream(value, {checkOpen: false}) ? undefined : 'input';\n\t},\n\twebTransform: anyDirection,\n\tduplex: anyDirection,\n\tnative(value) {\n\t\tconst standardStreamDirection = getStandardStreamDirection(value);\n\t\tif (standardStreamDirection !== undefined) {\n\t\t\treturn standardStreamDirection;\n\t\t}\n\n\t\tif (isNodeStream(value, {checkOpen: false})) {\n\t\t\treturn guessStreamDirection.nodeStream(value);\n\t\t}\n\t},\n};\n\nconst getStandardStreamDirection = value => {\n\tif ([0, process.stdin].includes(value)) {\n\t\treturn 'input';\n\t}\n\n\tif ([1, 2, process.stdout, process.stderr].includes(value)) {\n\t\treturn 'output';\n\t}\n};\n\n// When ambiguous, we initially keep the direction as `undefined`.\n// This allows arrays of `stdio` values to resolve the ambiguity.\n// For example, `stdio[3]: DuplexStream` is ambiguous, but `stdio[3]: [DuplexStream, WritableStream]` is not.\n// When the ambiguity remains, we default to `output` since it is the most common use case for additional file descriptors.\nconst DEFAULT_DIRECTION = 'output';\n", "// The `ipc` option adds an `ipc` item to the `stdio` option\nexport const normalizeIpcStdioArray = (stdioArray, ipc) => ipc && !stdioArray.includes('ipc')\n\t? [...stdioArray, 'ipc']\n\t: stdioArray;\n", "import {STANDARD_STREAMS_ALIASES} from '../utils/standard-stream.js';\nimport {normalizeIpcStdioArray} from '../ipc/array.js';\nimport {isFullVerbose} from '../verbose/values.js';\n\n// Add support for `stdin`/`stdout`/`stderr` as an alias for `stdio`.\n// Also normalize the `stdio` option.\nexport const normalizeStdioOption = ({stdio, ipc, buffer, ...options}, verboseInfo, isSync) => {\n\tconst stdioArray = getStdioArray(stdio, options).map((stdioOption, fdNumber) => addDefaultValue(stdioOption, fdNumber));\n\treturn isSync\n\t\t? normalizeStdioSync(stdioArray, buffer, verboseInfo)\n\t\t: normalizeIpcStdioArray(stdioArray, ipc);\n};\n\nconst getStdioArray = (stdio, options) => {\n\tif (stdio === undefined) {\n\t\treturn STANDARD_STREAMS_ALIASES.map(alias => options[alias]);\n\t}\n\n\tif (hasAlias(options)) {\n\t\tthrow new Error(`It's not possible to provide \\`stdio\\` in combination with one of ${STANDARD_STREAMS_ALIASES.map(alias => `\\`${alias}\\``).join(', ')}`);\n\t}\n\n\tif (typeof stdio === 'string') {\n\t\treturn [stdio, stdio, stdio];\n\t}\n\n\tif (!Array.isArray(stdio)) {\n\t\tthrow new TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof stdio}\\``);\n\t}\n\n\tconst length = Math.max(stdio.length, STANDARD_STREAMS_ALIASES.length);\n\treturn Array.from({length}, (_, fdNumber) => stdio[fdNumber]);\n};\n\nconst hasAlias = options => STANDARD_STREAMS_ALIASES.some(alias => options[alias] !== undefined);\n\nconst addDefaultValue = (stdioOption, fdNumber) => {\n\tif (Array.isArray(stdioOption)) {\n\t\treturn stdioOption.map(item => addDefaultValue(item, fdNumber));\n\t}\n\n\tif (stdioOption === null || stdioOption === undefined) {\n\t\treturn fdNumber >= STANDARD_STREAMS_ALIASES.length ? 'ignore' : 'pipe';\n\t}\n\n\treturn stdioOption;\n};\n\n// Using `buffer: false` with synchronous methods implies `stdout`/`stderr`: `ignore`.\n// Unless the output is needed, e.g. due to `verbose: 'full'` or to redirecting to a file.\nconst normalizeStdioSync = (stdioArray, buffer, verboseInfo) => stdioArray.map((stdioOption, fdNumber) =>\n\t!buffer[fdNumber]\n\t&& fdNumber !== 0\n\t&& !isFullVerbose(verboseInfo, fdNumber)\n\t&& isOutputPipeOnly(stdioOption)\n\t\t? 'ignore'\n\t\t: stdioOption);\n\nconst isOutputPipeOnly = stdioOption => stdioOption === 'pipe'\n\t|| (Array.isArray(stdioOption) && stdioOption.every(item => item === 'pipe'));\n", "import {readFileSync} from 'node:fs';\nimport tty from 'node:tty';\nimport {isStream as isNodeStream} from 'is-stream';\nimport {STANDARD_STREAMS} from '../utils/standard-stream.js';\nimport {bufferToUint8Array} from '../utils/uint-array.js';\nimport {serializeOptionValue} from '../arguments/fd-options.js';\n\n// When we use multiple `stdio` values for the same streams, we pass 'pipe' to `child_process.spawn()`.\n// We then emulate the piping done by core Node.js.\n// To do so, we transform the following values:\n//  - Node.js streams are marked as `type: nodeStream`\n//  - 'inherit' becomes `process.stdin|stdout|stderr`\n//  - any file descriptor integer becomes `process.stdio[fdNumber]`\n// All of the above transformations tell Execa to perform manual piping.\nexport const handleNativeStream = ({stdioItem, stdioItem: {type}, isStdioArray, fdNumber, direction, isSync}) => {\n\tif (!isStdioArray || type !== 'native') {\n\t\treturn stdioItem;\n\t}\n\n\treturn isSync\n\t\t? handleNativeStreamSync({stdioItem, fdNumber, direction})\n\t\t: handleNativeStreamAsync({stdioItem, fdNumber});\n};\n\n// Synchronous methods use a different logic.\n// 'inherit', file descriptors and process.std* are handled by readFileSync()/writeFileSync().\nconst handleNativeStreamSync = ({stdioItem, stdioItem: {value, optionName}, fdNumber, direction}) => {\n\tconst targetFd = getTargetFd({\n\t\tvalue,\n\t\toptionName,\n\t\tfdNumber,\n\t\tdirection,\n\t});\n\tif (targetFd !== undefined) {\n\t\treturn targetFd;\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\tthrow new TypeError(`The \\`${optionName}: Stream\\` option cannot both be an array and include a stream with synchronous methods.`);\n\t}\n\n\treturn stdioItem;\n};\n\nconst getTargetFd = ({value, optionName, fdNumber, direction}) => {\n\tconst targetFdNumber = getTargetFdNumber(value, fdNumber);\n\tif (targetFdNumber === undefined) {\n\t\treturn;\n\t}\n\n\tif (direction === 'output') {\n\t\treturn {type: 'fileNumber', value: targetFdNumber, optionName};\n\t}\n\n\tif (tty.isatty(targetFdNumber)) {\n\t\tthrow new TypeError(`The \\`${optionName}: ${serializeOptionValue(value)}\\` option is invalid: it cannot be a TTY with synchronous methods.`);\n\t}\n\n\treturn {type: 'uint8Array', value: bufferToUint8Array(readFileSync(targetFdNumber)), optionName};\n};\n\nconst getTargetFdNumber = (value, fdNumber) => {\n\tif (value === 'inherit') {\n\t\treturn fdNumber;\n\t}\n\n\tif (typeof value === 'number') {\n\t\treturn value;\n\t}\n\n\tconst standardStreamIndex = STANDARD_STREAMS.indexOf(value);\n\tif (standardStreamIndex !== -1) {\n\t\treturn standardStreamIndex;\n\t}\n};\n\nconst handleNativeStreamAsync = ({stdioItem, stdioItem: {value, optionName}, fdNumber}) => {\n\tif (value === 'inherit') {\n\t\treturn {type: 'nodeStream', value: getStandardStream(fdNumber, value, optionName), optionName};\n\t}\n\n\tif (typeof value === 'number') {\n\t\treturn {type: 'nodeStream', value: getStandardStream(value, value, optionName), optionName};\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\treturn {type: 'nodeStream', value, optionName};\n\t}\n\n\treturn stdioItem;\n};\n\n// Node.js does not allow to easily retrieve file descriptors beyond stdin/stdout/stderr as streams.\n//  - `fs.createReadStream()`/`fs.createWriteStream()` with the `fd` option do not work with character devices that use blocking reads/writes (such as interactive TTYs).\n//  - Using a TCP `Socket` would work but be rather complex to implement.\n// Since this is an edge case, we simply throw an error message.\n// See https://github.com/sindresorhus/execa/pull/643#discussion_r1435905707\nconst getStandardStream = (fdNumber, value, optionName) => {\n\tconst standardStream = STANDARD_STREAMS[fdNumber];\n\n\tif (standardStream === undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}: ${value}\\` option is invalid: no such standard stream.`);\n\t}\n\n\treturn standardStream;\n};\n", "import {isReadableStream} from 'is-stream';\nimport {isUint8Array} from '../utils/uint-array.js';\nimport {isUrl, isFilePathString} from './type.js';\n\n// Append the `stdin` option with the `input` and `inputFile` options\nexport const handleInputOptions = ({input, inputFile}, fdNumber) => fdNumber === 0\n\t? [\n\t\t...handleInputOption(input),\n\t\t...handleInputFileOption(inputFile),\n\t]\n\t: [];\n\nconst handleInputOption = input => input === undefined ? [] : [{\n\ttype: getInputType(input),\n\tvalue: input,\n\toptionName: 'input',\n}];\n\nconst getInputType = input => {\n\tif (isReadableStream(input, {checkOpen: false})) {\n\t\treturn 'nodeStream';\n\t}\n\n\tif (typeof input === 'string') {\n\t\treturn 'string';\n\t}\n\n\tif (isUint8Array(input)) {\n\t\treturn 'uint8Array';\n\t}\n\n\tthrow new Error('The `input` option must be a string, a Uint8Array or a Node.js Readable stream.');\n};\n\nconst handleInputFileOption = inputFile => inputFile === undefined ? [] : [{\n\t...getInputFileType(inputFile),\n\toptionName: 'inputFile',\n}];\n\nconst getInputFileType = inputFile => {\n\tif (isUrl(inputFile)) {\n\t\treturn {type: 'fileUrl', value: inputFile};\n\t}\n\n\tif (isFilePathString(inputFile)) {\n\t\treturn {type: 'filePath', value: {file: inputFile}};\n\t}\n\n\tthrow new Error('The `inputFile` option must be a file path string or a file URL.');\n};\n", "import {\n\tSPECIAL_DUPLICATE_TYPES_SYNC,\n\tSPECIAL_DUPLICATE_TYPES,\n\tFORBID_DUPLICATE_TYPES,\n\tTYPE_TO_MESSAGE,\n} from './type.js';\n\n// Duplicates in the same file descriptor is most likely an error.\n// However, this can be useful with generators.\nexport const filterDuplicates = stdioItems => stdioItems.filter((stdioItemOne, indexOne) =>\n\tstdioItems.every((stdioItemTwo, indexTwo) => stdioItemOne.value !== stdioItemTwo.value\n\t\t|| indexOne >= indexTwo\n\t\t|| stdioItemOne.type === 'generator'\n\t\t|| stdioItemOne.type === 'asyncGenerator'));\n\n// Check if two file descriptors are sharing the same target.\n// For example `{stdout: {file: './output.txt'}, stderr: {file: './output.txt'}}`.\nexport const getDuplicateStream = ({stdioItem: {type, value, optionName}, direction, fileDescriptors, isSync}) => {\n\tconst otherStdioItems = getOtherStdioItems(fileDescriptors, type);\n\tif (otherStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tif (isSync) {\n\t\tvalidateDuplicateStreamSync({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t\treturn;\n\t}\n\n\tif (SPECIAL_DUPLICATE_TYPES.has(type)) {\n\t\treturn getDuplicateStreamInstance({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t}\n\n\tif (FORBID_DUPLICATE_TYPES.has(type)) {\n\t\tvalidateDuplicateTransform({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t});\n\t}\n};\n\n// Values shared by multiple file descriptors\nconst getOtherStdioItems = (fileDescriptors, type) => fileDescriptors\n\t.flatMap(({direction, stdioItems}) => stdioItems\n\t\t.filter(stdioItem => stdioItem.type === type)\n\t\t.map((stdioItem => ({...stdioItem, direction}))));\n\n// With `execaSync()`, do not allow setting a file path both in input and output\nconst validateDuplicateStreamSync = ({otherStdioItems, type, value, optionName, direction}) => {\n\tif (SPECIAL_DUPLICATE_TYPES_SYNC.has(type)) {\n\t\tgetDuplicateStreamInstance({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t}\n};\n\n// When two file descriptors share the file or stream, we need to re-use the same underlying stream.\n// Otherwise, the stream would be closed twice when piping ends.\n// This is only an issue with output file descriptors.\n// This is not a problem with generator functions since those create a new instance for each file descriptor.\n// We also forbid input and output file descriptors sharing the same file or stream, since that does not make sense.\nconst getDuplicateStreamInstance = ({otherStdioItems, type, value, optionName, direction}) => {\n\tconst duplicateStdioItems = otherStdioItems.filter(stdioItem => hasSameValue(stdioItem, value));\n\tif (duplicateStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tconst differentStdioItem = duplicateStdioItems.find(stdioItem => stdioItem.direction !== direction);\n\tthrowOnDuplicateStream(differentStdioItem, optionName, type);\n\n\treturn direction === 'output' ? duplicateStdioItems[0].stream : undefined;\n};\n\nconst hasSameValue = ({type, value}, secondValue) => {\n\tif (type === 'filePath') {\n\t\treturn value.file === secondValue.file;\n\t}\n\n\tif (type === 'fileUrl') {\n\t\treturn value.href === secondValue.href;\n\t}\n\n\treturn value === secondValue;\n};\n\n// We do not allow two file descriptors to share the same Duplex or TransformStream.\n// This is because those are set directly to `subprocess.std*`.\n// For example, this could result in `subprocess.stdout` and `subprocess.stderr` being the same value.\n// This means reading from either would get data from both stdout and stderr.\nconst validateDuplicateTransform = ({otherStdioItems, type, value, optionName}) => {\n\tconst duplicateStdioItem = otherStdioItems.find(({value: {transform}}) => transform === value.transform);\n\tthrowOnDuplicateStream(duplicateStdioItem, optionName, type);\n};\n\nconst throwOnDuplicateStream = (stdioItem, optionName, type) => {\n\tif (stdioItem !== undefined) {\n\t\tthrow new TypeError(`The \\`${stdioItem.optionName}\\` and \\`${optionName}\\` options must not target ${TYPE_TO_MESSAGE[type]} that is the same.`);\n\t}\n};\n", "import {getStreamName, isStandardStream} from '../utils/standard-stream.js';\nimport {normalizeTransforms} from '../transform/normalize.js';\nimport {getFdObjectMode} from '../transform/object-mode.js';\nimport {\n\tgetStdioItemType,\n\tisRegularUrl,\n\tisUnknownStdioString,\n\tFILE_TYPES,\n} from './type.js';\nimport {getStreamDirection} from './direction.js';\nimport {normalizeStdioOption} from './stdio-option.js';\nimport {handleNativeStream} from './native.js';\nimport {handleInputOptions} from './input-option.js';\nimport {filterDuplicates, getDuplicateStream} from './duplicate.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in async/sync mode\n// They are converted into an array of `fileDescriptors`.\n// Each `fileDescriptor` is normalized, validated and contains all information necessary for further handling.\nexport const handleStdio = (addProperties, options, verboseInfo, isSync) => {\n\tconst stdio = normalizeStdioOption(options, verboseInfo, isSync);\n\tconst initialFileDescriptors = stdio.map((stdioOption, fdNumber) => getFileDescriptor({\n\t\tstdioOption,\n\t\tfdNumber,\n\t\toptions,\n\t\tisSync,\n\t}));\n\tconst fileDescriptors = getFinalFileDescriptors({\n\t\tinitialFileDescriptors,\n\t\taddProperties,\n\t\toptions,\n\t\tisSync,\n\t});\n\toptions.stdio = fileDescriptors.map(({stdioItems}) => forwardStdio(stdioItems));\n\treturn fileDescriptors;\n};\n\nconst getFileDescriptor = ({stdioOption, fdNumber, options, isSync}) => {\n\tconst optionName = getStreamName(fdNumber);\n\tconst {stdioItems: initialStdioItems, isStdioArray} = initializeStdioItems({\n\t\tstdioOption,\n\t\tfdNumber,\n\t\toptions,\n\t\toptionName,\n\t});\n\tconst direction = getStreamDirection(initialStdioItems, fdNumber, optionName);\n\tconst stdioItems = initialStdioItems.map(stdioItem => handleNativeStream({\n\t\tstdioItem,\n\t\tisStdioArray,\n\t\tfdNumber,\n\t\tdirection,\n\t\tisSync,\n\t}));\n\tconst normalizedStdioItems = normalizeTransforms(stdioItems, optionName, direction, options);\n\tconst objectMode = getFdObjectMode(normalizedStdioItems, direction);\n\tvalidateFileObjectMode(normalizedStdioItems, objectMode);\n\treturn {direction, objectMode, stdioItems: normalizedStdioItems};\n};\n\n// We make sure passing an array with a single item behaves the same as passing that item without an array.\n// This is what users would expect.\n// For example, `stdout: ['ignore']` behaves the same as `stdout: 'ignore'`.\nconst initializeStdioItems = ({stdioOption, fdNumber, options, optionName}) => {\n\tconst values = Array.isArray(stdioOption) ? stdioOption : [stdioOption];\n\tconst initialStdioItems = [\n\t\t...values.map(value => initializeStdioItem(value, optionName)),\n\t\t...handleInputOptions(options, fdNumber),\n\t];\n\n\tconst stdioItems = filterDuplicates(initialStdioItems);\n\tconst isStdioArray = stdioItems.length > 1;\n\tvalidateStdioArray(stdioItems, isStdioArray, optionName);\n\tvalidateStreams(stdioItems);\n\treturn {stdioItems, isStdioArray};\n};\n\nconst initializeStdioItem = (value, optionName) => ({\n\ttype: getStdioItemType(value, optionName),\n\tvalue,\n\toptionName,\n});\n\nconst validateStdioArray = (stdioItems, isStdioArray, optionName) => {\n\tif (stdioItems.length === 0) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must not be an empty array.`);\n\t}\n\n\tif (!isStdioArray) {\n\t\treturn;\n\t}\n\n\tfor (const {value, optionName} of stdioItems) {\n\t\tif (INVALID_STDIO_ARRAY_OPTIONS.has(value)) {\n\t\t\tthrow new Error(`The \\`${optionName}\\` option must not include \\`${value}\\`.`);\n\t\t}\n\t}\n};\n\n// Using those `stdio` values together with others for the same stream does not make sense, so we make it fail.\n// However, we do allow it if the array has a single item.\nconst INVALID_STDIO_ARRAY_OPTIONS = new Set(['ignore', 'ipc']);\n\nconst validateStreams = stdioItems => {\n\tfor (const stdioItem of stdioItems) {\n\t\tvalidateFileStdio(stdioItem);\n\t}\n};\n\nconst validateFileStdio = ({type, value, optionName}) => {\n\tif (isRegularUrl(value)) {\n\t\tthrow new TypeError(`The \\`${optionName}: URL\\` option must use the \\`file:\\` scheme.\nFor example, you can use the \\`pathToFileURL()\\` method of the \\`url\\` core module.`);\n\t}\n\n\tif (isUnknownStdioString(type, value)) {\n\t\tthrow new TypeError(`The \\`${optionName}: { file: '...' }\\` option must be used instead of \\`${optionName}: '...'\\`.`);\n\t}\n};\n\nconst validateFileObjectMode = (stdioItems, objectMode) => {\n\tif (!objectMode) {\n\t\treturn;\n\t}\n\n\tconst fileStdioItem = stdioItems.find(({type}) => FILE_TYPES.has(type));\n\tif (fileStdioItem !== undefined) {\n\t\tthrow new TypeError(`The \\`${fileStdioItem.optionName}\\` option cannot use both files and transforms in objectMode.`);\n\t}\n};\n\n// Some `stdio` values require Execa to create streams.\n// For example, file paths create file read/write streams.\n// Those transformations are specified in `addProperties`, which is both direction-specific and type-specific.\nconst getFinalFileDescriptors = ({initialFileDescriptors, addProperties, options, isSync}) => {\n\tconst fileDescriptors = [];\n\n\ttry {\n\t\tfor (const fileDescriptor of initialFileDescriptors) {\n\t\t\tfileDescriptors.push(getFinalFileDescriptor({\n\t\t\t\tfileDescriptor,\n\t\t\t\tfileDescriptors,\n\t\t\t\taddProperties,\n\t\t\t\toptions,\n\t\t\t\tisSync,\n\t\t\t}));\n\t\t}\n\n\t\treturn fileDescriptors;\n\t} catch (error) {\n\t\tcleanupCustomStreams(fileDescriptors);\n\t\tthrow error;\n\t}\n};\n\nconst getFinalFileDescriptor = ({\n\tfileDescriptor: {direction, objectMode, stdioItems},\n\tfileDescriptors,\n\taddProperties,\n\toptions,\n\tisSync,\n}) => {\n\tconst finalStdioItems = stdioItems.map(stdioItem => addStreamProperties({\n\t\tstdioItem,\n\t\taddProperties,\n\t\tdirection,\n\t\toptions,\n\t\tfileDescriptors,\n\t\tisSync,\n\t}));\n\treturn {direction, objectMode, stdioItems: finalStdioItems};\n};\n\nconst addStreamProperties = ({stdioItem, addProperties, direction, options, fileDescriptors, isSync}) => {\n\tconst duplicateStream = getDuplicateStream({\n\t\tstdioItem,\n\t\tdirection,\n\t\tfileDescriptors,\n\t\tisSync,\n\t});\n\n\tif (duplicateStream !== undefined) {\n\t\treturn {...stdioItem, stream: duplicateStream};\n\t}\n\n\treturn {\n\t\t...stdioItem,\n\t\t...addProperties[direction][stdioItem.type](stdioItem, options),\n\t};\n};\n\n// The stream error handling is performed by the piping logic above, which cannot be performed before subprocess spawning.\n// If the subprocess spawning fails (e.g. due to an invalid command), the streams need to be manually destroyed.\n// We need to create those streams before subprocess spawning, in case their creation fails, e.g. when passing an invalid generator as argument.\n// Like this, an exception would be thrown, which would prevent spawning a subprocess.\nexport const cleanupCustomStreams = fileDescriptors => {\n\tfor (const {stdioItems} of fileDescriptors) {\n\t\tfor (const {stream} of stdioItems) {\n\t\t\tif (stream !== undefined && !isStandardStream(stream)) {\n\t\t\t\tstream.destroy();\n\t\t\t}\n\t\t}\n\t}\n};\n\n// When the `std*: Iterable | WebStream | URL | filePath`, `input` or `inputFile` option is used, we pipe to `subprocess.std*`.\n// When the `std*: Array` option is used, we emulate some of the native values ('inherit', Node.js stream and file descriptor integer). To do so, we also need to pipe to `subprocess.std*`.\n// Therefore the `std*` options must be either `pipe` or `overlapped`. Other values do not set `subprocess.std*`.\nconst forwardStdio = stdioItems => {\n\tif (stdioItems.length > 1) {\n\t\treturn stdioItems.some(({value}) => value === 'overlapped') ? 'overlapped' : 'pipe';\n\t}\n\n\tconst [{type, value}] = stdioItems;\n\treturn type === 'native' ? value : 'pipe';\n};\n", "import stripFinalNewlineFunction from 'strip-final-newline';\n\n// Apply `stripFinalNewline` option, which applies to `result.stdout|stderr|all|stdio[*]`.\n// If the `lines` option is used, it is applied on each line, but using a different function.\nexport const stripNewline = (value, {stripFinalNewline}, fdNumber) => getStripFinalNewline(stripFinalNewline, fdNumber) && value !== undefined && !Array.isArray(value)\n\t? stripFinalNewlineFunction(value)\n\t: value;\n\n// Retrieve `stripFinalNewline` option value, including with `subprocess.all`\nexport const getStripFinalNewline = (stripFinalNewline, fdNumber) => fdNumber === 'all'\n\t? stripFinalNewline[1] || stripFinalNewline[2]\n\t: stripFinalNewline[fdNumber];\n", "import {Transform, getDefaultHighWaterMark} from 'node:stream';\nimport {isAsyncGenerator} from '../stdio/type.js';\nimport {getSplitLinesGenerator, getAppendNewlineGenerator} from './split.js';\nimport {getValidateTransformInput, getValidateTransformReturn} from './validate.js';\nimport {getEncodingTransformGenerator} from './encoding-transform.js';\nimport {\n\tpushChunks,\n\ttransformChunk,\n\tfinalChunks,\n\tdestroyTransform,\n} from './run-async.js';\nimport {\n\tpushChunksSync,\n\ttransformChunkSync,\n\tfinalChunksSync,\n\trunTransformSync,\n} from './run-sync.js';\n\n/*\nGenerators can be used to transform/filter standard streams.\n\nGenerators have a simple syntax, yet allows all of the following:\n- Sharing `state` between chunks\n- Flushing logic, by using a `final` function\n- Asynchronous logic\n- Emitting multiple chunks from a single source chunk, even if spaced in time, by using multiple `yield`\n- Filtering, by using no `yield`\n\nTherefore, there is no need to allow Node.js or web transform streams.\n\nThe `highWaterMark` is kept as the default value, since this is what `subprocess.std*` uses.\n\nChunks are currently processed serially. We could add a `concurrency` option to parallelize in the future.\n\nTransform an array of generator functions into a `Transform` stream.\n`Duplex.from(generator)` cannot be used because it does not allow setting the `objectMode` and `highWaterMark`.\n*/\nexport const generatorToStream = ({\n\tvalue,\n\tvalue: {transform, final, writableObjectMode, readableObjectMode},\n\toptionName,\n}, {encoding}) => {\n\tconst state = {};\n\tconst generators = addInternalGenerators(value, encoding, optionName);\n\n\tconst transformAsync = isAsyncGenerator(transform);\n\tconst finalAsync = isAsyncGenerator(final);\n\tconst transformMethod = transformAsync\n\t\t? pushChunks.bind(undefined, transformChunk, state)\n\t\t: pushChunksSync.bind(undefined, transformChunkSync);\n\tconst finalMethod = transformAsync || finalAsync\n\t\t? pushChunks.bind(undefined, finalChunks, state)\n\t\t: pushChunksSync.bind(undefined, finalChunksSync);\n\tconst destroyMethod = transformAsync || finalAsync\n\t\t? destroyTransform.bind(undefined, state)\n\t\t: undefined;\n\n\tconst stream = new Transform({\n\t\twritableObjectMode,\n\t\twritableHighWaterMark: getDefaultHighWaterMark(writableObjectMode),\n\t\treadableObjectMode,\n\t\treadableHighWaterMark: getDefaultHighWaterMark(readableObjectMode),\n\t\ttransform(chunk, encoding, done) {\n\t\t\ttransformMethod([chunk, generators, 0], this, done);\n\t\t},\n\t\tflush(done) {\n\t\t\tfinalMethod([generators], this, done);\n\t\t},\n\t\tdestroy: destroyMethod,\n\t});\n\treturn {stream};\n};\n\n// Applies transform generators in sync mode\nexport const runGeneratorsSync = (chunks, stdioItems, encoding, isInput) => {\n\tconst generators = stdioItems.filter(({type}) => type === 'generator');\n\tconst reversedGenerators = isInput ? generators.reverse() : generators;\n\n\tfor (const {value, optionName} of reversedGenerators) {\n\t\tconst generators = addInternalGenerators(value, encoding, optionName);\n\t\tchunks = runTransformSync(generators, chunks);\n\t}\n\n\treturn chunks;\n};\n\n// Generators used internally to convert the chunk type, validate it, and split into lines\nconst addInternalGenerators = (\n\t{transform, final, binary, writableObjectMode, readableObjectMode, preserveNewlines},\n\tencoding,\n\toptionName,\n) => {\n\tconst state = {};\n\treturn [\n\t\t{transform: getValidateTransformInput(writableObjectMode, optionName)},\n\t\tgetEncodingTransformGenerator(binary, encoding, writableObjectMode),\n\t\tgetSplitLinesGenerator(binary, preserveNewlines, writableObjectMode, state),\n\t\t{transform, final},\n\t\t{transform: getValidateTransformReturn(readableObjectMode, optionName)},\n\t\tgetAppendNewlineGenerator({\n\t\t\tbinary,\n\t\t\tpreserveNewlines,\n\t\t\treadableObjectMode,\n\t\t\tstate,\n\t\t}),\n\t].filter(Boolean);\n};\n", "// Split chunks line-wise for generators passed to the `std*` options\nexport const getSplitLinesGenerator = (binary, preserveNewlines, skipped, state) => binary || skipped\n\t? undefined\n\t: initializeSplitLines(preserveNewlines, state);\n\n// Same but for synchronous methods\nexport const splitLinesSync = (chunk, preserveNewlines, objectMode) => objectMode\n\t? chunk.flatMap(item => splitLinesItemSync(item, preserveNewlines))\n\t: splitLinesItemSync(chunk, preserveNewlines);\n\nconst splitLinesItemSync = (chunk, preserveNewlines) => {\n\tconst {transform, final} = initializeSplitLines(preserveNewlines, {});\n\treturn [...transform(chunk), ...final()];\n};\n\nconst initializeSplitLines = (preserveNewlines, state) => {\n\tstate.previousChunks = '';\n\treturn {\n\t\ttransform: splitGenerator.bind(undefined, state, preserveNewlines),\n\t\tfinal: linesFinal.bind(undefined, state),\n\t};\n};\n\n// This imperative logic is much faster than using `String.split()` and uses very low memory.\nconst splitGenerator = function * (state, preserveNewlines, chunk) {\n\tif (typeof chunk !== 'string') {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tlet {previousChunks} = state;\n\tlet start = -1;\n\n\tfor (let end = 0; end < chunk.length; end += 1) {\n\t\tif (chunk[end] === '\\n') {\n\t\t\tconst newlineLength = getNewlineLength(chunk, end, preserveNewlines, state);\n\t\t\tlet line = chunk.slice(start + 1, end + 1 - newlineLength);\n\n\t\t\tif (previousChunks.length > 0) {\n\t\t\t\tline = concatString(previousChunks, line);\n\t\t\t\tpreviousChunks = '';\n\t\t\t}\n\n\t\t\tyield line;\n\t\t\tstart = end;\n\t\t}\n\t}\n\n\tif (start !== chunk.length - 1) {\n\t\tpreviousChunks = concatString(previousChunks, chunk.slice(start + 1));\n\t}\n\n\tstate.previousChunks = previousChunks;\n};\n\nconst getNewlineLength = (chunk, end, preserveNewlines, state) => {\n\tif (preserveNewlines) {\n\t\treturn 0;\n\t}\n\n\tstate.isWindowsNewline = end !== 0 && chunk[end - 1] === '\\r';\n\treturn state.isWindowsNewline ? 2 : 1;\n};\n\nconst linesFinal = function * ({previousChunks}) {\n\tif (previousChunks.length > 0) {\n\t\tyield previousChunks;\n\t}\n};\n\n// Unless `preserveNewlines: true` is used, we strip the newline of each line.\n// This re-adds them after the user `transform` code has run.\nexport const getAppendNewlineGenerator = ({binary, preserveNewlines, readableObjectMode, state}) => binary || preserveNewlines || readableObjectMode\n\t? undefined\n\t: {transform: appendNewlineGenerator.bind(undefined, state)};\n\nconst appendNewlineGenerator = function * ({isWindowsNewline = false}, chunk) {\n\tconst {unixNewline, windowsNewline, LF, concatBytes} = typeof chunk === 'string' ? linesStringInfo : linesUint8ArrayInfo;\n\n\tif (chunk.at(-1) === LF) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst newline = isWindowsNewline ? windowsNewline : unixNewline;\n\tyield concatBytes(chunk, newline);\n};\n\nconst concatString = (firstChunk, secondChunk) => `${firstChunk}${secondChunk}`;\n\nconst linesStringInfo = {\n\twindowsNewline: '\\r\\n',\n\tunixNewline: '\\n',\n\tLF: '\\n',\n\tconcatBytes: concatString,\n};\n\nconst concatUint8Array = (firstChunk, secondChunk) => {\n\tconst chunk = new Uint8Array(firstChunk.length + secondChunk.length);\n\tchunk.set(firstChunk, 0);\n\tchunk.set(secondChunk, firstChunk.length);\n\treturn chunk;\n};\n\nconst linesUint8ArrayInfo = {\n\twindowsNewline: new Uint8Array([0x0D, 0x0A]),\n\tunixNewline: new Uint8Array([0x0A]),\n\tLF: 0x0A,\n\tconcatBytes: concatUint8Array,\n};\n", "import {Buffer} from 'node:buffer';\nimport {isUint8Array} from '../utils/uint-array.js';\n\n// Validate the type of chunk argument passed to transform generators\nexport const getValidateTransformInput = (writableObjectMode, optionName) => writableObjectMode\n\t? undefined\n\t: validateStringTransformInput.bind(undefined, optionName);\n\nconst validateStringTransformInput = function * (optionName, chunk) {\n\tif (typeof chunk !== 'string' && !isUint8Array(chunk) && !Buffer.isBuffer(chunk)) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's transform must use \"objectMode: true\" to receive as input: ${typeof chunk}.`);\n\t}\n\n\tyield chunk;\n};\n\n// Validate the type of the value returned by transform generators\nexport const getValidateTransformReturn = (readableObjectMode, optionName) => readableObjectMode\n\t? validateObjectTransformReturn.bind(undefined, optionName)\n\t: validateStringTransformReturn.bind(undefined, optionName);\n\nconst validateObjectTransformReturn = function * (optionName, chunk) {\n\tvalidateEmptyReturn(optionName, chunk);\n\tyield chunk;\n};\n\nconst validateStringTransformReturn = function * (optionName, chunk) {\n\tvalidateEmptyReturn(optionName, chunk);\n\n\tif (typeof chunk !== 'string' && !isUint8Array(chunk)) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's function must yield a string or an Uint8Array, not ${typeof chunk}.`);\n\t}\n\n\tyield chunk;\n};\n\nconst validateEmptyReturn = (optionName, chunk) => {\n\tif (chunk === null || chunk === undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's function must not call \\`yield ${chunk}\\`.\nInstead, \\`yield\\` should either be called with a value, or not be called at all. For example:\n  if (condition) { yield value; }`);\n\t}\n};\n", "import {Buffer} from 'node:buffer';\nimport {StringDecoder} from 'node:string_decoder';\nimport {isUint8Array, bufferToUint8Array} from '../utils/uint-array.js';\n\n/*\nWhen using binary encodings, add an internal generator that converts chunks from `Buffer` to `string` or `Uint8Array`.\nChunks might be Buffer, Uint8Array or strings since:\n- `subprocess.stdout|stderr` emits Buffers\n- `subprocess.stdin.write()` accepts Buffer, Uint8Array or string\n- Previous generators might return Uint8Array or string\n\nHowever, those are converted to Buffer:\n- on writes: `Duplex.writable` `decodeStrings: true` default option\n- on reads: `Duplex.readable` `readableEncoding: null` default option\n*/\nexport const getEncodingTransformGenerator = (binary, encoding, skipped) => {\n\tif (skipped) {\n\t\treturn;\n\t}\n\n\tif (binary) {\n\t\treturn {transform: encodingUint8ArrayGenerator.bind(undefined, new TextEncoder())};\n\t}\n\n\tconst stringDecoder = new StringDecoder(encoding);\n\treturn {\n\t\ttransform: encodingStringGenerator.bind(undefined, stringDecoder),\n\t\tfinal: encodingStringFinal.bind(undefined, stringDecoder),\n\t};\n};\n\nconst encodingUint8ArrayGenerator = function * (textEncoder, chunk) {\n\tif (Buffer.isBuffer(chunk)) {\n\t\tyield bufferToUint8Array(chunk);\n\t} else if (typeof chunk === 'string') {\n\t\tyield textEncoder.encode(chunk);\n\t} else {\n\t\tyield chunk;\n\t}\n};\n\nconst encodingStringGenerator = function * (stringDecoder, chunk) {\n\tyield isUint8Array(chunk) ? stringDecoder.write(chunk) : chunk;\n};\n\nconst encodingStringFinal = function * (stringDecoder) {\n\tconst lastChunk = stringDecoder.end();\n\tif (lastChunk !== '') {\n\t\tyield lastChunk;\n\t}\n};\n", "import {callbackify} from 'node:util';\n\n// Applies a series of generator functions asynchronously\nexport const pushChunks = callbackify(async (getChunks, state, getChunksArguments, transformStream) => {\n\tstate.currentIterable = getChunks(...getChunksArguments);\n\n\ttry {\n\t\tfor await (const chunk of state.currentIterable) {\n\t\t\ttransformStream.push(chunk);\n\t\t}\n\t} finally {\n\t\tdelete state.currentIterable;\n\t}\n});\n\n// For each new chunk, apply each `transform()` method\nexport const transformChunk = async function * (chunk, generators, index) {\n\tif (index === generators.length) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst {transform = identityGenerator} = generators[index];\n\tfor await (const transformedChunk of transform(chunk)) {\n\t\tyield * transformChunk(transformedChunk, generators, index + 1);\n\t}\n};\n\n// At the end, apply each `final()` method, followed by the `transform()` method of the next transforms\nexport const finalChunks = async function * (generators) {\n\tfor (const [index, {final}] of Object.entries(generators)) {\n\t\tyield * generatorFinalChunks(final, Number(index), generators);\n\t}\n};\n\nconst generatorFinalChunks = async function * (final, index, generators) {\n\tif (final === undefined) {\n\t\treturn;\n\t}\n\n\tfor await (const finalChunk of final()) {\n\t\tyield * transformChunk(finalChunk, generators, index + 1);\n\t}\n};\n\n// Cancel any ongoing async generator when the Transform is destroyed, e.g. when the subprocess errors\nexport const destroyTransform = callbackify(async ({currentIterable}, error) => {\n\tif (currentIterable !== undefined) {\n\t\tawait (error ? currentIterable.throw(error) : currentIterable.return());\n\t\treturn;\n\t}\n\n\tif (error) {\n\t\tthrow error;\n\t}\n});\n\nconst identityGenerator = function * (chunk) {\n\tyield chunk;\n};\n", "// Duplicate the code from `run-async.js` but as synchronous functions\nexport const pushChunksSync = (getChunksSync, getChunksArguments, transformStream, done) => {\n\ttry {\n\t\tfor (const chunk of getChunksSync(...getChunksArguments)) {\n\t\t\ttransformStream.push(chunk);\n\t\t}\n\n\t\tdone();\n\t} catch (error) {\n\t\tdone(error);\n\t}\n};\n\n// Run synchronous generators with `execaSync()`\nexport const runTransformSync = (generators, chunks) => [\n\t...chunks.flatMap(chunk => [...transformChunkSync(chunk, generators, 0)]),\n\t...finalChunksSync(generators),\n];\n\nexport const transformChunkSync = function * (chunk, generators, index) {\n\tif (index === generators.length) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst {transform = identityGenerator} = generators[index];\n\tfor (const transformedChunk of transform(chunk)) {\n\t\tyield * transformChunkSync(transformedChunk, generators, index + 1);\n\t}\n};\n\nexport const finalChunksSync = function * (generators) {\n\tfor (const [index, {final}] of Object.entries(generators)) {\n\t\tyield * generatorFinalChunksSync(final, Number(index), generators);\n\t}\n};\n\nconst generatorFinalChunksSync = function * (final, index, generators) {\n\tif (final === undefined) {\n\t\treturn;\n\t}\n\n\tfor (const finalChunk of final()) {\n\t\tyield * transformChunkSync(finalChunk, generators, index + 1);\n\t}\n};\n\nconst identityGenerator = function * (chunk) {\n\tyield chunk;\n};\n", "import {runGeneratorsSync} from '../transform/generator.js';\nimport {joinToUint8Array, isUint8Array} from '../utils/uint-array.js';\nimport {TYPE_TO_MESSAGE} from '../stdio/type.js';\n\n// Apply `stdin`/`input`/`inputFile` options, before spawning, in sync mode, by converting it to the `input` option\nexport const addInputOptionsSync = (fileDescriptors, options) => {\n\tfor (const fdNumber of getInputFdNumbers(fileDescriptors)) {\n\t\taddInputOptionSync(fileDescriptors, fdNumber, options);\n\t}\n};\n\nconst getInputFdNumbers = fileDescriptors => new Set(Object.entries(fileDescriptors)\n\t.filter(([, {direction}]) => direction === 'input')\n\t.map(([fdNumber]) => Number(fdNumber)));\n\nconst addInputOptionSync = (fileDescriptors, fdNumber, options) => {\n\tconst {stdioItems} = fileDescriptors[fdNumber];\n\tconst allStdioItems = stdioItems.filter(({contents}) => contents !== undefined);\n\tif (allStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tif (fdNumber !== 0) {\n\t\tconst [{type, optionName}] = allStdioItems;\n\t\tthrow new TypeError(`Only the \\`stdin\\` option, not \\`${optionName}\\`, can be ${TYPE_TO_MESSAGE[type]} with synchronous methods.`);\n\t}\n\n\tconst allContents = allStdioItems.map(({contents}) => contents);\n\tconst transformedContents = allContents.map(contents => applySingleInputGeneratorsSync(contents, stdioItems));\n\toptions.input = joinToUint8Array(transformedContents);\n};\n\nconst applySingleInputGeneratorsSync = (contents, stdioItems) => {\n\tconst newContents = runGeneratorsSync(contents, stdioItems, 'utf8', true);\n\tvalidateSerializable(newContents);\n\treturn joinToUint8Array(newContents);\n};\n\nconst validateSerializable = newContents => {\n\tconst invalidItem = newContents.find(item => typeof item !== 'string' && !isUint8Array(item));\n\tif (invalidItem !== undefined) {\n\t\tthrow new TypeError(`The \\`stdin\\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${invalidItem}.`);\n\t}\n};\n", "import {writeFileSync, appendFileSync} from 'node:fs';\nimport {shouldLogOutput, logLinesSync} from '../verbose/output.js';\nimport {runGeneratorsSync} from '../transform/generator.js';\nimport {splitLinesSync} from '../transform/split.js';\nimport {joinToString, joinToUint8Array, bufferToUint8Array} from '../utils/uint-array.js';\nimport {FILE_TYPES} from '../stdio/type.js';\nimport {truncateMaxBufferSync} from './max-buffer.js';\n\n// Apply `stdout`/`stderr` options, after spawning, in sync mode\nexport const transformOutputSync = ({fileDescriptors, syncResult: {output}, options, isMaxBuffer, verboseInfo}) => {\n\tif (output === null) {\n\t\treturn {output: Array.from({length: 3})};\n\t}\n\n\tconst state = {};\n\tconst outputFiles = new Set([]);\n\tconst transformedOutput = output.map((result, fdNumber) =>\n\t\ttransformOutputResultSync({\n\t\t\tresult,\n\t\t\tfileDescriptors,\n\t\t\tfdNumber,\n\t\t\tstate,\n\t\t\toutputFiles,\n\t\t\tisMaxBuffer,\n\t\t\tverboseInfo,\n\t\t}, options));\n\treturn {output: transformedOutput, ...state};\n};\n\nconst transformOutputResultSync = (\n\t{result, fileDescriptors, fdNumber, state, outputFiles, isMaxBuffer, verboseInfo},\n\t{buffer, encoding, lines, stripFinalNewline, maxBuffer},\n) => {\n\tif (result === null) {\n\t\treturn;\n\t}\n\n\tconst truncatedResult = truncateMaxBufferSync(result, isMaxBuffer, maxBuffer);\n\tconst uint8ArrayResult = bufferToUint8Array(truncatedResult);\n\tconst {stdioItems, objectMode} = fileDescriptors[fdNumber];\n\tconst chunks = runOutputGeneratorsSync([uint8ArrayResult], stdioItems, encoding, state);\n\tconst {serializedResult, finalResult = serializedResult} = serializeChunks({\n\t\tchunks,\n\t\tobjectMode,\n\t\tencoding,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tfdNumber,\n\t});\n\n\tlogOutputSync({\n\t\tserializedResult,\n\t\tfdNumber,\n\t\tstate,\n\t\tverboseInfo,\n\t\tencoding,\n\t\tstdioItems,\n\t\tobjectMode,\n\t});\n\n\tconst returnedResult = buffer[fdNumber] ? finalResult : undefined;\n\n\ttry {\n\t\tif (state.error === undefined) {\n\t\t\twriteToFiles(serializedResult, stdioItems, outputFiles);\n\t\t}\n\n\t\treturn returnedResult;\n\t} catch (error) {\n\t\tstate.error = error;\n\t\treturn returnedResult;\n\t}\n};\n\n// Applies transform generators to `stdout`/`stderr`\nconst runOutputGeneratorsSync = (chunks, stdioItems, encoding, state) => {\n\ttry {\n\t\treturn runGeneratorsSync(chunks, stdioItems, encoding, false);\n\t} catch (error) {\n\t\tstate.error = error;\n\t\treturn chunks;\n\t}\n};\n\n// The contents is converted to three stages:\n//  - serializedResult: used when the target is a file path/URL or a file descriptor (including 'inherit')\n//  - finalResult/returnedResult: returned as `result.std*`\nconst serializeChunks = ({chunks, objectMode, encoding, lines, stripFinalNewline, fdNumber}) => {\n\tif (objectMode) {\n\t\treturn {serializedResult: chunks};\n\t}\n\n\tif (encoding === 'buffer') {\n\t\treturn {serializedResult: joinToUint8Array(chunks)};\n\t}\n\n\tconst serializedResult = joinToString(chunks, encoding);\n\tif (lines[fdNumber]) {\n\t\treturn {serializedResult, finalResult: splitLinesSync(serializedResult, !stripFinalNewline[fdNumber], objectMode)};\n\t}\n\n\treturn {serializedResult};\n};\n\nconst logOutputSync = ({serializedResult, fdNumber, state, verboseInfo, encoding, stdioItems, objectMode}) => {\n\tif (!shouldLogOutput({\n\t\tstdioItems,\n\t\tencoding,\n\t\tverboseInfo,\n\t\tfdNumber,\n\t})) {\n\t\treturn;\n\t}\n\n\tconst linesArray = splitLinesSync(serializedResult, false, objectMode);\n\n\ttry {\n\t\tlogLinesSync(linesArray, fdNumber, verboseInfo);\n\t} catch (error) {\n\t\tstate.error ??= error;\n\t}\n};\n\n// When the `std*` target is a file path/URL or a file descriptor\nconst writeToFiles = (serializedResult, stdioItems, outputFiles) => {\n\tfor (const {path} of stdioItems.filter(({type}) => FILE_TYPES.has(type))) {\n\t\tconst pathString = typeof path === 'string' ? path : path.toString();\n\t\tif (outputFiles.has(pathString)) {\n\t\t\tappendFileSync(path, serializedResult);\n\t\t} else {\n\t\t\toutputFiles.add(pathString);\n\t\t\twriteFileSync(path, serializedResult);\n\t\t}\n\t}\n};\n", "import {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {verboseLog, serializeVerboseMessage} from './log.js';\nimport {isFullVerbose} from './values.js';\n\n// `ignore` opts-out of `verbose` for a specific stream.\n// `ipc` cannot use piping.\n// `inherit` would result in double printing.\n// They can also lead to double printing when passing file descriptor integers or `process.std*`.\n// This only leaves with `pipe` and `overlapped`.\nexport const shouldLogOutput = ({stdioItems, encoding, verboseInfo, fdNumber}) => fdNumber !== 'all'\n\t&& isFullVerbose(verboseInfo, fdNumber)\n\t&& !BINARY_ENCODINGS.has(encoding)\n\t&& fdUsesVerbose(fdNumber)\n\t&& (stdioItems.some(({type, value}) => type === 'native' && PIPED_STDIO_VALUES.has(value))\n\t|| stdioItems.every(({type}) => TRANSFORM_TYPES.has(type)));\n\n// Printing input streams would be confusing.\n// Files and streams can produce big outputs, which we don't want to print.\n// We could print `stdio[3+]` but it often is redirected to files and streams, with the same issue.\n// So we only print stdout and stderr.\nconst fdUsesVerbose = fdNumber => fdNumber === 1 || fdNumber === 2;\n\nconst PIPED_STDIO_VALUES = new Set(['pipe', 'overlapped']);\n\n// `verbose: 'full'` printing logic with async methods\nexport const logLines = async (linesIterable, stream, fdNumber, verboseInfo) => {\n\tfor await (const line of linesIterable) {\n\t\tif (!isPipingStream(stream)) {\n\t\t\tlogLine(line, fdNumber, verboseInfo);\n\t\t}\n\t}\n};\n\n// `verbose: 'full'` printing logic with sync methods\nexport const logLinesSync = (linesArray, fdNumber, verboseInfo) => {\n\tfor (const line of linesArray) {\n\t\tlogLine(line, fdNumber, verboseInfo);\n\t}\n};\n\n// When `subprocess.stdout|stderr.pipe()` is called, `verbose` becomes a noop.\n// This prevents the following problems:\n//  - `.pipe()` achieves the same result as using `stdout: 'inherit'`, `stdout: stream`, etc. which also make `verbose` a noop.\n//    For example, `subprocess.stdout.pipe(process.stdin)` would print each line twice.\n//  - When chaining subprocesses with `subprocess.pipe(otherSubprocess)`, only the last one should print its output.\n// Detecting whether `.pipe()` is impossible without monkey-patching it, so we use the following undocumented property.\n// This is not a critical behavior since changes of the following property would only make `verbose` more verbose.\nconst isPipingStream = stream => stream._readableState.pipes.length > 0;\n\n// When `verbose` is `full`, print stdout|stderr\nconst logLine = (line, fdNumber, verboseInfo) => {\n\tconst verboseMessage = serializeVerboseMessage(line);\n\tverboseLog({\n\t\ttype: 'output',\n\t\tverboseMessage,\n\t\tfdNumber,\n\t\tverboseInfo,\n\t});\n};\n", "import {isUint8Array, concatUint8Arrays} from '../utils/uint-array.js';\nimport {stripNewline} from '../io/strip-newline.js';\n\n// Retrieve `result.all` with synchronous methods\nexport const getAllSync = ([, stdout, stderr], options) => {\n\tif (!options.all) {\n\t\treturn;\n\t}\n\n\tif (stdout === undefined) {\n\t\treturn stderr;\n\t}\n\n\tif (stderr === undefined) {\n\t\treturn stdout;\n\t}\n\n\tif (Array.isArray(stdout)) {\n\t\treturn Array.isArray(stderr)\n\t\t\t? [...stdout, ...stderr]\n\t\t\t: [...stdout, stripNewline(stderr, options, 'all')];\n\t}\n\n\tif (Array.isArray(stderr)) {\n\t\treturn [stripNewline(stdout, options, 'all'), ...stderr];\n\t}\n\n\tif (isUint8Array(stdout) && isUint8Array(stderr)) {\n\t\treturn concatUint8Arrays([stdout, stderr]);\n\t}\n\n\treturn `${stdout}${stderr}`;\n};\n", "import {once} from 'node:events';\nimport {DiscardedError} from '../return/final-error.js';\n\n// If `error` is emitted before `spawn`, `exit` will never be emitted.\n// However, `error` might be emitted after `spawn`.\n// In that case, `exit` will still be emitted.\n// Since the `exit` event contains the signal name, we want to make sure we are listening for it.\n// This function also takes into account the following unlikely cases:\n//  - `exit` being emitted in the same microtask as `spawn`\n//  - `error` being emitted multiple times\nexport const waitForExit = async (subprocess, context) => {\n\tconst [exitCode, signal] = await waitForExitOrError(subprocess);\n\tcontext.isForcefullyTerminated ??= false;\n\treturn [exitCode, signal];\n};\n\nconst waitForExitOrError = async subprocess => {\n\tconst [spawnPayload, exitPayload] = await Promise.allSettled([\n\t\tonce(subprocess, 'spawn'),\n\t\tonce(subprocess, 'exit'),\n\t]);\n\n\tif (spawnPayload.status === 'rejected') {\n\t\treturn [];\n\t}\n\n\treturn exitPayload.status === 'rejected'\n\t\t? waitForSubprocessExit(subprocess)\n\t\t: exitPayload.value;\n};\n\nconst waitForSubprocessExit = async subprocess => {\n\ttry {\n\t\treturn await once(subprocess, 'exit');\n\t} catch {\n\t\treturn waitForSubprocessExit(subprocess);\n\t}\n};\n\n// Retrieve the final exit code and|or signal name\nexport const waitForSuccessfulExit = async exitPromise => {\n\tconst [exitCode, signal] = await exitPromise;\n\n\tif (!isSubprocessErrorExit(exitCode, signal) && isFailedExit(exitCode, signal)) {\n\t\tthrow new DiscardedError();\n\t}\n\n\treturn [exitCode, signal];\n};\n\n// When the subprocess fails due to an `error` event\nconst isSubprocessErrorExit = (exitCode, signal) => exitCode === undefined && signal === undefined;\n// When the subprocess fails due to a non-0 exit code or to a signal termination\nexport const isFailedExit = (exitCode, signal) => exitCode !== 0 || signal !== null;\n", "import {DiscardedError} from '../return/final-error.js';\nimport {isMaxBufferSync} from '../io/max-buffer.js';\nimport {isFailedExit} from './exit-async.js';\n\n// Retrieve exit code, signal name and error information, with synchronous methods\nexport const getExitResultSync = ({error, status: exitCode, signal, output}, {maxBuffer}) => {\n\tconst resultError = getResultError(error, exitCode, signal);\n\tconst timedOut = resultError?.code === 'ETIMEDOUT';\n\tconst isMaxBuffer = isMaxBufferSync(resultError, output, maxBuffer);\n\treturn {\n\t\tresultError,\n\t\texitCode,\n\t\tsignal,\n\t\ttimedOut,\n\t\tisMaxBuffer,\n\t};\n};\n\nconst getResultError = (error, exitCode, signal) => {\n\tif (error !== undefined) {\n\t\treturn error;\n\t}\n\n\treturn isFailedExit(exitCode, signal) ? new DiscardedError() : undefined;\n};\n", "import {setMaxListeners} from 'node:events';\nimport {spawn} from 'node:child_process';\nimport {MaxBufferError} from 'get-stream';\nimport {handleCommand} from '../arguments/command.js';\nimport {normalizeOptions} from '../arguments/options.js';\nimport {SUBPROCESS_OPTIONS} from '../arguments/fd-options.js';\nimport {addIpcMethods} from '../ipc/methods.js';\nimport {makeError, makeSuccessResult} from '../return/result.js';\nimport {handleResult} from '../return/reject.js';\nimport {handleEarlyError} from '../return/early-error.js';\nimport {handleStdioAsync} from '../stdio/handle-async.js';\nimport {stripNewline} from '../io/strip-newline.js';\nimport {pipeOutputAsync} from '../io/output-async.js';\nimport {subprocessKill} from '../terminate/kill.js';\nimport {cleanupOnExit} from '../terminate/cleanup.js';\nimport {pipeToSubprocess} from '../pipe/setup.js';\nimport {makeAllStream} from '../resolve/all-async.js';\nimport {waitForSubprocessResult} from '../resolve/wait-subprocess.js';\nimport {addConvertedStreams} from '../convert/add.js';\nimport {createDeferred} from '../utils/deferred.js';\nimport {mergePromise} from './promise.js';\n\n// Main shared logic for all async methods: `execa()`, `$`, `execaNode()`\nexport const execaCoreAsync = (rawFile, rawArguments, rawOptions, createNested) => {\n\tconst {file, commandArguments, command, escapedCommand, startTime, verboseInfo, options, fileDescriptors} = handleAsyncArguments(rawFile, rawArguments, rawOptions);\n\tconst {subprocess, promise} = spawnSubprocessAsync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t});\n\tsubprocess.pipe = pipeToSubprocess.bind(undefined, {\n\t\tsource: subprocess,\n\t\tsourcePromise: promise,\n\t\tboundOptions: {},\n\t\tcreateNested,\n\t});\n\tmergePromise(subprocess, promise);\n\tSUBPROCESS_OPTIONS.set(subprocess, {options, fileDescriptors});\n\treturn subprocess;\n};\n\n// Compute arguments to pass to `child_process.spawn()`\nconst handleAsyncArguments = (rawFile, rawArguments, rawOptions) => {\n\tconst {command, escapedCommand, startTime, verboseInfo} = handleCommand(rawFile, rawArguments, rawOptions);\n\tconst {file, commandArguments, options: normalizedOptions} = normalizeOptions(rawFile, rawArguments, rawOptions);\n\tconst options = handleAsyncOptions(normalizedOptions);\n\tconst fileDescriptors = handleStdioAsync(options, verboseInfo);\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\toptions,\n\t\tfileDescriptors,\n\t};\n};\n\n// Options normalization logic specific to async methods.\n// Prevent passing the `timeout` option directly to `child_process.spawn()`.\nconst handleAsyncOptions = ({timeout, signal, ...options}) => {\n\tif (signal !== undefined) {\n\t\tthrow new TypeError('The \"signal\" option has been renamed to \"cancelSignal\" instead.');\n\t}\n\n\treturn {...options, timeoutDuration: timeout};\n};\n\nconst spawnSubprocessAsync = ({file, commandArguments, options, startTime, verboseInfo, command, escapedCommand, fileDescriptors}) => {\n\tlet subprocess;\n\ttry {\n\t\tsubprocess = spawn(file, commandArguments, options);\n\t} catch (error) {\n\t\treturn handleEarlyError({\n\t\t\terror,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tfileDescriptors,\n\t\t\toptions,\n\t\t\tstartTime,\n\t\t\tverboseInfo,\n\t\t});\n\t}\n\n\tconst controller = new AbortController();\n\tsetMaxListeners(Number.POSITIVE_INFINITY, controller.signal);\n\n\tconst originalStreams = [...subprocess.stdio];\n\tpipeOutputAsync(subprocess, fileDescriptors, controller);\n\tcleanupOnExit(subprocess, options, controller);\n\n\tconst context = {};\n\tconst onInternalError = createDeferred();\n\tsubprocess.kill = subprocessKill.bind(undefined, {\n\t\tkill: subprocess.kill.bind(subprocess),\n\t\toptions,\n\t\tonInternalError,\n\t\tcontext,\n\t\tcontroller,\n\t});\n\tsubprocess.all = makeAllStream(subprocess, options);\n\taddConvertedStreams(subprocess, options);\n\taddIpcMethods(subprocess, options);\n\n\tconst promise = handlePromise({\n\t\tsubprocess,\n\t\toptions,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\toriginalStreams,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tcontext,\n\t\tonInternalError,\n\t\tcontroller,\n\t});\n\treturn {subprocess, promise};\n};\n\n// Asynchronous logic, as opposed to the previous logic which can be run synchronously, i.e. can be returned to user right away\nconst handlePromise = async ({subprocess, options, startTime, verboseInfo, fileDescriptors, originalStreams, command, escapedCommand, context, onInternalError, controller}) => {\n\tconst [\n\t\terrorInfo,\n\t\t[exitCode, signal],\n\t\tstdioResults,\n\t\tallResult,\n\t\tipcOutput,\n\t] = await waitForSubprocessResult({\n\t\tsubprocess,\n\t\toptions,\n\t\tcontext,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\toriginalStreams,\n\t\tonInternalError,\n\t\tcontroller,\n\t});\n\tcontroller.abort();\n\tonInternalError.resolve();\n\n\tconst stdio = stdioResults.map((stdioResult, fdNumber) => stripNewline(stdioResult, options, fdNumber));\n\tconst all = stripNewline(allResult, options, 'all');\n\tconst result = getAsyncResult({\n\t\terrorInfo,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\tcontext,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t});\n\treturn handleResult(result, verboseInfo, options);\n};\n\nconst getAsyncResult = ({errorInfo, exitCode, signal, stdio, all, ipcOutput, context, options, command, escapedCommand, startTime}) => 'error' in errorInfo\n\t? makeError({\n\t\terror: errorInfo.error,\n\t\tcommand,\n\t\tescapedCommand,\n\t\ttimedOut: context.terminationReason === 'timeout',\n\t\tisCanceled: context.terminationReason === 'cancel' || context.terminationReason === 'gracefulCancel',\n\t\tisGracefullyCanceled: context.terminationReason === 'gracefulCancel',\n\t\tisMaxBuffer: errorInfo.error instanceof MaxBufferError,\n\t\tisForcefullyTerminated: context.isForcefullyTerminated,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: false,\n\t})\n\t: makeSuccessResult({\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toptions,\n\t\tstartTime,\n\t});\n", "import process from 'node:process';\nimport {sendMessage} from './send.js';\nimport {getOneMessage} from './get-one.js';\nimport {getEachMessage} from './get-each.js';\nimport {getCancelSignal} from './graceful.js';\n\n// Add promise-based IPC methods in current process\nexport const addIpcMethods = (subprocess, {ipc}) => {\n\tObject.assign(subprocess, getIpcMethods(subprocess, false, ipc));\n};\n\n// Get promise-based IPC in the subprocess\nexport const getIpcExport = () => {\n\tconst anyProcess = process;\n\tconst isSubprocess = true;\n\tconst ipc = process.channel !== undefined;\n\n\treturn {\n\t\t...getIpcMethods(anyProcess, isSubprocess, ipc),\n\t\tgetCancelSignal: getCancelSignal.bind(undefined, {\n\t\t\tanyProcess,\n\t\t\tchannel: anyProcess.channel,\n\t\t\tisSubprocess,\n\t\t\tipc,\n\t\t}),\n\t};\n};\n\n// Retrieve the `ipc` shared by both the current process and the subprocess\nconst getIpcMethods = (anyProcess, isSubprocess, ipc) => ({\n\tsendMessage: sendMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n\tgetOneMessage: getOneMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n\tgetEachMessage: getEachMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n});\n", "import {once, on} from 'node:events';\nimport {\n\tvalidateIpcMethod,\n\tthrowOnEarlyDisconnect,\n\tdisconnect,\n\tgetStrictResponseError,\n} from './validation.js';\nimport {getIpcEmitter, isConnected} from './forward.js';\nimport {addReference, removeReference} from './reference.js';\n\n// Like `[sub]process.once('message')` but promise-based\nexport const getOneMessage = ({anyProcess, channel, isSubprocess, ipc}, {reference = true, filter} = {}) => {\n\tvalidateIpcMethod({\n\t\tmethodName: 'getOneMessage',\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: isConnected(anyProcess),\n\t});\n\n\treturn getOneMessageAsync({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tfilter,\n\t\treference,\n\t});\n};\n\nconst getOneMessageAsync = async ({anyProcess, channel, isSubprocess, filter, reference}) => {\n\taddReference(channel, reference);\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst controller = new AbortController();\n\ttry {\n\t\treturn await Promise.race([\n\t\t\tgetMessage(ipcEmitter, filter, controller),\n\t\t\tthrowOnDisconnect(ipcEmitter, isSubprocess, controller),\n\t\t\tthrowOnStrictError(ipcEmitter, isSubprocess, controller),\n\t\t]);\n\t} catch (error) {\n\t\tdisconnect(anyProcess);\n\t\tthrow error;\n\t} finally {\n\t\tcontroller.abort();\n\t\tremoveReference(channel, reference);\n\t}\n};\n\nconst getMessage = async (ipcEmitter, filter, {signal}) => {\n\tif (filter === undefined) {\n\t\tconst [message] = await once(ipcEmitter, 'message', {signal});\n\t\treturn message;\n\t}\n\n\tfor await (const [message] of on(ipcEmitter, 'message', {signal})) {\n\t\tif (filter(message)) {\n\t\t\treturn message;\n\t\t}\n\t}\n};\n\nconst throwOnDisconnect = async (ipcEmitter, isSubprocess, {signal}) => {\n\tawait once(ipcEmitter, 'disconnect', {signal});\n\tthrowOnEarlyDisconnect(isSubprocess);\n};\n\nconst throwOnStrictError = async (ipcEmitter, isSubprocess, {signal}) => {\n\tconst [error] = await once(ipcEmitter, 'strict:error', {signal});\n\tthrow getStrictResponseError(error, isSubprocess);\n};\n", "import {once, on} from 'node:events';\nimport {validateIpcMethod, disconnect, getStrictResponseError} from './validation.js';\nimport {getIpcEmitter, isConnected} from './forward.js';\nimport {addReference, removeReference} from './reference.js';\n\n// Like `[sub]process.on('message')` but promise-based\nexport const getEachMessage = ({anyProcess, channel, isSubprocess, ipc}, {reference = true} = {}) => loopOnMessages({\n\tanyProcess,\n\tchannel,\n\tisSubprocess,\n\tipc,\n\tshouldAwait: !isSubprocess,\n\treference,\n});\n\n// Same but used internally\nexport const loopOnMessages = ({anyProcess, channel, isSubprocess, ipc, shouldAwait, reference}) => {\n\tvalidateIpcMethod({\n\t\tmethodName: 'getEachMessage',\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: isConnected(anyProcess),\n\t});\n\n\taddReference(channel, reference);\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst controller = new AbortController();\n\tconst state = {};\n\tstopOnDisconnect(anyProcess, ipcEmitter, controller);\n\tabortOnStrictError({\n\t\tipcEmitter,\n\t\tisSubprocess,\n\t\tcontroller,\n\t\tstate,\n\t});\n\treturn iterateOnMessages({\n\t\tanyProcess,\n\t\tchannel,\n\t\tipcEmitter,\n\t\tisSubprocess,\n\t\tshouldAwait,\n\t\tcontroller,\n\t\tstate,\n\t\treference,\n\t});\n};\n\nconst stopOnDisconnect = async (anyProcess, ipcEmitter, controller) => {\n\ttry {\n\t\tawait once(ipcEmitter, 'disconnect', {signal: controller.signal});\n\t\tcontroller.abort();\n\t} catch {}\n};\n\nconst abortOnStrictError = async ({ipcEmitter, isSubprocess, controller, state}) => {\n\ttry {\n\t\tconst [error] = await once(ipcEmitter, 'strict:error', {signal: controller.signal});\n\t\tstate.error = getStrictResponseError(error, isSubprocess);\n\t\tcontroller.abort();\n\t} catch {}\n};\n\nconst iterateOnMessages = async function * ({anyProcess, channel, ipcEmitter, isSubprocess, shouldAwait, controller, state, reference}) {\n\ttry {\n\t\tfor await (const [message] of on(ipcEmitter, 'message', {signal: controller.signal})) {\n\t\t\tthrowIfStrictError(state);\n\t\t\tyield message;\n\t\t}\n\t} catch {\n\t\tthrowIfStrictError(state);\n\t} finally {\n\t\tcontroller.abort();\n\t\tremoveReference(channel, reference);\n\n\t\tif (!isSubprocess) {\n\t\t\tdisconnect(anyProcess);\n\t\t}\n\n\t\tif (shouldAwait) {\n\t\t\tawait anyProcess;\n\t\t}\n\t}\n};\n\nconst throwIfStrictError = ({error}) => {\n\tif (error) {\n\t\tthrow error;\n\t}\n};\n", "import {ChildProcess} from 'node:child_process';\nimport {\n\tPassThrough,\n\tReadable,\n\tWritable,\n\tDuplex,\n} from 'node:stream';\nimport {cleanupCustomStreams} from '../stdio/handle.js';\nimport {makeEarlyError} from './result.js';\nimport {handleResult} from './reject.js';\n\n// When the subprocess fails to spawn.\n// We ensure the returned error is always both a promise and a subprocess.\nexport const handleEarlyError = ({error, command, escapedCommand, fileDescriptors, options, startTime, verboseInfo}) => {\n\tcleanupCustomStreams(fileDescriptors);\n\n\tconst subprocess = new ChildProcess();\n\tcreateDummyStreams(subprocess, fileDescriptors);\n\tObject.assign(subprocess, {readable, writable, duplex});\n\n\tconst earlyError = makeEarlyError({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: false,\n\t});\n\tconst promise = handleDummyPromise(earlyError, verboseInfo, options);\n\treturn {subprocess, promise};\n};\n\nconst createDummyStreams = (subprocess, fileDescriptors) => {\n\tconst stdin = createDummyStream();\n\tconst stdout = createDummyStream();\n\tconst stderr = createDummyStream();\n\tconst extraStdio = Array.from({length: fileDescriptors.length - 3}, createDummyStream);\n\tconst all = createDummyStream();\n\tconst stdio = [stdin, stdout, stderr, ...extraStdio];\n\tObject.assign(subprocess, {\n\t\tstdin,\n\t\tstdout,\n\t\tstderr,\n\t\tall,\n\t\tstdio,\n\t});\n};\n\nconst createDummyStream = () => {\n\tconst stream = new PassThrough();\n\tstream.end();\n\treturn stream;\n};\n\nconst readable = () => new Readable({read() {}});\nconst writable = () => new Writable({write() {}});\nconst duplex = () => new Duplex({read() {}, write() {}});\n\nconst handleDummyPromise = async (error, verboseInfo, options) => handleResult(error, verboseInfo, options);\n", "import {createReadStream, createWriteStream} from 'node:fs';\nimport {Buffer} from 'node:buffer';\nimport {Readable, Writable, Duplex} from 'node:stream';\nimport {generatorToStream} from '../transform/generator.js';\nimport {handleStdio} from './handle.js';\nimport {TYPE_TO_MESSAGE} from './type.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in async mode\nexport const handleStdioAsync = (options, verboseInfo) => handleStdio(addPropertiesAsync, options, verboseInfo, false);\n\nconst forbiddenIfAsync = ({type, optionName}) => {\n\tthrow new TypeError(`The \\`${optionName}\\` option cannot be ${TYPE_TO_MESSAGE[type]}.`);\n};\n\n// Create streams used internally for piping when using specific values for the `std*` options, in async mode.\n// For example, `stdout: {file}` creates a file stream, which is piped from/to.\nconst addProperties = {\n\tfileNumber: forbiddenIfAsync,\n\tgenerator: generatorToStream,\n\tasyncGenerator: generatorToStream,\n\tnodeStream: ({value}) => ({stream: value}),\n\twebTransform({value: {transform, writableObjectMode, readableObjectMode}}) {\n\t\tconst objectMode = writableObjectMode || readableObjectMode;\n\t\tconst stream = Duplex.fromWeb(transform, {objectMode});\n\t\treturn {stream};\n\t},\n\tduplex: ({value: {transform}}) => ({stream: transform}),\n\tnative() {},\n};\n\nconst addPropertiesAsync = {\n\tinput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({stream: createReadStream(value)}),\n\t\tfilePath: ({value: {file}}) => ({stream: createReadStream(file)}),\n\t\twebStream: ({value}) => ({stream: Readable.fromWeb(value)}),\n\t\titerable: ({value}) => ({stream: Readable.from(value)}),\n\t\tasyncIterable: ({value}) => ({stream: Readable.from(value)}),\n\t\tstring: ({value}) => ({stream: Readable.from(value)}),\n\t\tuint8Array: ({value}) => ({stream: Readable.from(Buffer.from(value))}),\n\t},\n\toutput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({stream: createWriteStream(value)}),\n\t\tfilePath: ({value: {file}}) => ({stream: createWriteStream(file)}),\n\t\twebStream: ({value}) => ({stream: Writable.fromWeb(value)}),\n\t\titerable: forbiddenIfAsync,\n\t\tasyncIterable: forbiddenIfAsync,\n\t\tstring: forbiddenIfAsync,\n\t\tuint8Array: forbiddenIfAsync,\n\t},\n};\n", "import {on, once} from 'node:events';\nimport {PassThrough as PassThroughStream, getDefaultHighWaterMark} from 'node:stream';\nimport {finished} from 'node:stream/promises';\n\nexport default function mergeStreams(streams) {\n\tif (!Array.isArray(streams)) {\n\t\tthrow new TypeError(`Expected an array, got \\`${typeof streams}\\`.`);\n\t}\n\n\tfor (const stream of streams) {\n\t\tvalidateStream(stream);\n\t}\n\n\tconst objectMode = streams.some(({readableObjectMode}) => readableObjectMode);\n\tconst highWaterMark = getHighWaterMark(streams, objectMode);\n\tconst passThroughStream = new MergedStream({\n\t\tobjectMode,\n\t\twritableHighWaterMark: highWaterMark,\n\t\treadableHighWaterMark: highWaterMark,\n\t});\n\n\tfor (const stream of streams) {\n\t\tpassThroughStream.add(stream);\n\t}\n\n\treturn passThroughStream;\n}\n\nconst getHighWaterMark = (streams, objectMode) => {\n\tif (streams.length === 0) {\n\t\treturn getDefaultHighWaterMark(objectMode);\n\t}\n\n\tconst highWaterMarks = streams\n\t\t.filter(({readableObjectMode}) => readableObjectMode === objectMode)\n\t\t.map(({readableHighWaterMark}) => readableHighWaterMark);\n\treturn Math.max(...highWaterMarks);\n};\n\nclass MergedStream extends PassThroughStream {\n\t#streams = new Set([]);\n\t#ended = new Set([]);\n\t#aborted = new Set([]);\n\t#onFinished;\n\t#unpipeEvent = Symbol('unpipe');\n\t#streamPromises = new WeakMap();\n\n\tadd(stream) {\n\t\tvalidateStream(stream);\n\n\t\tif (this.#streams.has(stream)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#streams.add(stream);\n\n\t\tthis.#onFinished ??= onMergedStreamFinished(this, this.#streams, this.#unpipeEvent);\n\t\tconst streamPromise = endWhenStreamsDone({\n\t\t\tpassThroughStream: this,\n\t\t\tstream,\n\t\t\tstreams: this.#streams,\n\t\t\tended: this.#ended,\n\t\t\taborted: this.#aborted,\n\t\t\tonFinished: this.#onFinished,\n\t\t\tunpipeEvent: this.#unpipeEvent,\n\t\t});\n\t\tthis.#streamPromises.set(stream, streamPromise);\n\n\t\tstream.pipe(this, {end: false});\n\t}\n\n\tasync remove(stream) {\n\t\tvalidateStream(stream);\n\n\t\tif (!this.#streams.has(stream)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst streamPromise = this.#streamPromises.get(stream);\n\t\tif (streamPromise === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.#streamPromises.delete(stream);\n\n\t\tstream.unpipe(this);\n\t\tawait streamPromise;\n\t\treturn true;\n\t}\n}\n\nconst onMergedStreamFinished = async (passThroughStream, streams, unpipeEvent) => {\n\tupdateMaxListeners(passThroughStream, PASSTHROUGH_LISTENERS_COUNT);\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tawait Promise.race([\n\t\t\tonMergedStreamEnd(passThroughStream, controller),\n\t\t\tonInputStreamsUnpipe(passThroughStream, streams, unpipeEvent, controller),\n\t\t]);\n\t} finally {\n\t\tcontroller.abort();\n\t\tupdateMaxListeners(passThroughStream, -PASSTHROUGH_LISTENERS_COUNT);\n\t}\n};\n\nconst onMergedStreamEnd = async (passThroughStream, {signal}) => {\n\ttry {\n\t\tawait finished(passThroughStream, {signal, cleanup: true});\n\t} catch (error) {\n\t\terrorOrAbortStream(passThroughStream, error);\n\t\tthrow error;\n\t}\n};\n\nconst onInputStreamsUnpipe = async (passThroughStream, streams, unpipeEvent, {signal}) => {\n\tfor await (const [unpipedStream] of on(passThroughStream, 'unpipe', {signal})) {\n\t\tif (streams.has(unpipedStream)) {\n\t\t\tunpipedStream.emit(unpipeEvent);\n\t\t}\n\t}\n};\n\nconst validateStream = stream => {\n\tif (typeof stream?.pipe !== 'function') {\n\t\tthrow new TypeError(`Expected a readable stream, got: \\`${typeof stream}\\`.`);\n\t}\n};\n\nconst endWhenStreamsDone = async ({passThroughStream, stream, streams, ended, aborted, onFinished, unpipeEvent}) => {\n\tupdateMaxListeners(passThroughStream, PASSTHROUGH_LISTENERS_PER_STREAM);\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tawait Promise.race([\n\t\t\tafterMergedStreamFinished(onFinished, stream, controller),\n\t\t\tonInputStreamEnd({\n\t\t\t\tpassThroughStream,\n\t\t\t\tstream,\n\t\t\t\tstreams,\n\t\t\t\tended,\n\t\t\t\taborted,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t\tonInputStreamUnpipe({\n\t\t\t\tstream,\n\t\t\t\tstreams,\n\t\t\t\tended,\n\t\t\t\taborted,\n\t\t\t\tunpipeEvent,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t]);\n\t} finally {\n\t\tcontroller.abort();\n\t\tupdateMaxListeners(passThroughStream, -PASSTHROUGH_LISTENERS_PER_STREAM);\n\t}\n\n\tif (streams.size > 0 && streams.size === ended.size + aborted.size) {\n\t\tif (ended.size === 0 && aborted.size > 0) {\n\t\t\tabortStream(passThroughStream);\n\t\t} else {\n\t\t\tendStream(passThroughStream);\n\t\t}\n\t}\n};\n\nconst afterMergedStreamFinished = async (onFinished, stream, {signal}) => {\n\ttry {\n\t\tawait onFinished;\n\t\tif (!signal.aborted) {\n\t\t\tabortStream(stream);\n\t\t}\n\t} catch (error) {\n\t\tif (!signal.aborted) {\n\t\t\terrorOrAbortStream(stream, error);\n\t\t}\n\t}\n};\n\nconst onInputStreamEnd = async ({passThroughStream, stream, streams, ended, aborted, controller: {signal}}) => {\n\ttry {\n\t\tawait finished(stream, {\n\t\t\tsignal,\n\t\t\tcleanup: true,\n\t\t\treadable: true,\n\t\t\twritable: false,\n\t\t});\n\t\tif (streams.has(stream)) {\n\t\t\tended.add(stream);\n\t\t}\n\t} catch (error) {\n\t\tif (signal.aborted || !streams.has(stream)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isAbortError(error)) {\n\t\t\taborted.add(stream);\n\t\t} else {\n\t\t\terrorStream(passThroughStream, error);\n\t\t}\n\t}\n};\n\nconst onInputStreamUnpipe = async ({stream, streams, ended, aborted, unpipeEvent, controller: {signal}}) => {\n\tawait once(stream, unpipeEvent, {signal});\n\n\tif (!stream.readable) {\n\t\treturn once(signal, 'abort', {signal});\n\t}\n\n\tstreams.delete(stream);\n\tended.delete(stream);\n\taborted.delete(stream);\n};\n\nconst endStream = stream => {\n\tif (stream.writable) {\n\t\tstream.end();\n\t}\n};\n\nconst errorOrAbortStream = (stream, error) => {\n\tif (isAbortError(error)) {\n\t\tabortStream(stream);\n\t} else {\n\t\terrorStream(stream, error);\n\t}\n};\n\n// This is the error thrown by `finished()` on `stream.destroy()`\nconst isAbortError = error => error?.code === 'ERR_STREAM_PREMATURE_CLOSE';\n\nconst abortStream = stream => {\n\tif (stream.readable || stream.writable) {\n\t\tstream.destroy();\n\t}\n};\n\n// `stream.destroy(error)` crashes the process with `uncaughtException` if no `error` event listener exists on `stream`.\n// We take care of error handling on user behalf, so we do not want this to happen.\nconst errorStream = (stream, error) => {\n\tif (!stream.destroyed) {\n\t\tstream.once('error', noop);\n\t\tstream.destroy(error);\n\t}\n};\n\nconst noop = () => {};\n\nconst updateMaxListeners = (passThroughStream, increment) => {\n\tconst maxListeners = passThroughStream.getMaxListeners();\n\tif (maxListeners !== 0 && maxListeners !== Number.POSITIVE_INFINITY) {\n\t\tpassThroughStream.setMaxListeners(maxListeners + increment);\n\t}\n};\n\n// Number of times `passThroughStream.on()` is called regardless of streams:\n//  - once due to `finished(passThroughStream)`\n//  - once due to `on(passThroughStream)`\nconst PASSTHROUGH_LISTENERS_COUNT = 2;\n\n// Number of times `passThroughStream.on()` is called per stream:\n//  - once due to `stream.pipe(passThroughStream)`\nconst PASSTHROUGH_LISTENERS_PER_STREAM = 1;\n", "import {finished} from 'node:stream/promises';\nimport {isStandardStream} from '../utils/standard-stream.js';\n\n// Similar to `Stream.pipeline(source, destination)`, but does not destroy standard streams\nexport const pipeStreams = (source, destination) => {\n\tsource.pipe(destination);\n\tonSourceFinish(source, destination);\n\tonDestinationFinish(source, destination);\n};\n\n// `source.pipe(destination)` makes `destination` end when `source` ends.\n// But it does not propagate aborts or errors. This function does it.\nconst onSourceFinish = async (source, destination) => {\n\tif (isStandardStream(source) || isStandardStream(destination)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait finished(source, {cleanup: true, readable: true, writable: false});\n\t} catch {}\n\n\tendDestinationStream(destination);\n};\n\nexport const endDestinationStream = destination => {\n\tif (destination.writable) {\n\t\tdestination.end();\n\t}\n};\n\n// We do the same thing in the other direction as well.\nconst onDestinationFinish = async (source, destination) => {\n\tif (isStandardStream(source) || isStandardStream(destination)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait finished(destination, {cleanup: true, readable: false, writable: true});\n\t} catch {}\n\n\tabortSourceStream(source);\n};\n\nexport const abortSourceStream = source => {\n\tif (source.readable) {\n\t\tsource.destroy();\n\t}\n};\n", "import mergeStreams from '@sindresorhus/merge-streams';\nimport {isStandardStream} from '../utils/standard-stream.js';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {pipeStreams} from './pipeline.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, after spawning, in async mode\n// When multiple input streams are used, we merge them to ensure the output stream ends only once each input stream has ended\nexport const pipeOutputAsync = (subprocess, fileDescriptors, controller) => {\n\tconst pipeGroups = new Map();\n\n\tfor (const [fdNumber, {stdioItems, direction}] of Object.entries(fileDescriptors)) {\n\t\tfor (const {stream} of stdioItems.filter(({type}) => TRANSFORM_TYPES.has(type))) {\n\t\t\tpipeTransform(subprocess, stream, direction, fdNumber);\n\t\t}\n\n\t\tfor (const {stream} of stdioItems.filter(({type}) => !TRANSFORM_TYPES.has(type))) {\n\t\t\tpipeStdioItem({\n\t\t\t\tsubprocess,\n\t\t\t\tstream,\n\t\t\t\tdirection,\n\t\t\t\tfdNumber,\n\t\t\t\tpipeGroups,\n\t\t\t\tcontroller,\n\t\t\t});\n\t\t}\n\t}\n\n\tfor (const [outputStream, inputStreams] of pipeGroups.entries()) {\n\t\tconst inputStream = inputStreams.length === 1 ? inputStreams[0] : mergeStreams(inputStreams);\n\t\tpipeStreams(inputStream, outputStream);\n\t}\n};\n\n// When using transforms, `subprocess.stdin|stdout|stderr|stdio` is directly mutated\nconst pipeTransform = (subprocess, stream, direction, fdNumber) => {\n\tif (direction === 'output') {\n\t\tpipeStreams(subprocess.stdio[fdNumber], stream);\n\t} else {\n\t\tpipeStreams(stream, subprocess.stdio[fdNumber]);\n\t}\n\n\tconst streamProperty = SUBPROCESS_STREAM_PROPERTIES[fdNumber];\n\tif (streamProperty !== undefined) {\n\t\tsubprocess[streamProperty] = stream;\n\t}\n\n\tsubprocess.stdio[fdNumber] = stream;\n};\n\nconst SUBPROCESS_STREAM_PROPERTIES = ['stdin', 'stdout', 'stderr'];\n\n// Most `std*` option values involve piping `subprocess.std*` to a stream.\n// The stream is either passed by the user or created internally.\nconst pipeStdioItem = ({subprocess, stream, direction, fdNumber, pipeGroups, controller}) => {\n\tif (stream === undefined) {\n\t\treturn;\n\t}\n\n\tsetStandardStreamMaxListeners(stream, controller);\n\n\tconst [inputStream, outputStream] = direction === 'output'\n\t\t? [stream, subprocess.stdio[fdNumber]]\n\t\t: [subprocess.stdio[fdNumber], stream];\n\tconst outputStreams = pipeGroups.get(inputStream) ?? [];\n\tpipeGroups.set(inputStream, [...outputStreams, outputStream]);\n};\n\n// Multiple subprocesses might be piping from/to `process.std*` at the same time.\n// This is not necessarily an error and should not print a `maxListeners` warning.\nconst setStandardStreamMaxListeners = (stream, {signal}) => {\n\tif (isStandardStream(stream)) {\n\t\tincrementMaxListeners(stream, MAX_LISTENERS_INCREMENT, signal);\n\t}\n};\n\n// `source.pipe(destination)` adds at most 1 listener for each event.\n// If `stdin` option is an array, the values might be combined with `merge-streams`.\n// That library also listens for `source` end, which adds 1 more listener.\nconst MAX_LISTENERS_INCREMENT = 2;\n", "import {addAbortListener} from 'node:events';\nimport {onExit} from 'signal-exit';\n\n// If the `cleanup` option is used, call `subprocess.kill()` when the parent process exits\nexport const cleanupOnExit = (subprocess, {cleanup, detached}, {signal}) => {\n\tif (!cleanup || detached) {\n\t\treturn;\n\t}\n\n\tconst removeExitHandler = onExit(() => {\n\t\tsubprocess.kill();\n\t});\n\taddAbortListener(signal, () => {\n\t\tremoveExitHandler();\n\t});\n};\n", "/**\n * This is not the set of all possible signals.\n *\n * It IS, however, the set of all signals that trigger\n * an exit on either Linux or BSD systems.  Linux is a\n * superset of the signal names supported on BSD, and\n * the unknown signals just fail to register, so we can\n * catch that easily enough.\n *\n * Windows signals are a different set, since there are\n * signals that terminate Windows processes, but don't\n * terminate (or don't even exist) on Posix systems.\n *\n * Don't bother with SIGKILL.  It's uncatchable, which\n * means that we can't fire any callbacks anyway.\n *\n * If a user does happen to register a handler on a non-\n * fatal signal like SIGWINCH or something, and then\n * exit, it'll end up firing `process.emit('exit')`, so\n * the handler will be fired anyway.\n *\n * SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n * artificially, inherently leave the process in a\n * state from which it is not safe to try and enter JS\n * listeners.\n */\nexport const signals: NodeJS.Signals[] = []\nsignals.push('SIGHUP', 'SIGINT', 'SIGTERM')\n\nif (process.platform !== 'win32') {\n  signals.push(\n    'SIGALRM',\n    'SIGABRT',\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  signals.push('SIGIO', 'SIGPOLL', 'SIGPWR', 'SIGSTKFLT')\n}\n", "// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\nimport { signals } from './signals.js'\nexport { signals }\n\n// just a loosened process type so we can do some evil things\ntype ProcessRE = NodeJS.Process & {\n  reallyExit: (code?: number | undefined | null) => any\n  emit: (ev: string, ...a: any[]) => any\n}\n\nconst processOk = (process: any): process is ProcessRE =>\n  !!process &&\n  typeof process === 'object' &&\n  typeof process.removeListener === 'function' &&\n  typeof process.emit === 'function' &&\n  typeof process.reallyExit === 'function' &&\n  typeof process.listeners === 'function' &&\n  typeof process.kill === 'function' &&\n  typeof process.pid === 'number' &&\n  typeof process.on === 'function'\n\nconst kExitEmitter = Symbol.for('signal-exit emitter')\nconst global: typeof globalThis & { [kExitEmitter]?: Emitter } = globalThis\nconst ObjectDefineProperty = Object.defineProperty.bind(Object)\n\n/**\n * A function that takes an exit code and signal as arguments\n *\n * In the case of signal exits *only*, a return value of true\n * will indicate that the signal is being handled, and we should\n * not synthetically exit with the signal we received. Regardless\n * of the handler return value, the handler is unloaded when an\n * otherwise fatal signal is received, so you get exactly 1 shot\n * at it, unless you add another onExit handler at that point.\n *\n * In the case of numeric code exits, we may already have committed\n * to exiting the process, for example via a fatal exception or\n * unhandled promise rejection, so it is impossible to stop safely.\n */\nexport type Handler = (\n  code: number | null | undefined,\n  signal: NodeJS.Signals | null\n) => true | void\ntype ExitEvent = 'afterExit' | 'exit'\ntype Emitted = { [k in ExitEvent]: boolean }\ntype Listeners = { [k in ExitEvent]: Handler[] }\n\n// teeny special purpose ee\nclass Emitter {\n  emitted: Emitted = {\n    afterExit: false,\n    exit: false,\n  }\n\n  listeners: Listeners = {\n    afterExit: [],\n    exit: [],\n  }\n\n  count: number = 0\n  id: number = Math.random()\n\n  constructor() {\n    if (global[kExitEmitter]) {\n      return global[kExitEmitter]\n    }\n    ObjectDefineProperty(global, kExitEmitter, {\n      value: this,\n      writable: false,\n      enumerable: false,\n      configurable: false,\n    })\n  }\n\n  on(ev: ExitEvent, fn: Handler) {\n    this.listeners[ev].push(fn)\n  }\n\n  removeListener(ev: ExitEvent, fn: Handler) {\n    const list = this.listeners[ev]\n    const i = list.indexOf(fn)\n    /* c8 ignore start */\n    if (i === -1) {\n      return\n    }\n    /* c8 ignore stop */\n    if (i === 0 && list.length === 1) {\n      list.length = 0\n    } else {\n      list.splice(i, 1)\n    }\n  }\n\n  emit(\n    ev: ExitEvent,\n    code: number | null | undefined,\n    signal: NodeJS.Signals | null\n  ): boolean {\n    if (this.emitted[ev]) {\n      return false\n    }\n    this.emitted[ev] = true\n    let ret: boolean = false\n    for (const fn of this.listeners[ev]) {\n      ret = fn(code, signal) === true || ret\n    }\n    if (ev === 'exit') {\n      ret = this.emit('afterExit', code, signal) || ret\n    }\n    return ret\n  }\n}\n\nabstract class SignalExitBase {\n  abstract onExit(cb: Handler, opts?: { alwaysLast?: boolean }): () => void\n  abstract load(): void\n  abstract unload(): void\n}\n\nconst signalExitWrap = <T extends SignalExitBase>(handler: T) => {\n  return {\n    onExit(cb: Handler, opts?: { alwaysLast?: boolean }) {\n      return handler.onExit(cb, opts)\n    },\n    load() {\n      return handler.load()\n    },\n    unload() {\n      return handler.unload()\n    },\n  }\n}\n\nclass SignalExitFallback extends SignalExitBase {\n  onExit() {\n    return () => {}\n  }\n  load() {}\n  unload() {}\n}\n\nclass SignalExit extends SignalExitBase {\n  // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n  // so use a supported signal instead\n  /* c8 ignore start */\n  #hupSig = process.platform === 'win32' ? 'SIGINT' : 'SIGHUP'\n  /* c8 ignore stop */\n  #emitter = new Emitter()\n  #process: ProcessRE\n  #originalProcessEmit: ProcessRE['emit']\n  #originalProcessReallyExit: ProcessRE['reallyExit']\n\n  #sigListeners: { [k in NodeJS.Signals]?: () => void } = {}\n  #loaded: boolean = false\n\n  constructor(process: ProcessRE) {\n    super()\n    this.#process = process\n    // { <signal>: <listener fn>, ... }\n    this.#sigListeners = {}\n    for (const sig of signals) {\n      this.#sigListeners[sig] = () => {\n        // If there are no other listeners, an exit is coming!\n        // Simplest way: remove us and then re-send the signal.\n        // We know that this will kill the process, so we can\n        // safely emit now.\n        const listeners = this.#process.listeners(sig)\n        let { count } = this.#emitter\n        // This is a workaround for the fact that signal-exit v3 and signal\n        // exit v4 are not aware of each other, and each will attempt to let\n        // the other handle it, so neither of them do. To correct this, we\n        // detect if we're the only handler *except* for previous versions\n        // of signal-exit, and increment by the count of listeners it has\n        // created.\n        /* c8 ignore start */\n        const p = process as unknown as {\n          __signal_exit_emitter__?: { count: number }\n        }\n        if (\n          typeof p.__signal_exit_emitter__ === 'object' &&\n          typeof p.__signal_exit_emitter__.count === 'number'\n        ) {\n          count += p.__signal_exit_emitter__.count\n        }\n        /* c8 ignore stop */\n        if (listeners.length === count) {\n          this.unload()\n          const ret = this.#emitter.emit('exit', null, sig)\n          /* c8 ignore start */\n          const s = sig === 'SIGHUP' ? this.#hupSig : sig\n          if (!ret) process.kill(process.pid, s)\n          /* c8 ignore stop */\n        }\n      }\n    }\n\n    this.#originalProcessReallyExit = process.reallyExit\n    this.#originalProcessEmit = process.emit\n  }\n\n  onExit(cb: Handler, opts?: { alwaysLast?: boolean }) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return () => {}\n    }\n    /* c8 ignore stop */\n\n    if (this.#loaded === false) {\n      this.load()\n    }\n\n    const ev = opts?.alwaysLast ? 'afterExit' : 'exit'\n    this.#emitter.on(ev, cb)\n    return () => {\n      this.#emitter.removeListener(ev, cb)\n      if (\n        this.#emitter.listeners['exit'].length === 0 &&\n        this.#emitter.listeners['afterExit'].length === 0\n      ) {\n        this.unload()\n      }\n    }\n  }\n\n  load() {\n    if (this.#loaded) {\n      return\n    }\n    this.#loaded = true\n\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    this.#emitter.count += 1\n\n    for (const sig of signals) {\n      try {\n        const fn = this.#sigListeners[sig]\n        if (fn) this.#process.on(sig, fn)\n      } catch (_) {}\n    }\n\n    this.#process.emit = (ev: string, ...a: any[]) => {\n      return this.#processEmit(ev, ...a)\n    }\n    this.#process.reallyExit = (code?: number | null | undefined) => {\n      return this.#processReallyExit(code)\n    }\n  }\n\n  unload() {\n    if (!this.#loaded) {\n      return\n    }\n    this.#loaded = false\n\n    signals.forEach(sig => {\n      const listener = this.#sigListeners[sig]\n      /* c8 ignore start */\n      if (!listener) {\n        throw new Error('Listener not defined for signal: ' + sig)\n      }\n      /* c8 ignore stop */\n      try {\n        this.#process.removeListener(sig, listener)\n        /* c8 ignore start */\n      } catch (_) {}\n      /* c8 ignore stop */\n    })\n    this.#process.emit = this.#originalProcessEmit\n    this.#process.reallyExit = this.#originalProcessReallyExit\n    this.#emitter.count -= 1\n  }\n\n  #processReallyExit(code?: number | null | undefined) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return 0\n    }\n    this.#process.exitCode = code || 0\n    /* c8 ignore stop */\n\n    this.#emitter.emit('exit', this.#process.exitCode, null)\n    return this.#originalProcessReallyExit.call(\n      this.#process,\n      this.#process.exitCode\n    )\n  }\n\n  #processEmit(ev: string, ...args: any[]): any {\n    const og = this.#originalProcessEmit\n    if (ev === 'exit' && processOk(this.#process)) {\n      if (typeof args[0] === 'number') {\n        this.#process.exitCode = args[0]\n        /* c8 ignore start */\n      }\n      /* c8 ignore start */\n      const ret = og.call(this.#process, ev, ...args)\n      /* c8 ignore start */\n      this.#emitter.emit('exit', this.#process.exitCode, null)\n      /* c8 ignore stop */\n      return ret\n    } else {\n      return og.call(this.#process, ev, ...args)\n    }\n  }\n}\n\nconst process = globalThis.process\n// wrap so that we call the method on the actual handler, without\n// exporting it directly.\nexport const {\n  /**\n   * Called when the process is exiting, whether via signal, explicit\n   * exit, or running out of stuff to do.\n   *\n   * If the global process object is not suitable for instrumentation,\n   * then this will be a no-op.\n   *\n   * Returns a function that may be used to unload signal-exit.\n   */\n  onExit,\n\n  /**\n   * Load the listeners.  Likely you never need to call this, unless\n   * doing a rather deep integration with signal-exit functionality.\n   * Mostly exposed for the benefit of testing.\n   *\n   * @internal\n   */\n  load,\n\n  /**\n   * Unload the listeners.  Likely you never need to call this, unless\n   * doing a rather deep integration with signal-exit functionality.\n   * Mostly exposed for the benefit of testing.\n   *\n   * @internal\n   */\n  unload,\n} = signalExitWrap(\n  processOk(process) ? new SignalExit(process) : new SignalExitFallback()\n)\n", "import {normalizeParameters} from '../methods/parameters.js';\nimport {getStartTime} from '../return/duration.js';\nimport {SUBPROCESS_OPTIONS, getToStream, getFromStream} from '../arguments/fd-options.js';\n\n// Normalize and validate arguments passed to `source.pipe(destination)`\nexport const normalizePipeArguments = ({source, sourcePromise, boundOptions, createNested}, ...pipeArguments) => {\n\tconst startTime = getStartTime();\n\tconst {\n\t\tdestination,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tfrom,\n\t\tunpipeSignal,\n\t} = getDestinationStream(boundOptions, createNested, pipeArguments);\n\tconst {sourceStream, sourceError} = getSourceStream(source, from);\n\tconst {options: sourceOptions, fileDescriptors} = SUBPROCESS_OPTIONS.get(source);\n\treturn {\n\t\tsourcePromise,\n\t\tsourceStream,\n\t\tsourceOptions,\n\t\tsourceError,\n\t\tdestination,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tunpipeSignal,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t};\n};\n\nconst getDestinationStream = (boundOptions, createNested, pipeArguments) => {\n\ttry {\n\t\tconst {\n\t\t\tdestination,\n\t\t\tpipeOptions: {from, to, unpipeSignal} = {},\n\t\t} = getDestination(boundOptions, createNested, ...pipeArguments);\n\t\tconst destinationStream = getToStream(destination, to);\n\t\treturn {\n\t\t\tdestination,\n\t\t\tdestinationStream,\n\t\t\tfrom,\n\t\t\tunpipeSignal,\n\t\t};\n\t} catch (error) {\n\t\treturn {destinationError: error};\n\t}\n};\n\n// Piping subprocesses can use three syntaxes:\n//  - source.pipe('command', commandArguments, pipeOptionsOrDestinationOptions)\n//  - source.pipe`command commandArgument` or source.pipe(pipeOptionsOrDestinationOptions)`command commandArgument`\n//  - source.pipe(execa(...), pipeOptions)\nconst getDestination = (boundOptions, createNested, firstArgument, ...pipeArguments) => {\n\tif (Array.isArray(firstArgument)) {\n\t\tconst destination = createNested(mapDestinationArguments, boundOptions)(firstArgument, ...pipeArguments);\n\t\treturn {destination, pipeOptions: boundOptions};\n\t}\n\n\tif (typeof firstArgument === 'string' || firstArgument instanceof URL) {\n\t\tif (Object.keys(boundOptions).length > 0) {\n\t\t\tthrow new TypeError('Please use .pipe(\"file\", ..., options) or .pipe(execa(\"file\", ..., options)) instead of .pipe(options)(\"file\", ...).');\n\t\t}\n\n\t\tconst [rawFile, rawArguments, rawOptions] = normalizeParameters(firstArgument, ...pipeArguments);\n\t\tconst destination = createNested(mapDestinationArguments)(rawFile, rawArguments, rawOptions);\n\t\treturn {destination, pipeOptions: rawOptions};\n\t}\n\n\tif (SUBPROCESS_OPTIONS.has(firstArgument)) {\n\t\tif (Object.keys(boundOptions).length > 0) {\n\t\t\tthrow new TypeError('Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).');\n\t\t}\n\n\t\treturn {destination: firstArgument, pipeOptions: pipeArguments[0]};\n\t}\n\n\tthrow new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${firstArgument}`);\n};\n\n// Force `stdin: 'pipe'` with the destination subprocess\nconst mapDestinationArguments = ({options}) => ({options: {...options, stdin: 'pipe', piped: true}});\n\nconst getSourceStream = (source, from) => {\n\ttry {\n\t\tconst sourceStream = getFromStream(source, from);\n\t\treturn {sourceStream};\n\t} catch (error) {\n\t\treturn {sourceError: error};\n\t}\n};\n", "import {makeEarlyError} from '../return/result.js';\nimport {abortSourceStream, endDestinationStream} from '../io/pipeline.js';\n\n// When passing invalid arguments to `source.pipe()`, throw asynchronously.\n// We also abort both subprocesses.\nexport const handlePipeArgumentsError = ({\n\tsourceStream,\n\tsourceError,\n\tdestinationStream,\n\tdestinationError,\n\tfileDescriptors,\n\tsourceOptions,\n\tstartTime,\n}) => {\n\tconst error = getPipeArgumentsError({\n\t\tsourceStream,\n\t\tsourceError,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t});\n\tif (error !== undefined) {\n\t\tthrow createNonCommandError({\n\t\t\terror,\n\t\t\tfileDescriptors,\n\t\t\tsourceOptions,\n\t\t\tstartTime,\n\t\t});\n\t}\n};\n\nconst getPipeArgumentsError = ({sourceStream, sourceError, destinationStream, destinationError}) => {\n\tif (sourceError !== undefined && destinationError !== undefined) {\n\t\treturn destinationError;\n\t}\n\n\tif (destinationError !== undefined) {\n\t\tabortSourceStream(sourceStream);\n\t\treturn destinationError;\n\t}\n\n\tif (sourceError !== undefined) {\n\t\tendDestinationStream(destinationStream);\n\t\treturn sourceError;\n\t}\n};\n\n// Specific error return value when passing invalid arguments to `subprocess.pipe()` or when using `unpipeSignal`\nexport const createNonCommandError = ({error, fileDescriptors, sourceOptions, startTime}) => makeEarlyError({\n\terror,\n\tcommand: PIPE_COMMAND_MESSAGE,\n\tescapedCommand: PIPE_COMMAND_MESSAGE,\n\tfileDescriptors,\n\toptions: sourceOptions,\n\tstartTime,\n\tisSync: false,\n});\n\nconst PIPE_COMMAND_MESSAGE = 'source.pipe(destination)';\n", "// Like Bash, we await both subprocesses. This is unlike some other shells which only await the destination subprocess.\n// Like Bash with the `pipefail` option, if either subprocess fails, the whole pipe fails.\n// Like Bash, if both subprocesses fail, we return the failure of the destination.\n// This ensures both subprocesses' errors are present, using `error.pipedFrom`.\nexport const waitForBothSubprocesses = async subprocessPromises => {\n\tconst [\n\t\t{status: sourceStatus, reason: sourceReason, value: sourceResult = sourceReason},\n\t\t{status: destinationStatus, reason: destinationReason, value: destinationResult = destinationReason},\n\t] = await subprocessPromises;\n\n\tif (!destinationResult.pipedFrom.includes(sourceResult)) {\n\t\tdestinationResult.pipedFrom.push(sourceResult);\n\t}\n\n\tif (destinationStatus === 'rejected') {\n\t\tthrow destinationResult;\n\t}\n\n\tif (sourceStatus === 'rejected') {\n\t\tthrow sourceResult;\n\t}\n\n\treturn destinationResult;\n};\n", "import {finished} from 'node:stream/promises';\nimport mergeStreams from '@sindresorhus/merge-streams';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {pipeStreams} from '../io/pipeline.js';\n\n// The piping behavior is like Bash.\n// In particular, when one subprocess exits, the other is not terminated by a signal.\n// Instead, its stdout (for the source) or stdin (for the destination) closes.\n// If the subprocess uses it, it will make it error with SIGPIPE or EPIPE (for the source) or end (for the destination).\n// If it does not use it, it will continue running.\n// This allows for subprocesses to gracefully exit and lower the coupling between subprocesses.\nexport const pipeSubprocessStream = (sourceStream, destinationStream, maxListenersController) => {\n\tconst mergedStream = MERGED_STREAMS.has(destinationStream)\n\t\t? pipeMoreSubprocessStream(sourceStream, destinationStream)\n\t\t: pipeFirstSubprocessStream(sourceStream, destinationStream);\n\tincrementMaxListeners(sourceStream, SOURCE_LISTENERS_PER_PIPE, maxListenersController.signal);\n\tincrementMaxListeners(destinationStream, DESTINATION_LISTENERS_PER_PIPE, maxListenersController.signal);\n\tcleanupMergedStreamsMap(destinationStream);\n\treturn mergedStream;\n};\n\n// We use `merge-streams` to allow for multiple sources to pipe to the same destination.\nconst pipeFirstSubprocessStream = (sourceStream, destinationStream) => {\n\tconst mergedStream = mergeStreams([sourceStream]);\n\tpipeStreams(mergedStream, destinationStream);\n\tMERGED_STREAMS.set(destinationStream, mergedStream);\n\treturn mergedStream;\n};\n\nconst pipeMoreSubprocessStream = (sourceStream, destinationStream) => {\n\tconst mergedStream = MERGED_STREAMS.get(destinationStream);\n\tmergedStream.add(sourceStream);\n\treturn mergedStream;\n};\n\nconst cleanupMergedStreamsMap = async destinationStream => {\n\ttry {\n\t\tawait finished(destinationStream, {cleanup: true, readable: false, writable: true});\n\t} catch {}\n\n\tMERGED_STREAMS.delete(destinationStream);\n};\n\nconst MERGED_STREAMS = new WeakMap();\n\n// Number of listeners set up on `sourceStream` by each `sourceStream.pipe(destinationStream)`\n// Those are added by `merge-streams`\nconst SOURCE_LISTENERS_PER_PIPE = 2;\n// Number of listeners set up on `destinationStream` by each `sourceStream.pipe(destinationStream)`\n// Those are added by `finished()` in `cleanupMergedStreamsMap()`\nconst DESTINATION_LISTENERS_PER_PIPE = 1;\n", "import {aborted} from 'node:util';\nimport {createNonCommandError} from './throw.js';\n\n// When passing an `unpipeSignal` option, abort piping when the signal is aborted.\n// However, do not terminate the subprocesses.\nexport const unpipeOnAbort = (unpipeSignal, unpipeContext) => unpipeSignal === undefined\n\t? []\n\t: [unpipeOnSignalAbort(unpipeSignal, unpipeContext)];\n\nconst unpipeOnSignalAbort = async (unpipeSignal, {sourceStream, mergedStream, fileDescriptors, sourceOptions, startTime}) => {\n\tawait aborted(unpipeSignal, sourceStream);\n\tawait mergedStream.remove(sourceStream);\n\tconst error = new Error('Pipe canceled by `unpipeSignal` option.');\n\tthrow createNonCommandError({\n\t\terror,\n\t\tfileDescriptors,\n\t\tsourceOptions,\n\t\tstartTime,\n\t});\n};\n", "import isPlainObject from 'is-plain-obj';\nimport {normalizePipeArguments} from './pipe-arguments.js';\nimport {handlePipeArgumentsError} from './throw.js';\nimport {waitForBothSubprocesses} from './sequence.js';\nimport {pipeSubprocessStream} from './streaming.js';\nimport {unpipeOnAbort} from './abort.js';\n\n// Pipe a subprocess' `stdout`/`stderr`/`stdio` into another subprocess' `stdin`\nexport const pipeToSubprocess = (sourceInfo, ...pipeArguments) => {\n\tif (isPlainObject(pipeArguments[0])) {\n\t\treturn pipeToSubprocess.bind(undefined, {\n\t\t\t...sourceInfo,\n\t\t\tboundOptions: {...sourceInfo.boundOptions, ...pipeArguments[0]},\n\t\t});\n\t}\n\n\tconst {destination, ...normalizedInfo} = normalizePipeArguments(sourceInfo, ...pipeArguments);\n\tconst promise = handlePipePromise({...normalizedInfo, destination});\n\tpromise.pipe = pipeToSubprocess.bind(undefined, {\n\t\t...sourceInfo,\n\t\tsource: destination,\n\t\tsourcePromise: promise,\n\t\tboundOptions: {},\n\t});\n\treturn promise;\n};\n\n// Asynchronous logic when piping subprocesses\nconst handlePipePromise = async ({\n\tsourcePromise,\n\tsourceStream,\n\tsourceOptions,\n\tsourceError,\n\tdestination,\n\tdestinationStream,\n\tdestinationError,\n\tunpipeSignal,\n\tfileDescriptors,\n\tstartTime,\n}) => {\n\tconst subprocessPromises = getSubprocessPromises(sourcePromise, destination);\n\thandlePipeArgumentsError({\n\t\tsourceStream,\n\t\tsourceError,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tfileDescriptors,\n\t\tsourceOptions,\n\t\tstartTime,\n\t});\n\tconst maxListenersController = new AbortController();\n\ttry {\n\t\tconst mergedStream = pipeSubprocessStream(sourceStream, destinationStream, maxListenersController);\n\t\treturn await Promise.race([\n\t\t\twaitForBothSubprocesses(subprocessPromises),\n\t\t\t...unpipeOnAbort(unpipeSignal, {\n\t\t\t\tsourceStream,\n\t\t\t\tmergedStream,\n\t\t\t\tsourceOptions,\n\t\t\t\tfileDescriptors,\n\t\t\t\tstartTime,\n\t\t\t}),\n\t\t]);\n\t} finally {\n\t\tmaxListenersController.abort();\n\t}\n};\n\n// `.pipe()` awaits the subprocess promises.\n// When invalid arguments are passed to `.pipe()`, we throw an error, which prevents awaiting them.\n// We need to ensure this does not create unhandled rejections.\nconst getSubprocessPromises = (sourcePromise, destination) => Promise.allSettled([sourcePromise, destination]);\n", "import {setImmediate} from 'node:timers/promises';\nimport getStream, {getStreamAsArrayBuffer, getStreamAsArray} from 'get-stream';\nimport {isArrayBuffer} from '../utils/uint-array.js';\nimport {shouldLogOutput, logLines} from '../verbose/output.js';\nimport {iterateForResult} from './iterate.js';\nimport {handleMaxBuffer} from './max-buffer.js';\nimport {getStripFinalNewline} from './strip-newline.js';\n\n// Retrieve `result.stdout|stderr|all|stdio[*]`\nexport const getStreamOutput = async ({stream, onStreamEnd, fdNumber, encoding, buffer, maxBuffer, lines, allMixed, stripFinalNewline, verboseInfo, streamInfo}) => {\n\tconst logPromise = logOutputAsync({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tfdNumber,\n\t\tencoding,\n\t\tallMixed,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\n\tif (!buffer) {\n\t\tawait Promise.all([resumeStream(stream), logPromise]);\n\t\treturn;\n\t}\n\n\tconst stripFinalNewlineValue = getStripFinalNewline(stripFinalNewline, fdNumber);\n\tconst iterable = iterateForResult({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tlines,\n\t\tencoding,\n\t\tstripFinalNewline: stripFinalNewlineValue,\n\t\tallMixed,\n\t});\n\tconst [output] = await Promise.all([\n\t\tgetStreamContents({\n\t\t\tstream,\n\t\t\titerable,\n\t\t\tfdNumber,\n\t\t\tencoding,\n\t\t\tmaxBuffer,\n\t\t\tlines,\n\t\t}),\n\t\tlogPromise,\n\t]);\n\treturn output;\n};\n\nconst logOutputAsync = async ({stream, onStreamEnd, fdNumber, encoding, allMixed, verboseInfo, streamInfo: {fileDescriptors}}) => {\n\tif (!shouldLogOutput({\n\t\tstdioItems: fileDescriptors[fdNumber]?.stdioItems,\n\t\tencoding,\n\t\tverboseInfo,\n\t\tfdNumber,\n\t})) {\n\t\treturn;\n\t}\n\n\tconst linesIterable = iterateForResult({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tlines: true,\n\t\tencoding,\n\t\tstripFinalNewline: true,\n\t\tallMixed,\n\t});\n\tawait logLines(linesIterable, stream, fdNumber, verboseInfo);\n};\n\n// When using `buffer: false`, users need to read `subprocess.stdout|stderr|all` right away\n// See https://github.com/sindresorhus/execa/issues/730 and https://github.com/sindresorhus/execa/pull/729#discussion_r1465496310\nconst resumeStream = async stream => {\n\tawait setImmediate();\n\tif (stream.readableFlowing === null) {\n\t\tstream.resume();\n\t}\n};\n\nconst getStreamContents = async ({stream, stream: {readableObjectMode}, iterable, fdNumber, encoding, maxBuffer, lines}) => {\n\ttry {\n\t\tif (readableObjectMode || lines) {\n\t\t\treturn await getStreamAsArray(iterable, {maxBuffer});\n\t\t}\n\n\t\tif (encoding === 'buffer') {\n\t\t\treturn new Uint8Array(await getStreamAsArrayBuffer(iterable, {maxBuffer}));\n\t\t}\n\n\t\treturn await getStream(iterable, {maxBuffer});\n\t} catch (error) {\n\t\treturn handleBufferedData(handleMaxBuffer({\n\t\t\terror,\n\t\t\tstream,\n\t\t\treadableObjectMode,\n\t\t\tlines,\n\t\t\tencoding,\n\t\t\tfdNumber,\n\t\t}));\n\t}\n};\n\n// On failure, `result.stdout|stderr|all` should contain the currently buffered stream\n// They are automatically closed and flushed by Node.js when the subprocess exits\n// When `buffer` is `false`, `streamPromise` is `undefined` and there is no buffered data to retrieve\nexport const getBufferedData = async streamPromise => {\n\ttry {\n\t\treturn await streamPromise;\n\t} catch (error) {\n\t\treturn handleBufferedData(error);\n\t}\n};\n\n// Ensure we are returning Uint8Arrays when using `encoding: 'buffer'`\nconst handleBufferedData = ({bufferedData}) => isArrayBuffer(bufferedData)\n\t? new Uint8Array(bufferedData)\n\t: bufferedData;\n", "import {on} from 'node:events';\nimport {getDefaultHighWaterMark} from 'node:stream';\nimport {getEncodingTransformGenerator} from '../transform/encoding-transform.js';\nimport {getSplitLinesGenerator} from '../transform/split.js';\nimport {transformChunkSync, finalChunksSync} from '../transform/run-sync.js';\n\n// Iterate over lines of `subprocess.stdout`, used by `subprocess.readable|duplex|iterable()`\nexport const iterateOnSubprocessStream = ({subprocessStdout, subprocess, binary, shouldEncode, encoding, preserveNewlines}) => {\n\tconst controller = new AbortController();\n\tstopReadingOnExit(subprocess, controller);\n\treturn iterateOnStream({\n\t\tstream: subprocessStdout,\n\t\tcontroller,\n\t\tbinary,\n\t\tshouldEncode: !subprocessStdout.readableObjectMode && shouldEncode,\n\t\tencoding,\n\t\tshouldSplit: !subprocessStdout.readableObjectMode,\n\t\tpreserveNewlines,\n\t});\n};\n\nconst stopReadingOnExit = async (subprocess, controller) => {\n\ttry {\n\t\tawait subprocess;\n\t} catch {} finally {\n\t\tcontroller.abort();\n\t}\n};\n\n// Iterate over lines of `subprocess.stdout`, used by `result.stdout` and the `verbose: 'full'` option.\n// Applies the `lines` and `encoding` options.\nexport const iterateForResult = ({stream, onStreamEnd, lines, encoding, stripFinalNewline, allMixed}) => {\n\tconst controller = new AbortController();\n\tstopReadingOnStreamEnd(onStreamEnd, controller, stream);\n\tconst objectMode = stream.readableObjectMode && !allMixed;\n\treturn iterateOnStream({\n\t\tstream,\n\t\tcontroller,\n\t\tbinary: encoding === 'buffer',\n\t\tshouldEncode: !objectMode,\n\t\tencoding,\n\t\tshouldSplit: !objectMode && lines,\n\t\tpreserveNewlines: !stripFinalNewline,\n\t});\n};\n\nconst stopReadingOnStreamEnd = async (onStreamEnd, controller, stream) => {\n\ttry {\n\t\tawait onStreamEnd;\n\t} catch {\n\t\tstream.destroy();\n\t} finally {\n\t\tcontroller.abort();\n\t}\n};\n\nconst iterateOnStream = ({stream, controller, binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) => {\n\tconst onStdoutChunk = on(stream, 'data', {\n\t\tsignal: controller.signal,\n\t\thighWaterMark: HIGH_WATER_MARK,\n\t\t// Backward compatibility with older name for this option\n\t\t// See https://github.com/nodejs/node/pull/52080#discussion_r1525227861\n\t\t// @todo Remove after removing support for Node 21\n\t\thighWatermark: HIGH_WATER_MARK,\n\t});\n\treturn iterateOnData({\n\t\tonStdoutChunk,\n\t\tcontroller,\n\t\tbinary,\n\t\tshouldEncode,\n\t\tencoding,\n\t\tshouldSplit,\n\t\tpreserveNewlines,\n\t});\n};\n\nexport const DEFAULT_OBJECT_HIGH_WATER_MARK = getDefaultHighWaterMark(true);\n\n// The `highWaterMark` of `events.on()` is measured in number of events, not in bytes.\n// Not knowing the average amount of bytes per `data` event, we use the same heuristic as streams in objectMode, since they have the same issue.\n// Therefore, we use the value of `getDefaultHighWaterMark(true)`.\n// Note: this option does not exist on Node 18, but this is ok since the logic works without it. It just consumes more memory.\nconst HIGH_WATER_MARK = DEFAULT_OBJECT_HIGH_WATER_MARK;\n\nconst iterateOnData = async function * ({onStdoutChunk, controller, binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) {\n\tconst generators = getGenerators({\n\t\tbinary,\n\t\tshouldEncode,\n\t\tencoding,\n\t\tshouldSplit,\n\t\tpreserveNewlines,\n\t});\n\n\ttry {\n\t\tfor await (const [chunk] of onStdoutChunk) {\n\t\t\tyield * transformChunkSync(chunk, generators, 0);\n\t\t}\n\t} catch (error) {\n\t\tif (!controller.signal.aborted) {\n\t\t\tthrow error;\n\t\t}\n\t} finally {\n\t\tyield * finalChunksSync(generators);\n\t}\n};\n\nconst getGenerators = ({binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) => [\n\tgetEncodingTransformGenerator(binary, encoding, !shouldEncode),\n\tgetSplitLinesGenerator(binary, preserveNewlines, !shouldSplit, {}),\n].filter(Boolean);\n", "import {finished} from 'node:stream/promises';\n\n// Wraps `finished(stream)` to handle the following case:\n//  - When the subprocess exits, Node.js automatically calls `subprocess.stdin.destroy()`, which we need to ignore.\n//  - However, we still need to throw if `subprocess.stdin.destroy()` is called before subprocess exit.\nexport const waitForStream = async (stream, fdNumber, streamInfo, {isSameDirection, stopOnExit = false} = {}) => {\n\tconst state = handleStdinDestroy(stream, streamInfo);\n\tconst abortController = new AbortController();\n\ttry {\n\t\tawait Promise.race([\n\t\t\t...(stopOnExit ? [streamInfo.exitPromise] : []),\n\t\t\tfinished(stream, {cleanup: true, signal: abortController.signal}),\n\t\t]);\n\t} catch (error) {\n\t\tif (!state.stdinCleanedUp) {\n\t\t\thandleStreamError(error, fdNumber, streamInfo, isSameDirection);\n\t\t}\n\t} finally {\n\t\tabortController.abort();\n\t}\n};\n\n// If `subprocess.stdin` is destroyed before being fully written to, it is considered aborted and should throw an error.\n// This can happen for example when user called `subprocess.stdin.destroy()` before `subprocess.stdin.end()`.\n// However, Node.js calls `subprocess.stdin.destroy()` on exit for cleanup purposes.\n// https://github.com/nodejs/node/blob/0b4cdb4b42956cbd7019058e409e06700a199e11/lib/internal/child_process.js#L278\n// This is normal and should not throw an error.\n// Therefore, we need to differentiate between both situations to know whether to throw an error.\n// Unfortunately, events (`close`, `error`, `end`, `exit`) cannot be used because `.destroy()` can take an arbitrary amount of time.\n// For example, `stdin: 'pipe'` is implemented as a TCP socket, and its `.destroy()` method waits for TCP disconnection.\n// Therefore `.destroy()` might end before or after subprocess exit, based on OS speed and load.\n// The only way to detect this is to spy on `subprocess.stdin._destroy()` by wrapping it.\n// If `subprocess.exitCode` or `subprocess.signalCode` is set, it means `.destroy()` is being called by Node.js itself.\nconst handleStdinDestroy = (stream, {originalStreams: [originalStdin], subprocess}) => {\n\tconst state = {stdinCleanedUp: false};\n\tif (stream === originalStdin) {\n\t\tspyOnStdinDestroy(stream, subprocess, state);\n\t}\n\n\treturn state;\n};\n\nconst spyOnStdinDestroy = (subprocessStdin, subprocess, state) => {\n\tconst {_destroy} = subprocessStdin;\n\tsubprocessStdin._destroy = (...destroyArguments) => {\n\t\tsetStdinCleanedUp(subprocess, state);\n\t\t_destroy.call(subprocessStdin, ...destroyArguments);\n\t};\n};\n\nconst setStdinCleanedUp = ({exitCode, signalCode}, state) => {\n\tif (exitCode !== null || signalCode !== null) {\n\t\tstate.stdinCleanedUp = true;\n\t}\n};\n\n// We ignore EPIPEs on writable streams and aborts on readable streams since those can happen normally.\n// When one stream errors, the error is propagated to the other streams on the same file descriptor.\n// Those other streams might have a different direction due to the above.\n// When this happens, the direction of both the initial stream and the others should then be taken into account.\n// Therefore, we keep track of whether a stream error is currently propagating.\nconst handleStreamError = (error, fdNumber, streamInfo, isSameDirection) => {\n\tif (!shouldIgnoreStreamError(error, fdNumber, streamInfo, isSameDirection)) {\n\t\tthrow error;\n\t}\n};\n\nconst shouldIgnoreStreamError = (error, fdNumber, streamInfo, isSameDirection = true) => {\n\tif (streamInfo.propagating) {\n\t\treturn isStreamEpipe(error) || isStreamAbort(error);\n\t}\n\n\tstreamInfo.propagating = true;\n\treturn isInputFileDescriptor(streamInfo, fdNumber) === isSameDirection\n\t\t? isStreamEpipe(error)\n\t\t: isStreamAbort(error);\n};\n\n// Unfortunately, we cannot use the stream's class or properties to know whether it is readable or writable.\n// For example, `subprocess.stdin` is technically a Duplex, but can only be used as a writable.\n// Therefore, we need to use the file descriptor's direction (`stdin` is input, `stdout` is output, etc.).\n// However, while `subprocess.std*` and transforms follow that direction, any stream passed the `std*` option has the opposite direction.\n// For example, `subprocess.stdin` is a writable, but the `stdin` option is a readable.\nexport const isInputFileDescriptor = ({fileDescriptors}, fdNumber) => fdNumber !== 'all' && fileDescriptors[fdNumber].direction === 'input';\n\n// When `stream.destroy()` is called without an `error` argument, stream is aborted.\n// This is the only way to abort a readable stream, which can be useful in some instances.\n// Therefore, we ignore this error on readable streams.\nexport const isStreamAbort = error => error?.code === 'ERR_STREAM_PREMATURE_CLOSE';\n\n// When `stream.write()` is called but the underlying source has been closed, `EPIPE` is emitted.\n// When piping subprocesses, the source subprocess usually decides when to stop piping.\n// However, there are some instances when the destination does instead, such as `... | head -n1`.\n// It notifies the source by using `EPIPE`.\n// Therefore, we ignore this error on writable streams.\nconst isStreamEpipe = error => error?.code === 'EPIPE';\n", "import {getStreamOutput} from '../io/contents.js';\nimport {waitForStream, isInputFileDescriptor} from './wait-stream.js';\n\n// Read the contents of `subprocess.std*` and|or wait for its completion\nexport const waitForStdioStreams = ({subprocess, encoding, buffer, maxBuffer, lines, stripFinalNewline, verboseInfo, streamInfo}) => subprocess.stdio.map((stream, fdNumber) => waitForSubprocessStream({\n\tstream,\n\tfdNumber,\n\tencoding,\n\tbuffer: buffer[fdNumber],\n\tmaxBuffer: maxBuffer[fdNumber],\n\tlines: lines[fdNumber],\n\tallMixed: false,\n\tstripFinalNewline,\n\tverboseInfo,\n\tstreamInfo,\n}));\n\n// Read the contents of `subprocess.std*` or `subprocess.all` and|or wait for its completion\nexport const waitForSubprocessStream = async ({stream, fdNumber, encoding, buffer, maxBuffer, lines, allMixed, stripFinalNewline, verboseInfo, streamInfo}) => {\n\tif (!stream) {\n\t\treturn;\n\t}\n\n\tconst onStreamEnd = waitForStream(stream, fdNumber, streamInfo);\n\tif (isInputFileDescriptor(streamInfo, fdNumber)) {\n\t\tawait onStreamEnd;\n\t\treturn;\n\t}\n\n\tconst [output] = await Promise.all([\n\t\tgetStreamOutput({\n\t\t\tstream,\n\t\t\tonStreamEnd,\n\t\t\tfdNumber,\n\t\t\tencoding,\n\t\t\tbuffer,\n\t\t\tmaxBuffer,\n\t\t\tlines,\n\t\t\tallMixed,\n\t\t\tstripFinalNewline,\n\t\t\tverboseInfo,\n\t\t\tstreamInfo,\n\t\t}),\n\t\tonStreamEnd,\n\t]);\n\treturn output;\n};\n", "import mergeStreams from '@sindresorhus/merge-streams';\nimport {waitForSubprocessStream} from './stdio.js';\n\n// `all` interleaves `stdout` and `stderr`\nexport const makeAllStream = ({stdout, stderr}, {all}) => all && (stdout || stderr)\n\t? mergeStreams([stdout, stderr].filter(Boolean))\n\t: undefined;\n\n// Read the contents of `subprocess.all` and|or wait for its completion\nexport const waitForAllStream = ({subprocess, encoding, buffer, maxBuffer, lines, stripFinalNewline, verboseInfo, streamInfo}) => waitForSubprocessStream({\n\t...getAllStream(subprocess, buffer),\n\tfdNumber: 'all',\n\tencoding,\n\tmaxBuffer: maxBuffer[1] + maxBuffer[2],\n\tlines: lines[1] || lines[2],\n\tallMixed: getAllMixed(subprocess),\n\tstripFinalNewline,\n\tverboseInfo,\n\tstreamInfo,\n});\n\nconst getAllStream = ({stdout, stderr, all}, [, bufferStdout, bufferStderr]) => {\n\tconst buffer = bufferStdout || bufferStderr;\n\tif (!buffer) {\n\t\treturn {stream: all, buffer};\n\t}\n\n\tif (!bufferStdout) {\n\t\treturn {stream: stderr, buffer};\n\t}\n\n\tif (!bufferStderr) {\n\t\treturn {stream: stdout, buffer};\n\t}\n\n\treturn {stream: all, buffer};\n};\n\n// When `subprocess.stdout` is in objectMode but not `subprocess.stderr` (or the opposite), we need to use both:\n//  - `getStreamAsArray()` for the chunks in objectMode, to return as an array without changing each chunk\n//  - `getStreamAsArrayBuffer()` or `getStream()` for the chunks not in objectMode, to convert them from Buffers to string or Uint8Array\n// We do this by emulating the Buffer -> string|Uint8Array conversion performed by `get-stream` with our own, which is identical.\nconst getAllMixed = ({all, stdout, stderr}) => all\n\t&& stdout\n\t&& stderr\n\t&& stdout.readableObjectMode !== stderr.readableObjectMode;\n", "import {once} from 'node:events';\nimport {isStream as isNodeStream} from 'is-stream';\nimport {throwOnTimeout} from '../terminate/timeout.js';\nimport {throwOnCancel} from '../terminate/cancel.js';\nimport {throwOnGracefulCancel} from '../terminate/graceful.js';\nimport {isStandardStream} from '../utils/standard-stream.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {getBufferedData} from '../io/contents.js';\nimport {waitForIpcOutput, getBufferedIpcOutput} from '../ipc/buffer-messages.js';\nimport {sendIpcInput} from '../ipc/ipc-input.js';\nimport {waitForAllStream} from './all-async.js';\nimport {waitForStdioStreams} from './stdio.js';\nimport {waitForExit, waitForSuccessfulExit} from './exit-async.js';\nimport {waitForStream} from './wait-stream.js';\n\n// Retrieve result of subprocess: exit code, signal, error, streams (stdout/stderr/all)\nexport const waitForSubprocessResult = async ({\n\tsubprocess,\n\toptions: {\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\ttimeoutDuration: timeout,\n\t\tcancelSignal,\n\t\tgracefulCancel,\n\t\tforceKillAfterDelay,\n\t\tstripFinalNewline,\n\t\tipc,\n\t\tipcInput,\n\t},\n\tcontext,\n\tverboseInfo,\n\tfileDescriptors,\n\toriginalStreams,\n\tonInternalError,\n\tcontroller,\n}) => {\n\tconst exitPromise = waitForExit(subprocess, context);\n\tconst streamInfo = {\n\t\toriginalStreams,\n\t\tfileDescriptors,\n\t\tsubprocess,\n\t\texitPromise,\n\t\tpropagating: false,\n\t};\n\n\tconst stdioPromises = waitForStdioStreams({\n\t\tsubprocess,\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\tconst allPromise = waitForAllStream({\n\t\tsubprocess,\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\tconst ipcOutput = [];\n\tconst ipcOutputPromise = waitForIpcOutput({\n\t\tsubprocess,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tipc,\n\t\tipcOutput,\n\t\tverboseInfo,\n\t});\n\tconst originalPromises = waitForOriginalStreams(originalStreams, subprocess, streamInfo);\n\tconst customStreamsEndPromises = waitForCustomStreamsEnd(fileDescriptors, streamInfo);\n\n\ttry {\n\t\treturn await Promise.race([\n\t\t\tPromise.all([\n\t\t\t\t{},\n\t\t\t\twaitForSuccessfulExit(exitPromise),\n\t\t\t\tPromise.all(stdioPromises),\n\t\t\t\tallPromise,\n\t\t\t\tipcOutputPromise,\n\t\t\t\tsendIpcInput(subprocess, ipcInput),\n\t\t\t\t...originalPromises,\n\t\t\t\t...customStreamsEndPromises,\n\t\t\t]),\n\t\t\tonInternalError,\n\t\t\tthrowOnSubprocessError(subprocess, controller),\n\t\t\t...throwOnTimeout(subprocess, timeout, context, controller),\n\t\t\t...throwOnCancel({\n\t\t\t\tsubprocess,\n\t\t\t\tcancelSignal,\n\t\t\t\tgracefulCancel,\n\t\t\t\tcontext,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t\t...throwOnGracefulCancel({\n\t\t\t\tsubprocess,\n\t\t\t\tcancelSignal,\n\t\t\t\tgracefulCancel,\n\t\t\t\tforceKillAfterDelay,\n\t\t\t\tcontext,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t]);\n\t} catch (error) {\n\t\tcontext.terminationReason ??= 'other';\n\t\treturn Promise.all([\n\t\t\t{error},\n\t\t\texitPromise,\n\t\t\tPromise.all(stdioPromises.map(stdioPromise => getBufferedData(stdioPromise))),\n\t\t\tgetBufferedData(allPromise),\n\t\t\tgetBufferedIpcOutput(ipcOutputPromise, ipcOutput),\n\t\t\tPromise.allSettled(originalPromises),\n\t\t\tPromise.allSettled(customStreamsEndPromises),\n\t\t]);\n\t}\n};\n\n// Transforms replace `subprocess.std*`, which means they are not exposed to users.\n// However, we still want to wait for their completion.\nconst waitForOriginalStreams = (originalStreams, subprocess, streamInfo) =>\n\toriginalStreams.map((stream, fdNumber) => stream === subprocess.stdio[fdNumber]\n\t\t? undefined\n\t\t: waitForStream(stream, fdNumber, streamInfo));\n\n// Some `stdin`/`stdout`/`stderr` options create a stream, e.g. when passing a file path.\n// The `.pipe()` method automatically ends that stream when `subprocess` ends.\n// This makes sure we wait for the completion of those streams, in order to catch any error.\nconst waitForCustomStreamsEnd = (fileDescriptors, streamInfo) => fileDescriptors.flatMap(({stdioItems}, fdNumber) => stdioItems\n\t.filter(({value, stream = value}) => isNodeStream(stream, {checkOpen: false}) && !isStandardStream(stream))\n\t.map(({type, value, stream = value}) => waitForStream(stream, fdNumber, streamInfo, {\n\t\tisSameDirection: TRANSFORM_TYPES.has(type),\n\t\tstopOnExit: type === 'native',\n\t})));\n\n// Fails when the subprocess emits an `error` event\nconst throwOnSubprocessError = async (subprocess, {signal}) => {\n\tconst [error] = await once(subprocess, 'error', {signal});\n\tthrow error;\n};\n", "import {verboseLog, serializeVerboseMessage} from './log.js';\nimport {isFullVerbose} from './values.js';\n\n// When `verbose` is `'full'`, print IPC messages from the subprocess\nexport const shouldLogIpc = verboseInfo => isFullVerbose(verboseInfo, 'ipc');\n\nexport const logIpcOutput = (message, verboseInfo) => {\n\tconst verboseMessage = serializeVerboseMessage(message);\n\tverboseLog({\n\t\ttype: 'ipc',\n\t\tverboseMessage,\n\t\tfdNumber: 'ipc',\n\t\tverboseInfo,\n\t});\n};\n", "import {checkIpcMaxBuffer} from '../io/max-buffer.js';\nimport {shouldLogIpc, logIpcOutput} from '../verbose/ipc.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\nimport {loopOnMessages} from './get-each.js';\n\n// Iterate through IPC messages sent by the subprocess\nexport const waitForIpcOutput = async ({\n\tsubprocess,\n\tbuffer: bufferArray,\n\tmaxBuffer: maxBufferArray,\n\tipc,\n\tipcOutput,\n\tverboseInfo,\n}) => {\n\tif (!ipc) {\n\t\treturn ipcOutput;\n\t}\n\n\tconst isVerbose = shouldLogIpc(verboseInfo);\n\tconst buffer = getFdSpecificValue(bufferArray, 'ipc');\n\tconst maxBuffer = getFdSpecificValue(maxBufferArray, 'ipc');\n\n\tfor await (const message of loopOnMessages({\n\t\tanyProcess: subprocess,\n\t\tchannel: subprocess.channel,\n\t\tisSubprocess: false,\n\t\tipc,\n\t\tshouldAwait: false,\n\t\treference: true,\n\t})) {\n\t\tif (buffer) {\n\t\t\tcheckIpcMaxBuffer(subprocess, ipcOutput, maxBuffer);\n\t\t\tipcOutput.push(message);\n\t\t}\n\n\t\tif (isVerbose) {\n\t\t\tlogIpcOutput(message, verboseInfo);\n\t\t}\n\t}\n\n\treturn ipcOutput;\n};\n\nexport const getBufferedIpcOutput = async (ipcOutputPromise, ipcOutput) => {\n\tawait Promise.allSettled([ipcOutputPromise]);\n\treturn ipcOutput;\n};\n", "import {createDeferred} from '../utils/deferred.js';\n\n// When using multiple `.readable()`/`.writable()`/`.duplex()`, `final` and `destroy` should wait for other streams\nexport const initializeConcurrentStreams = () => ({\n\treadableDestroy: new WeakMap(),\n\twritableFinal: new WeakMap(),\n\twritableDestroy: new WeakMap(),\n});\n\n// Each file descriptor + `waitName` has its own array of promises.\n// Each promise is a single `.readable()`/`.writable()`/`.duplex()` call.\nexport const addConcurrentStream = (concurrentStreams, stream, waitName) => {\n\tconst weakMap = concurrentStreams[waitName];\n\tif (!weakMap.has(stream)) {\n\t\tweakMap.set(stream, []);\n\t}\n\n\tconst promises = weakMap.get(stream);\n\tconst promise = createDeferred();\n\tpromises.push(promise);\n\tconst resolve = promise.resolve.bind(promise);\n\treturn {resolve, promises};\n};\n\n// Wait for other streams, but stop waiting when subprocess ends\nexport const waitForConcurrentStreams = async ({resolve, promises}, subprocess) => {\n\tresolve();\n\tconst [isSubprocessExit] = await Promise.race([\n\t\tPromise.allSettled([true, subprocess]),\n\t\tPromise.all([false, ...promises]),\n\t]);\n\treturn !isSubprocessExit;\n};\n", "import {Readable} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {getFromStream} from '../arguments/fd-options.js';\nimport {iterateOnSubprocessStream, DEFAULT_OBJECT_HIGH_WATER_MARK} from '../io/iterate.js';\nimport {createDeferred} from '../utils/deferred.js';\nimport {addConcurrentStream, waitForConcurrentStreams} from './concurrent.js';\nimport {\n\tsafeWaitForSubprocessStdin,\n\twaitForSubprocessStdout,\n\twaitForSubprocess,\n\tdestroyOtherStream,\n} from './shared.js';\n\n// Create a `Readable` stream that forwards from `stdout` and awaits the subprocess\nexport const createReadable = ({subprocess, concurrentStreams, encoding}, {from, binary: binaryOption = true, preserveNewlines = true} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {subprocessStdout, waitReadableDestroy} = getSubprocessStdout(subprocess, from, concurrentStreams);\n\tconst {readableEncoding, readableObjectMode, readableHighWaterMark} = getReadableOptions(subprocessStdout, binary);\n\tconst {read, onStdoutDataDone} = getReadableMethods({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\tconst readable = new Readable({\n\t\tread,\n\t\tdestroy: callbackify(onReadableDestroy.bind(undefined, {subprocessStdout, subprocess, waitReadableDestroy})),\n\t\thighWaterMark: readableHighWaterMark,\n\t\tobjectMode: readableObjectMode,\n\t\tencoding: readableEncoding,\n\t});\n\tonStdoutFinished({\n\t\tsubprocessStdout,\n\t\tonStdoutDataDone,\n\t\treadable,\n\t\tsubprocess,\n\t});\n\treturn readable;\n};\n\n// Retrieve `stdout` (or other stream depending on `from`)\nexport const getSubprocessStdout = (subprocess, from, concurrentStreams) => {\n\tconst subprocessStdout = getFromStream(subprocess, from);\n\tconst waitReadableDestroy = addConcurrentStream(concurrentStreams, subprocessStdout, 'readableDestroy');\n\treturn {subprocessStdout, waitReadableDestroy};\n};\n\nexport const getReadableOptions = ({readableEncoding, readableObjectMode, readableHighWaterMark}, binary) => binary\n\t? {readableEncoding, readableObjectMode, readableHighWaterMark}\n\t: {readableEncoding, readableObjectMode: true, readableHighWaterMark: DEFAULT_OBJECT_HIGH_WATER_MARK};\n\nexport const getReadableMethods = ({subprocessStdout, subprocess, binary, encoding, preserveNewlines}) => {\n\tconst onStdoutDataDone = createDeferred();\n\tconst onStdoutData = iterateOnSubprocessStream({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tshouldEncode: !binary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\n\treturn {\n\t\tread() {\n\t\t\tonRead(this, onStdoutData, onStdoutDataDone);\n\t\t},\n\t\tonStdoutDataDone,\n\t};\n};\n\n// Forwards data from `stdout` to `readable`\nconst onRead = async (readable, onStdoutData, onStdoutDataDone) => {\n\ttry {\n\t\tconst {value, done} = await onStdoutData.next();\n\t\tif (done) {\n\t\t\tonStdoutDataDone.resolve();\n\t\t} else {\n\t\t\treadable.push(value);\n\t\t}\n\t} catch {}\n};\n\n// When `subprocess.stdout` ends/aborts/errors, do the same on `readable`.\n// Await the subprocess, for the same reason as above.\nexport const onStdoutFinished = async ({subprocessStdout, onStdoutDataDone, readable, subprocess, subprocessStdin}) => {\n\ttry {\n\t\tawait waitForSubprocessStdout(subprocessStdout);\n\t\tawait subprocess;\n\t\tawait safeWaitForSubprocessStdin(subprocessStdin);\n\t\tawait onStdoutDataDone;\n\n\t\tif (readable.readable) {\n\t\t\treadable.push(null);\n\t\t}\n\t} catch (error) {\n\t\tawait safeWaitForSubprocessStdin(subprocessStdin);\n\t\tdestroyOtherReadable(readable, error);\n\t}\n};\n\n// When `readable` aborts/errors, do the same on `subprocess.stdout`\nexport const onReadableDestroy = async ({subprocessStdout, subprocess, waitReadableDestroy}, error) => {\n\tif (await waitForConcurrentStreams(waitReadableDestroy, subprocess)) {\n\t\tdestroyOtherReadable(subprocessStdout, error);\n\t\tawait waitForSubprocess(subprocess, error);\n\t}\n};\n\nconst destroyOtherReadable = (stream, error) => {\n\tdestroyOtherStream(stream, stream.readable, error);\n};\n", "import {finished} from 'node:stream/promises';\nimport {isStreamAbort} from '../resolve/wait-stream.js';\n\nexport const safeWaitForSubprocessStdin = async subprocessStdin => {\n\tif (subprocessStdin === undefined) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait waitForSubprocessStdin(subprocessStdin);\n\t} catch {}\n};\n\nexport const safeWaitForSubprocessStdout = async subprocessStdout => {\n\tif (subprocessStdout === undefined) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait waitForSubprocessStdout(subprocessStdout);\n\t} catch {}\n};\n\nexport const waitForSubprocessStdin = async subprocessStdin => {\n\tawait finished(subprocessStdin, {cleanup: true, readable: false, writable: true});\n};\n\nexport const waitForSubprocessStdout = async subprocessStdout => {\n\tawait finished(subprocessStdout, {cleanup: true, readable: true, writable: false});\n};\n\n// When `readable` or `writable` aborts/errors, awaits the subprocess, for the reason mentioned above\nexport const waitForSubprocess = async (subprocess, error) => {\n\tawait subprocess;\n\tif (error) {\n\t\tthrow error;\n\t}\n};\n\nexport const destroyOtherStream = (stream, isOpen, error) => {\n\tif (error && !isStreamAbort(error)) {\n\t\tstream.destroy(error);\n\t} else if (isOpen) {\n\t\tstream.destroy();\n\t}\n};\n", "import {Writable} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {getToStream} from '../arguments/fd-options.js';\nimport {addConcurrentStream, waitForConcurrentStreams} from './concurrent.js';\nimport {\n\tsafeWaitForSubprocessStdout,\n\twaitForSubprocessStdin,\n\twaitForSubprocess,\n\tdestroyOtherStream,\n} from './shared.js';\n\n// Create a `Writable` stream that forwards to `stdin` and awaits the subprocess\nexport const createWritable = ({subprocess, concurrentStreams}, {to} = {}) => {\n\tconst {subprocessStdin, waitWritableFinal, waitWritableDestroy} = getSubprocessStdin(subprocess, to, concurrentStreams);\n\tconst writable = new Writable({\n\t\t...getWritableMethods(subprocessStdin, subprocess, waitWritableFinal),\n\t\tdestroy: callbackify(onWritableDestroy.bind(undefined, {\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t})),\n\t\thighWaterMark: subprocessStdin.writableHighWaterMark,\n\t\tobjectMode: subprocessStdin.writableObjectMode,\n\t});\n\tonStdinFinished(subprocessStdin, writable);\n\treturn writable;\n};\n\n// Retrieve `stdin` (or other stream depending on `to`)\nexport const getSubprocessStdin = (subprocess, to, concurrentStreams) => {\n\tconst subprocessStdin = getToStream(subprocess, to);\n\tconst waitWritableFinal = addConcurrentStream(concurrentStreams, subprocessStdin, 'writableFinal');\n\tconst waitWritableDestroy = addConcurrentStream(concurrentStreams, subprocessStdin, 'writableDestroy');\n\treturn {subprocessStdin, waitWritableFinal, waitWritableDestroy};\n};\n\nexport const getWritableMethods = (subprocessStdin, subprocess, waitWritableFinal) => ({\n\twrite: onWrite.bind(undefined, subprocessStdin),\n\tfinal: callbackify(onWritableFinal.bind(undefined, subprocessStdin, subprocess, waitWritableFinal)),\n});\n\n// Forwards data from `writable` to `stdin`\nconst onWrite = (subprocessStdin, chunk, encoding, done) => {\n\tif (subprocessStdin.write(chunk, encoding)) {\n\t\tdone();\n\t} else {\n\t\tsubprocessStdin.once('drain', done);\n\t}\n};\n\n// Ensures that the writable `final` and readable `end` events awaits the subprocess.\n// Like this, any subprocess failure is propagated as a stream `error` event, instead of being lost.\n// The user does not need to `await` the subprocess anymore, but now needs to await the stream completion or error.\n// When multiple writables are targeting the same stream, they wait for each other, unless the subprocess ends first.\nconst onWritableFinal = async (subprocessStdin, subprocess, waitWritableFinal) => {\n\tif (await waitForConcurrentStreams(waitWritableFinal, subprocess)) {\n\t\tif (subprocessStdin.writable) {\n\t\t\tsubprocessStdin.end();\n\t\t}\n\n\t\tawait subprocess;\n\t}\n};\n\n// When `subprocess.stdin` ends/aborts/errors, do the same on `writable`.\nexport const onStdinFinished = async (subprocessStdin, writable, subprocessStdout) => {\n\ttry {\n\t\tawait waitForSubprocessStdin(subprocessStdin);\n\t\tif (writable.writable) {\n\t\t\twritable.end();\n\t\t}\n\t} catch (error) {\n\t\tawait safeWaitForSubprocessStdout(subprocessStdout);\n\t\tdestroyOtherWritable(writable, error);\n\t}\n};\n\n// When `writable` aborts/errors, do the same on `subprocess.stdin`\nexport const onWritableDestroy = async ({subprocessStdin, subprocess, waitWritableFinal, waitWritableDestroy}, error) => {\n\tawait waitForConcurrentStreams(waitWritableFinal, subprocess);\n\tif (await waitForConcurrentStreams(waitWritableDestroy, subprocess)) {\n\t\tdestroyOtherWritable(subprocessStdin, error);\n\t\tawait waitForSubprocess(subprocess, error);\n\t}\n};\n\nconst destroyOtherWritable = (stream, error) => {\n\tdestroyOtherStream(stream, stream.writable, error);\n};\n", "import {Duplex} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {\n\tgetSubprocessStdout,\n\tgetReadableOptions,\n\tgetReadableMethods,\n\tonStdoutFinished,\n\tonReadableDestroy,\n} from './readable.js';\nimport {\n\tgetSubprocessStdin,\n\tgetWritableMethods,\n\tonStdinFinished,\n\tonWritableDestroy,\n} from './writable.js';\n\n// Create a `Duplex` stream combining both `subprocess.readable()` and `subprocess.writable()`\nexport const createDuplex = ({subprocess, concurrentStreams, encoding}, {from, to, binary: binaryOption = true, preserveNewlines = true} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {subprocessStdout, waitReadableDestroy} = getSubprocessStdout(subprocess, from, concurrentStreams);\n\tconst {subprocessStdin, waitWritableFinal, waitWritableDestroy} = getSubprocessStdin(subprocess, to, concurrentStreams);\n\tconst {readableEncoding, readableObjectMode, readableHighWaterMark} = getReadableOptions(subprocessStdout, binary);\n\tconst {read, onStdoutDataDone} = getReadableMethods({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\tconst duplex = new Duplex({\n\t\tread,\n\t\t...getWritableMethods(subprocessStdin, subprocess, waitWritableFinal),\n\t\tdestroy: callbackify(onDuplexDestroy.bind(undefined, {\n\t\t\tsubprocessStdout,\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitReadableDestroy,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t})),\n\t\treadableHighWaterMark,\n\t\twritableHighWaterMark: subprocessStdin.writableHighWaterMark,\n\t\treadableObjectMode,\n\t\twritableObjectMode: subprocessStdin.writableObjectMode,\n\t\tencoding: readableEncoding,\n\t});\n\tonStdoutFinished({\n\t\tsubprocessStdout,\n\t\tonStdoutDataDone,\n\t\treadable: duplex,\n\t\tsubprocess,\n\t\tsubprocessStdin,\n\t});\n\tonStdinFinished(subprocessStdin, duplex, subprocessStdout);\n\treturn duplex;\n};\n\nconst onDuplexDestroy = async ({subprocessStdout, subprocessStdin, subprocess, waitReadableDestroy, waitWritableFinal, waitWritableDestroy}, error) => {\n\tawait Promise.all([\n\t\tonReadableDestroy({subprocessStdout, subprocess, waitReadableDestroy}, error),\n\t\tonWritableDestroy({\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t}, error),\n\t]);\n};\n", "import {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {getFromStream} from '../arguments/fd-options.js';\nimport {iterateOnSubprocessStream} from '../io/iterate.js';\n\n// Convert the subprocess to an async iterable\nexport const createIterable = (subprocess, encoding, {\n\tfrom,\n\tbinary: binaryOption = false,\n\tpreserveNewlines = false,\n} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst subprocessStdout = getFromStream(subprocess, from);\n\tconst onStdoutData = iterateOnSubprocessStream({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tshouldEncode: true,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\treturn iterateOnStdoutData(onStdoutData, subprocessStdout, subprocess);\n};\n\nconst iterateOnStdoutData = async function * (onStdoutData, subprocessStdout, subprocess) {\n\ttry {\n\t\tyield * onStdoutData;\n\t} finally {\n\t\tif (subprocessStdout.readable) {\n\t\t\tsubprocessStdout.destroy();\n\t\t}\n\n\t\tawait subprocess;\n\t}\n};\n", "import {initializeConcurrentStreams} from './concurrent.js';\nimport {createReadable} from './readable.js';\nimport {createWritable} from './writable.js';\nimport {createDuplex} from './duplex.js';\nimport {createIterable} from './iterable.js';\n\n// Add methods to convert the subprocess to a stream or iterable\nexport const addConvertedStreams = (subprocess, {encoding}) => {\n\tconst concurrentStreams = initializeConcurrentStreams();\n\tsubprocess.readable = createReadable.bind(undefined, {subprocess, concurrentStreams, encoding});\n\tsubprocess.writable = createWritable.bind(undefined, {subprocess, concurrentStreams});\n\tsubprocess.duplex = createDuplex.bind(undefined, {subprocess, concurrentStreams, encoding});\n\tsubprocess.iterable = createIterable.bind(undefined, subprocess, encoding);\n\tsubprocess[Symbol.asyncIterator] = createIterable.bind(undefined, subprocess, encoding, {});\n};\n", "// The return value is a mixin of `subprocess` and `Promise`\nexport const mergePromise = (subprocess, promise) => {\n\tfor (const [property, descriptor] of descriptors) {\n\t\tconst value = descriptor.value.bind(promise);\n\t\tReflect.defineProperty(subprocess, property, {...descriptor, value});\n\t}\n};\n\n// eslint-disable-next-line unicorn/prefer-top-level-await\nconst nativePromisePrototype = (async () => {})().constructor.prototype;\n\nconst descriptors = ['then', 'catch', 'finally'].map(property => [\n\tproperty,\n\tReflect.getOwnPropertyDescriptor(nativePromisePrototype, property),\n]);\n", "import isPlainObject from 'is-plain-obj';\nimport {FD_SPECIFIC_OPTIONS} from '../arguments/specific.js';\n\n// Deep merge specific options like `env`. Shallow merge the other ones.\nexport const mergeOptions = (boundOptions, options) => {\n\tconst newOptions = Object.fromEntries(\n\t\tObject.entries(options).map(([optionName, optionValue]) => [\n\t\t\toptionName,\n\t\t\tmergeOption(optionName, boundOptions[optionName], optionValue),\n\t\t]),\n\t);\n\treturn {...boundOptions, ...newOptions};\n};\n\nconst mergeOption = (optionName, boundOptionValue, optionValue) => {\n\tif (DEEP_OPTIONS.has(optionName) && isPlainObject(boundOptionValue) && isPlainObject(optionValue)) {\n\t\treturn {...boundOptionValue, ...optionValue};\n\t}\n\n\treturn optionValue;\n};\n\nconst DEEP_OPTIONS = new Set(['env', ...FD_SPECIFIC_OPTIONS]);\n", "import isPlainObject from 'is-plain-obj';\nimport {normalizeParameters} from './parameters.js';\nimport {isTemplateString, parseTemplates} from './template.js';\nimport {execaCoreSync} from './main-sync.js';\nimport {execaCoreAsync} from './main-async.js';\nimport {mergeOptions} from './bind.js';\n\n// Wraps every exported methods to provide the following features:\n//  - template string syntax: execa`command argument`\n//  - options binding: boundExeca = execa(options)\n//  - optional argument/options: execa(file), execa(file, args), execa(file, options), execa(file, args, options)\n// `mapArguments()` and `setBoundExeca()` allows for method-specific logic.\nexport const createExeca = (mapArguments, boundOptions, deepOptions, setBoundExeca) => {\n\tconst createNested = (mapArguments, boundOptions, setBoundExeca) => createExeca(mapArguments, boundOptions, deepOptions, setBoundExeca);\n\tconst boundExeca = (...execaArguments) => callBoundExeca({\n\t\tmapArguments,\n\t\tdeepOptions,\n\t\tboundOptions,\n\t\tsetBoundExeca,\n\t\tcreateNested,\n\t}, ...execaArguments);\n\n\tif (setBoundExeca !== undefined) {\n\t\tsetBoundExeca(boundExeca, createNested, boundOptions);\n\t}\n\n\treturn boundExeca;\n};\n\nconst callBoundExeca = ({mapArguments, deepOptions = {}, boundOptions = {}, setBoundExeca, createNested}, firstArgument, ...nextArguments) => {\n\tif (isPlainObject(firstArgument)) {\n\t\treturn createNested(mapArguments, mergeOptions(boundOptions, firstArgument), setBoundExeca);\n\t}\n\n\tconst {file, commandArguments, options, isSync} = parseArguments({\n\t\tmapArguments,\n\t\tfirstArgument,\n\t\tnextArguments,\n\t\tdeepOptions,\n\t\tboundOptions,\n\t});\n\treturn isSync\n\t\t? execaCoreSync(file, commandArguments, options)\n\t\t: execaCoreAsync(file, commandArguments, options, createNested);\n};\n\nconst parseArguments = ({mapArguments, firstArgument, nextArguments, deepOptions, boundOptions}) => {\n\tconst callArguments = isTemplateString(firstArgument)\n\t\t? parseTemplates(firstArgument, nextArguments)\n\t\t: [firstArgument, ...nextArguments];\n\tconst [initialFile, initialArguments, initialOptions] = normalizeParameters(...callArguments);\n\tconst mergedOptions = mergeOptions(mergeOptions(deepOptions, boundOptions), initialOptions);\n\tconst {\n\t\tfile = initialFile,\n\t\tcommandArguments = initialArguments,\n\t\toptions = mergedOptions,\n\t\tisSync = false,\n\t} = mapArguments({file: initialFile, commandArguments: initialArguments, options: mergedOptions});\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tisSync,\n\t};\n};\n", "// Main logic for `execaCommand()`\nexport const mapCommandAsync = ({file, commandArguments}) => parseCommand(file, commandArguments);\n\n// Main logic for `execaCommandSync()`\nexport const mapCommandSync = ({file, commandArguments}) => ({...parseCommand(file, commandArguments), isSync: true});\n\n// Convert `execaCommand(command)` into `execa(file, ...commandArguments)`\nconst parseCommand = (command, unusedArguments) => {\n\tif (unusedArguments.length > 0) {\n\t\tthrow new TypeError(`The command and its arguments must be passed as a single string: ${command} ${unusedArguments}.`);\n\t}\n\n\tconst [file, ...commandArguments] = parseCommandString(command);\n\treturn {file, commandArguments};\n};\n\n// Convert `command` string into an array of file or arguments to pass to $`${...fileOrCommandArguments}`\nexport const parseCommandString = command => {\n\tif (typeof command !== 'string') {\n\t\tthrow new TypeError(`The command must be a string: ${String(command)}.`);\n\t}\n\n\tconst trimmedCommand = command.trim();\n\tif (trimmedCommand === '') {\n\t\treturn [];\n\t}\n\n\tconst tokens = [];\n\tfor (const token of trimmedCommand.split(SPACES_REGEXP)) {\n\t\t// Allow spaces to be escaped by a backslash if not meant as a delimiter\n\t\tconst previousToken = tokens.at(-1);\n\t\tif (previousToken && previousToken.endsWith('\\\\')) {\n\t\t\t// Merge previous token with current one\n\t\t\ttokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n\t\t} else {\n\t\t\ttokens.push(token);\n\t\t}\n\t}\n\n\treturn tokens;\n};\n\nconst SPACES_REGEXP = / +/g;\n", "// Sets `$.sync` and `$.s`\nexport const setScriptSync = (boundExeca, createNested, boundOptions) => {\n\tboundExeca.sync = createNested(mapScriptSync, boundOptions);\n\tboundExeca.s = boundExeca.sync;\n};\n\n// Main logic for `$`\nexport const mapScriptAsync = ({options}) => getScriptOptions(options);\n\n// Main logic for `$.sync`\nconst mapScriptSync = ({options}) => ({...getScriptOptions(options), isSync: true});\n\n// `$` is like `execa` but with script-friendly options: `{stdin: 'inherit', preferLocal: true}`\nconst getScriptOptions = options => ({options: {...getScriptStdinOption(options), ...options}});\n\nconst getScriptStdinOption = ({input, inputFile, stdio}) => input === undefined && inputFile === undefined && stdio === undefined\n\t? {stdin: 'inherit'}\n\t: {};\n\n// When using $(...).pipe(...), most script-friendly options should apply to both commands.\n// However, some options (like `stdin: 'inherit'`) would create issues with piping, i.e. cannot be deep.\nexport const deepScriptOptions = {preferLocal: true};\n", "import {createExeca} from './lib/methods/create.js';\nimport {mapCommandAsync, mapCommandSync} from './lib/methods/command.js';\nimport {mapNode} from './lib/methods/node.js';\nimport {mapScriptAsync, setScriptSync, deepScriptOptions} from './lib/methods/script.js';\nimport {getIpcExport} from './lib/ipc/methods.js';\n\nexport {parseCommandString} from './lib/methods/command.js';\nexport {ExecaError, ExecaSyncError} from './lib/return/final-error.js';\n\nexport const execa = createExeca(() => ({}));\nexport const execaSync = createExeca(() => ({isSync: true}));\nexport const execaCommand = createExeca(mapCommandAsync);\nexport const execaCommandSync = createExeca(mapCommandSync);\nexport const execaNode = createExeca(mapNode);\nexport const $ = createExeca(mapScriptAsync, {}, deepScriptOptions, setScriptSync);\n\nconst {\n\tsendMessage,\n\tgetOneMessage,\n\tgetEachMessage,\n\tgetCancelSignal,\n} = getIpcExport();\nexport {\n\tsendMessage,\n\tgetOneMessage,\n\tgetEachMessage,\n\tgetCancelSignal,\n};\n", "import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tpromise.then(resolve, reject);\n\t\t\treturn;\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", "// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n", "import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            run,\n        };\n        if (this.size && this.#queue[this.size - 1].priority >= options.priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n", "import { EventEmitter } from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverConcurrencyCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #interval;\n    #intervalEnd = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    #throwOnTimeout;\n    /**\n    Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n\n    Applies to each future operation.\n    */\n    timeout;\n    // TODO: The `throwOnTimeout` option should affect the return types of `add()` and `addAll()`\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        this.#carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        this.#throwOnTimeout = options.throwOnTimeout === true;\n        this.#isPaused = options.autoStart === false;\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval();\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this.#intervalCount = (this.#carryoverConcurrencyCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this.#timeoutId === undefined) {\n                    this.#timeoutId = setTimeout(() => {\n                        this.#onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this.#intervalId) {\n                clearInterval(this.#intervalId);\n            }\n            this.#intervalId = undefined;\n            this.emit('empty');\n            if (this.#pending === 0) {\n                this.emit('idle');\n            }\n            return false;\n        }\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                if (!job) {\n                    return false;\n                }\n                this.emit('active');\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n        this.#intervalCount = this.#carryoverConcurrencyCount ? this.#pending : 0;\n        this.#processQueue();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    async #throwOnAbort(signal) {\n        return new Promise((_resolve, reject) => {\n            signal.addEventListener('abort', () => {\n                reject(signal.reason);\n            }, { once: true });\n        });\n    }\n    async add(function_, options = {}) {\n        options = {\n            timeout: this.timeout,\n            throwOnTimeout: this.#throwOnTimeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                this.#intervalCount++;\n                try {\n                    options.signal?.throwIfAborted();\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), { milliseconds: options.timeout });\n                    }\n                    if (options.signal) {\n                        operation = Promise.race([operation, this.#throwOnAbort(options.signal)]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    if (error instanceof TimeoutError && !options.throwOnTimeout) {\n                        resolve();\n                        return;\n                    }\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    this.#next();\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\n\nexport interface Preferences {\n    /** Shows match context as subtitles when searching. */\n    showSearchContext: boolean;\n\n    /** Shows the folder name for each snippet in the accessories area. */\n    showFolder: boolean;\n\n    /** Shows tag names for each snippet in the accessories area. */\n    showTags: boolean;\n\n    /** Shows languages for each snippet in the accessories area. */\n    showLanguages: boolean;\n\n    /** Saves the last used search filter across launches. */\n    persistSearchFilter: boolean;\n\n    /** The first snippet action in action panel. */\n    primaryAction: string;\n\n    /** The second snippet action in action panel. */\n    secondaryAction: string;\n\n    /** Absolute path of the location of the `lab` command-line utility. */\n    cliPath?: string;\n}\n\nexport function getPreferences() {\n    return getPreferenceValues<Preferences>();\n}\n", "import { List, Toast, showToast } from \"@raycast/api\";\nimport { useEffect, useState } from \"react\";\nimport { SnippetListItem } from \"./components/list_item\";\nimport { SearchFilterDropdown } from \"./components/search_filter\";\nimport { SnippetsLab } from \"./hooks/useSnippetsLab\";\nimport type { CLIListFiltersResponse, CLISearchJSONResponse } from \"./models/response\";\nimport { Snippet } from \"./models/snippet\";\n\ninterface SnippetsSearchProps {\n    app: SnippetsLab;\n\n    /** The initial search text to populate (e.g. fallback text when used as a fallback command.) */\n    searchText?: string;\n}\n\n/** Implementation of the main search functionality. */\nexport function SnippetsSearch({ app, searchText: initialSearchText }: SnippetsSearchProps) {\n    /**\n     * The number of tasks that are running; a loading indicator may be used when this value is\n     * greater than 0.\n     */\n    const [loadingDepth, setLoadingDepth] = useState(0);\n    const [snippets, setSnippets] = useState<Snippet[]>();\n    const [availableFilters, setAvailableFilters] = useState<CLIListFiltersResponse>();\n    const [searchFilter, setSearchFilter] = useState<string>();\n    const [searchText, setSearchText] = useState<string>(initialSearchText || \"\");\n\n    useEffect(() => {\n        fetchSearchFilters();\n    }, []);\n\n    useEffect(() => {\n        performSearch();\n    }, [searchText, searchFilter]);\n\n    const fetchSearchFilters = async () => {\n        try {\n            setLoadingDepth((prev) => prev + 1);\n            const output = await app.run(\"list\", [\"filters\"]);\n            const response = JSON.parse(output) as CLIListFiltersResponse;\n            setAvailableFilters(response);\n        } catch (error) {\n            showToast(Toast.Style.Failure, \"An error occurred\");\n            console.error(error);\n        } finally {\n            setLoadingDepth((prev) => prev - 1);\n        }\n    };\n\n    const performSearch = async () => {\n        try {\n            setLoadingDepth((prev) => prev + 1);\n            // Empty query returns all snippets.\n            const query = searchText || \"\";\n            const components = searchFilter?.includes(\":\") ? searchFilter?.split(\":\") : null;\n            const args = components\n                ? [`--${components[0]}`, components[1], \"--\", query]\n                : [\"--\", query];\n            const output = await app.run(\"search\", args);\n            const response = JSON.parse(output) as CLISearchJSONResponse;\n            setSnippets(response.snippets.map((snippet) => new Snippet(snippet)));\n        } catch (error) {\n            if (error instanceof Error && error.message === \"AbortError\") {\n                return;\n            }\n            showToast(Toast.Style.Failure, \"An error occurred\");\n            // If we run into an error during the initial request, initialize the list as empty.\n            setSnippets((prev) => (prev ? prev : []));\n            console.error(error);\n        } finally {\n            setLoadingDepth((prev) => prev - 1);\n        }\n    };\n\n    return (\n        <List\n            searchBarPlaceholder=\"Search in SnippetsLab\u2026\"\n            searchBarAccessory={\n                <SearchFilterDropdown filters={availableFilters} onChange={setSearchFilter} />\n            }\n            onSearchTextChange={setSearchText}\n            isLoading={snippets === undefined || loadingDepth > 0}\n        >\n            {snippets?.map((snippet) => (\n                <SnippetListItem key={snippet.uuid} app={app} snippet={snippet} />\n            ))}\n        </List>\n    );\n}\n", "import { Icon, List } from \"@raycast/api\";\nimport { SnippetsLab } from \"../hooks/useSnippetsLab\";\nimport { getPreferences } from \"../models/preferences\";\nimport type { Snippet } from \"../models/snippet\";\nimport { SnippetActions } from \"./actions\";\n\ninterface SnippetListItemProps {\n    app: SnippetsLab;\n    snippet: Snippet;\n}\n\n/** A list item in the search result. */\nexport function SnippetListItem({ app, snippet }: SnippetListItemProps) {\n    const preferences = getPreferences();\n    const accessories = [];\n\n    if (preferences.showTags && snippet.tags.length > 0) {\n        accessories.push({ text: snippet.tags.join(\", \"), icon: Icon.Tag });\n    }\n\n    if (preferences.showLanguages && snippet.languages.length > 0) {\n        accessories.push({ text: snippet.languages.join(\", \"), icon: Icon.Code });\n    }\n\n    if (preferences.showFolder && snippet.folder) {\n        accessories.push({ text: snippet.folder, icon: Icon.Folder });\n    }\n\n    return (\n        <List.Item\n            key={snippet.uuid}\n            title={snippet.title}\n            subtitle={preferences.showSearchContext ? snippet.context : undefined}\n            accessories={accessories}\n            actions={<SnippetActions app={app} snippet={snippet} allowsPush />}\n        />\n    );\n}\n", "import { Action, ActionPanel, Icon, getPreferenceValues } from \"@raycast/api\";\nimport type { SnippetsLab } from \"../hooks/useSnippetsLab\";\nimport type { Fragment } from \"../models/fragment\";\nimport type { Preferences } from \"../models/preferences\";\nimport type { Snippet } from \"../models/snippet\";\nimport { SnippetDetails } from \"./details\";\n\ninterface SnippetActionsProps {\n    app: SnippetsLab;\n    snippet: Snippet;\n\n    /**\n     * An optional fragment to use for the actions. If not provided, the suggested fragment of the\n     * snippet will be used, which is the first fragment that matches the search query.\n     */\n    fragment?: Fragment;\n\n    /** Whether to include the \"show details\" action. */\n    allowsPush?: boolean;\n}\n\n/** Raw values must be kept in sync with preferences. */\nenum ActionType {\n    COPY_TO_CLIPBOARD = \"copy\",\n    PASTE_TO_ACTIVE_APP = \"paste\",\n    OPEN_IN_SNIPPETSLAB = \"open\",\n    SHOW_DETAILS = \"push\",\n}\n\n/** Action panel for a single snippet. */\nexport function SnippetActions({ app, snippet, fragment, allowsPush }: SnippetActionsProps) {\n    const preferences = getPreferenceValues<Preferences>();\n    const actualFragment = fragment || snippet.suggestedFragment;\n\n    const getActionComponent = (action: string) => {\n        switch (action) {\n            case ActionType.COPY_TO_CLIPBOARD:\n                return (\n                    <Action.CopyToClipboard\n                        key={action}\n                        title=\"Copy to Clipboard\"\n                        icon={Icon.Clipboard}\n                        content={actualFragment.content}\n                    />\n                );\n            case ActionType.PASTE_TO_ACTIVE_APP:\n                return (\n                    <Action.Paste\n                        key={action}\n                        title=\"Paste to Active App\"\n                        icon={Icon.Text}\n                        content={actualFragment.content}\n                    />\n                );\n            case ActionType.OPEN_IN_SNIPPETSLAB:\n                return (\n                    <Action\n                        key={action}\n                        title=\"Open in SnippetsLab\"\n                        icon=\"app-icon-sm.png\"\n                        onAction={async () => await app.open(snippet.uuid, actualFragment.uuid)}\n                    />\n                );\n            case ActionType.SHOW_DETAILS:\n                return allowsPush ? (\n                    <Action.Push\n                        key={action}\n                        title=\"Show Details\"\n                        icon={Icon.Eye}\n                        target={<SnippetDetails app={app} snippet={snippet} />}\n                    />\n                ) : null;\n            default:\n                return null;\n        }\n    };\n\n    const actions = new Set<string>();\n\n    actions.add(preferences.primaryAction);\n    actions.add(preferences.secondaryAction);\n\n    // The default ordering for any actions that is not primary or secondary.\n    actions.add(ActionType.SHOW_DETAILS);\n    actions.add(ActionType.COPY_TO_CLIPBOARD);\n    actions.add(ActionType.OPEN_IN_SNIPPETSLAB);\n    actions.add(ActionType.PASTE_TO_ACTIVE_APP);\n\n    return (\n        <ActionPanel>{Array.from(actions).map((action) => getActionComponent(action))}</ActionPanel>\n    );\n}\n", "import { Detail, List } from \"@raycast/api\";\nimport { SnippetsLab } from \"../hooks/useSnippetsLab\";\nimport type { Snippet } from \"../models/snippet\";\nimport { SnippetActions } from \"./actions\";\n\n/**\n * Max snippet content length, in utf-16 code units, to render in a details view. This is limited\n * because Markdown rendering in Raycast appears to take superlinear time and blocks the UI thread\n * while rendering.\n */\nconst DETAILS_LIMIT = 10_000;\n\ninterface SnippetDetailsProps {\n    app: SnippetsLab;\n    snippet: Snippet;\n}\n\n/**\n * Details view for a snippet.\n *\n * If the snippet has multiple fragments, this shows a master-detail style list of each fragment.\n * Otherwise, it shows the content of the suggested fragment matching the search query.\n */\nexport function SnippetDetails({ app, snippet }: SnippetDetailsProps) {\n    if (snippet.fragments.length > 1) {\n        return (\n            <List\n                navigationTitle={snippet.title}\n                searchBarPlaceholder={snippet.title}\n                isShowingDetail\n            >\n                {snippet.fragments.map((fragment) => (\n                    <List.Item\n                        key={fragment.uuid}\n                        title={fragment.title}\n                        detail={<List.Item.Detail markdown={fragment.getMarkdown(DETAILS_LIMIT)} />}\n                        actions={<SnippetActions app={app} snippet={snippet} fragment={fragment} />}\n                    />\n                ))}\n            </List>\n        );\n    } else {\n        return (\n            <Detail\n                navigationTitle={snippet.title}\n                markdown={snippet.suggestedFragment.getMarkdown(DETAILS_LIMIT)}\n                actions={<SnippetActions app={app} snippet={snippet} />}\n            />\n        );\n    }\n}\n", "import { List } from \"@raycast/api\";\nimport { getPreferences } from \"../models/preferences\";\nimport type { CLIFilter, CLIListFiltersResponse } from \"../models/response\";\n\ninterface SearchFilterDropdownProps {\n    filters?: CLIListFiltersResponse;\n\n    /**\n     * Callback for when the dropdown selection changes.\n     *\n     * @param newValue The value takes the format of `<type>:<id>`, where `type` is the type of the\n     * filter (e.g., `folder`, `tag`, `language`) and `id` is the unique identifier. These values\n     * can be passed to the cli in the form of `--type id`.\n     *\n     * Note that although the CLI supports multiple filters, only one can be selected with the UI.\n     */\n    onChange: (newValue: string) => void;\n}\n\n/** Dropdown for all available search filters (folders, tags, languages). */\nexport function SearchFilterDropdown({ filters, onChange }: SearchFilterDropdownProps) {\n    const persist = getPreferences().persistSearchFilter;\n\n    if (!filters) {\n        return null;\n    }\n\n    return (\n        <List.Dropdown\n            tooltip=\"Search filters\"\n            storeValue={persist}\n            onChange={(newValue) => onChange(newValue)}\n        >\n            <>\n                <List.Dropdown.Item title=\"All Snippets\" value=\"\" />\n                <List.Dropdown.Section title=\"Folders\">\n                    {filters.folders.map((filter: CLIFilter) => (\n                        <List.Dropdown.Item\n                            key={filter.id}\n                            title={filter.name}\n                            value={`folder:${filter.id}`}\n                        />\n                    ))}\n                </List.Dropdown.Section>\n                <List.Dropdown.Section title=\"Tags\">\n                    {filters.tags.map((filter: CLIFilter) => (\n                        <List.Dropdown.Item\n                            key={filter.id}\n                            title={filter.name}\n                            value={`tag:${filter.id}`}\n                        />\n                    ))}\n                </List.Dropdown.Section>\n                <List.Dropdown.Section title=\"Languages\">\n                    {filters.languages.map((filter: CLIFilter) => (\n                        <List.Dropdown.Item\n                            key={filter.id}\n                            title={filter.name}\n                            value={`language:${filter.id}`}\n                        />\n                    ))}\n                </List.Dropdown.Section>\n            </>\n        </List.Dropdown>\n    );\n}\n", "import type { CLIFragment } from \"./response\";\n\nexport class Fragment {\n    constructor(private readonly fragment: CLIFragment) {}\n\n    get uuid(): string {\n        return this.fragment.uuid;\n    }\n\n    /**\n     * Title of the fragment.\n     *\n     * For snippets with only a single fragment, this name is likely generic (such as \"Fragment\")\n     * and cannot be set or seen by the user in the SnippetsLab app.\n     */\n    get title(): string {\n        return this.fragment.title;\n    }\n\n    /** Display name of the language, for example \"C++\". */\n    get languageName(): string {\n        return this.fragment.languageName;\n    }\n\n    /**\n     * Alias of the language, for example \"cpp\".\n     *\n     * This is often the name to use in Markdown code blocks, vim and emacs mode lines, etc.\n     */\n    get languageAlias(): string {\n        return this.fragment.languageAlias;\n    }\n\n    /** Unique lexer identifier of the language, for example \"CppLexer\". */\n    get languageID(): string {\n        return this.fragment.languageID;\n    }\n\n    get note(): string {\n        return this.fragment.note;\n    }\n\n    get content(): string {\n        return this.fragment.content;\n    }\n\n    /** The contents of the fragment in Markdown, limited to the given length. */\n    getMarkdown(maxLength?: number): string {\n        let content = this.content;\n\n        // TODO: `substring` does not handle unicode composed characters correctly.\n        if (maxLength && content.length > maxLength) {\n            content = content.substring(0, maxLength) + \"\u2026\";\n        }\n\n        if (this.languageID === \"MarkdownLexer\") {\n            return content;\n        } else {\n            return \"```\" + this.languageAlias + \"\\n\" + content + \"\\n```\";\n        }\n    }\n}\n", "import { Fragment } from \"./fragment\";\nimport type { CLISnippet } from \"./response\";\n\nexport class Snippet {\n    readonly fragments: Fragment[];\n\n    constructor(private readonly snippet: CLISnippet) {\n        this.fragments = this.snippet.fragments.map((fragment) => new Fragment(fragment));\n    }\n\n    get uuid(): string {\n        return this.snippet.uuid;\n    }\n\n    get title(): string {\n        return this.snippet.title;\n    }\n\n    get folder(): string {\n        return this.snippet.folder;\n    }\n\n    get tags(): string[] {\n        return this.snippet.tags;\n    }\n\n    get languages(): string[] {\n        return [...new Set(this.fragments.map((fragment) => fragment.languageName))];\n    }\n\n    /** The first fragment that matches the search query. */\n    get suggestedFragment(): Fragment {\n        return this.fragments[this.snippet.suggestedIndex];\n    }\n\n    /** The context window around the first match of the query. */\n    get context(): string {\n        return this.snippet.context;\n    }\n}\n"],
  "mappings": "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SACL,OAAO,EACP,OAAO,YACP,YAAY,oDACZ,SAAS,OACT,EACA,CACA,KAAK,SACL,OAAO,EACP,OAAO,OACP,YAAY,kCACZ,SAAS,MACT,EACA,CACA,KAAK,UACL,OAAO,EACP,OAAO,YACP,YAAY,qBACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,8BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,OACP,YAAY,qBACZ,SAAS,MACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,8BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,wBACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,mBACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,cACZ,SAAS,MACT,EACA,CACA,KAAK,YACL,OAAO,GACP,OAAO,YACP,YAAY,+BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,SACP,YAAY,+CACZ,SAAS,OACT,EACA,CACA,KAAK,SACL,OAAO,GACP,OAAO,SACP,YAAY,+CACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,UACP,YAAY,WACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,SACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,mCACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,gDACZ,SAAS,OACT,EACA,CACA,KAAK,WACL,OAAO,GACP,OAAO,YACP,YAAY,oCACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,qDACZ,SAAS,OACT,EACA,CACA,KAAK,SACL,OAAO,GACP,OAAO,SACP,YAAY,mCACZ,SAAS,KACT,EACA,CACA,KAAK,UACL,OAAO,GACP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",
  "names": ["require_constants", "__commonJSMin", "exports", "module", "SEMVER_SPEC_VERSION", "MAX_SAFE_INTEGER", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "RELEASE_TYPES", "require_debug", "__commonJSMin", "exports", "module", "debug", "args", "require_re", "__commonJSMin", "exports", "module", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "MAX_LENGTH", "debug", "re", "safeRe", "src", "t", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRegex", "value", "token", "max", "createToken", "name", "isGlobal", "safe", "index", "require_parse_options", "__commonJSMin", "exports", "module", "looseOption", "emptyOpts", "parseOptions", "options", "require_identifiers", "__commonJSMin", "exports", "module", "numeric", "compareIdentifiers", "a", "b", "anum", "bnum", "rcompareIdentifiers", "require_semver", "__commonJSMin", "exports", "module", "debug", "MAX_LENGTH", "MAX_SAFE_INTEGER", "re", "t", "parseOptions", "compareIdentifiers", "SemVer", "_SemVer", "version", "options", "m", "id", "num", "other", "i", "a", "b", "release", "identifier", "identifierBase", "base", "prerelease", "require_parse", "__commonJSMin", "exports", "module", "SemVer", "parse", "version", "options", "throwErrors", "er", "require_valid", "__commonJSMin", "exports", "module", "parse", "valid", "version", "options", "v", "require_clean", "__commonJSMin", "exports", "module", "parse", "clean", "version", "options", "s", "require_inc", "__commonJSMin", "exports", "module", "SemVer", "inc", "version", "release", "options", "identifier", "identifierBase", "require_diff", "__commonJSMin", "exports", "module", "parse", "diff", "version1", "version2", "v1", "v2", "comparison", "v1Higher", "highVersion", "lowVersion", "highHasPre", "prefix", "require_major", "__commonJSMin", "exports", "module", "SemVer", "major", "a", "loose", "require_minor", "__commonJSMin", "exports", "module", "SemVer", "minor", "a", "loose", "require_patch", "__commonJSMin", "exports", "module", "SemVer", "patch", "a", "loose", "require_prerelease", "__commonJSMin", "exports", "module", "parse", "prerelease", "version", "options", "parsed", "require_compare", "__commonJSMin", "exports", "module", "SemVer", "compare", "a", "b", "loose", "require_rcompare", "__commonJSMin", "exports", "module", "compare", "rcompare", "a", "b", "loose", "require_compare_loose", "__commonJSMin", "exports", "module", "compare", "compareLoose", "a", "b", "require_compare_build", "__commonJSMin", "exports", "module", "SemVer", "compareBuild", "a", "b", "loose", "versionA", "versionB", "require_sort", "__commonJSMin", "exports", "module", "compareBuild", "sort", "list", "loose", "a", "b", "require_rsort", "__commonJSMin", "exports", "module", "compareBuild", "rsort", "list", "loose", "a", "b", "require_gt", "__commonJSMin", "exports", "module", "compare", "gt", "a", "b", "loose", "require_lt", "__commonJSMin", "exports", "module", "compare", "lt", "a", "b", "loose", "require_eq", "__commonJSMin", "exports", "module", "compare", "eq", "a", "b", "loose", "require_neq", "__commonJSMin", "exports", "module", "compare", "neq", "a", "b", "loose", "require_gte", "__commonJSMin", "exports", "module", "compare", "gte", "a", "b", "loose", "require_lte", "__commonJSMin", "exports", "module", "compare", "lte", "a", "b", "loose", "require_cmp", "__commonJSMin", "exports", "module", "eq", "neq", "gt", "gte", "lt", "lte", "cmp", "a", "op", "b", "loose", "require_coerce", "__commonJSMin", "exports", "module", "SemVer", "parse", "re", "t", "coerce", "version", "options", "match", "coerceRtlRegex", "next", "major", "minor", "patch", "prerelease", "build", "require_lrucache", "__commonJSMin", "exports", "module", "LRUCache", "key", "value", "firstKey", "require_range", "__commonJSMin", "exports", "module", "SPACE_CHARACTERS", "Range", "_Range", "range", "options", "parseOptions", "Comparator", "r", "c", "first", "isNullSet", "isAny", "i", "comps", "k", "memoKey", "FLAG_INCLUDE_PRERELEASE", "FLAG_LOOSE", "cached", "cache", "loose", "hr", "re", "t", "hyphenReplace", "debug", "comparatorTrimReplace", "tildeTrimReplace", "caretTrimReplace", "rangeList", "comp", "parseComparator", "replaceGTE0", "rangeMap", "comparators", "result", "thisComparators", "isSatisfiable", "rangeComparators", "thisComparator", "rangeComparator", "version", "SemVer", "testSet", "LRU", "remainingComparators", "testComparator", "otherComparator", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "id", "replaceTilde", "_", "M", "m", "p", "pr", "ret", "replaceCaret", "z", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "incPr", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "set", "allowed", "require_comparator", "__commonJSMin", "exports", "module", "ANY", "Comparator", "_Comparator", "comp", "options", "parseOptions", "debug", "re", "t", "m", "SemVer", "version", "cmp", "Range", "require_satisfies", "__commonJSMin", "exports", "module", "Range", "satisfies", "version", "range", "options", "require_to_comparators", "__commonJSMin", "exports", "module", "Range", "toComparators", "range", "options", "comp", "c", "require_max_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "maxSatisfying", "versions", "range", "options", "max", "maxSV", "rangeObj", "v", "require_min_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "minSatisfying", "versions", "range", "options", "min", "minSV", "rangeObj", "v", "require_min_version", "__commonJSMin", "exports", "module", "SemVer", "Range", "gt", "minVersion", "range", "loose", "minver", "i", "comparators", "setMin", "comparator", "compver", "require_valid", "__commonJSMin", "exports", "module", "Range", "validRange", "range", "options", "require_outside", "__commonJSMin", "exports", "module", "SemVer", "Comparator", "ANY", "Range", "satisfies", "gt", "lt", "lte", "gte", "outside", "version", "range", "hilo", "options", "gtfn", "ltefn", "ltfn", "comp", "ecomp", "i", "comparators", "high", "low", "comparator", "require_gtr", "__commonJSMin", "exports", "module", "outside", "gtr", "version", "range", "options", "require_ltr", "__commonJSMin", "exports", "module", "outside", "ltr", "version", "range", "options", "require_intersects", "__commonJSMin", "exports", "module", "Range", "intersects", "r1", "r2", "options", "require_simplify", "__commonJSMin", "exports", "module", "satisfies", "compare", "versions", "range", "options", "set", "first", "prev", "v", "a", "b", "version", "ranges", "min", "max", "simplified", "original", "require_subset", "__commonJSMin", "exports", "module", "Range", "Comparator", "ANY", "satisfies", "compare", "subset", "sub", "dom", "options", "sawNonNull", "OUTER", "simpleSub", "simpleDom", "isSub", "simpleSubset", "minimumVersionWithPreRelease", "minimumVersion", "eqSet", "gt", "lt", "c", "higherGT", "lowerLT", "gtltComp", "eq", "higher", "lower", "hasDomLT", "hasDomGT", "needDomLTPre", "needDomGTPre", "a", "b", "comp", "require_semver", "__commonJSMin", "exports", "module", "internalRe", "constants", "SemVer", "identifiers", "parse", "valid", "clean", "inc", "diff", "major", "minor", "patch", "prerelease", "compare", "rcompare", "compareLoose", "compareBuild", "sort", "rsort", "gt", "lt", "eq", "neq", "gte", "lte", "cmp", "coerce", "Comparator", "Range", "satisfies", "toComparators", "maxSatisfying", "minSatisfying", "minVersion", "validRange", "outside", "gtr", "ltr", "intersects", "simplifyRange", "subset", "require_windows", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "checkPathExt", "path", "options", "pathext", "i", "p", "checkStat", "stat", "cb", "er", "require_mode", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "path", "options", "cb", "er", "stat", "checkStat", "checkMode", "mod", "uid", "gid", "myUid", "myGid", "u", "g", "o", "ug", "ret", "require_isexe", "__commonJSMin", "exports", "module", "fs", "core", "isexe", "sync", "path", "options", "cb", "resolve", "reject", "er", "is", "require_which", "__commonJSMin", "exports", "module", "isWindows", "path", "COLON", "isexe", "getNotFoundError", "cmd", "getPathInfo", "opt", "colon", "pathEnv", "pathExtExe", "pathExt", "which", "cb", "found", "step", "i", "resolve", "reject", "ppRaw", "pathPart", "pCmd", "p", "subStep", "ii", "ext", "er", "is", "res", "whichSync", "j", "cur", "require_path_key", "__commonJSMin", "exports", "module", "pathKey", "options", "environment", "key", "require_resolveCommand", "__commonJSMin", "exports", "module", "path", "which", "getPathKey", "resolveCommandAttempt", "parsed", "withoutPathExt", "env", "cwd", "hasCustomCwd", "shouldSwitchCwd", "resolved", "resolveCommand", "require_escape", "__commonJSMin", "exports", "module", "metaCharsRegExp", "escapeCommand", "arg", "escapeArgument", "doubleEscapeMetaChars", "require_shebang_regex", "__commonJSMin", "exports", "module", "require_shebang_command", "__commonJSMin", "exports", "module", "shebangRegex", "string", "match", "path", "argument", "binary", "require_readShebang", "__commonJSMin", "exports", "module", "fs", "shebangCommand", "readShebang", "command", "buffer", "fd", "require_parse", "__commonJSMin", "exports", "module", "path", "resolveCommand", "escape", "readShebang", "isWin", "isExecutableRegExp", "isCmdShimRegExp", "detectShebang", "parsed", "shebang", "parseNonShell", "commandFile", "needsShell", "needsDoubleEscapeMetaChars", "arg", "shellCommand", "parse", "command", "args", "options", "require_enoent", "__commonJSMin", "exports", "module", "isWin", "notFoundError", "original", "syscall", "hookChildProcess", "cp", "parsed", "originalEmit", "name", "arg1", "err", "verifyENOENT", "status", "verifyENOENTSync", "require_cross_spawn", "__commonJSMin", "exports", "module", "cp", "parse", "enoent", "spawn", "command", "args", "options", "parsed", "spawned", "spawnSync", "result", "require_eventemitter3", "__commonJSMin", "exports", "module", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "clearEvent", "EventEmitter", "names", "events", "name", "handlers", "l", "ee", "listeners", "a1", "a2", "a3", "a4", "a5", "len", "args", "i", "length", "j", "require_conventions", "__commonJSMin", "exports", "find", "list", "predicate", "ac", "i", "item", "freeze", "object", "oc", "assign", "target", "source", "key", "MIME_TYPE", "value", "NAMESPACE", "uri", "require_dom", "__commonJSMin", "exports", "conventions", "find", "NAMESPACE", "notEmptyString", "input", "splitOnASCIIWhitespace", "orderedSetReducer", "current", "element", "toOrderedSet", "list", "arrayIncludes", "copy", "src", "dest", "p", "_extends", "Class", "Super", "pt", "t", "NodeType", "ELEMENT_NODE", "ATTRIBUTE_NODE", "TEXT_NODE", "CDATA_SECTION_NODE", "ENTITY_REFERENCE_NODE", "ENTITY_NODE", "PROCESSING_INSTRUCTION_NODE", "COMMENT_NODE", "DOCUMENT_NODE", "DOCUMENT_TYPE_NODE", "DOCUMENT_FRAGMENT_NODE", "NOTATION_NODE", "ExceptionCode", "ExceptionMessage", "INDEX_SIZE_ERR", "DOMSTRING_SIZE_ERR", "HIERARCHY_REQUEST_ERR", "WRONG_DOCUMENT_ERR", "INVALID_CHARACTER_ERR", "NO_DATA_ALLOWED_ERR", "NO_MODIFICATION_ALLOWED_ERR", "NOT_FOUND_ERR", "NOT_SUPPORTED_ERR", "INUSE_ATTRIBUTE_ERR", "INVALID_STATE_ERR", "SYNTAX_ERR", "INVALID_MODIFICATION_ERR", "NAMESPACE_ERR", "INVALID_ACCESS_ERR", "DOMException", "code", "message", "error", "NodeList", "index", "isHTML", "nodeFilter", "buf", "i", "serializeToString", "predicate", "item", "LiveNodeList", "node", "refresh", "_updateLiveList", "inc", "ls", "__set__", "NamedNodeMap", "_findNodeIndex", "_addNamedNode", "el", "newAttr", "oldAttr", "doc", "_onRemoveAttribute", "_onAddAttribute", "_removeNamedNode", "attr", "lastIndex", "key", "namespaceURI", "localName", "DOMImplementation", "feature", "version", "qualifiedName", "doctype", "Document", "root", "publicId", "systemId", "DocumentType", "Node", "newChild", "refChild", "_insertBefore", "oldChild", "assertPreReplacementValidityInDocument", "_removeChild", "deep", "cloneNode", "child", "next", "map", "prefix", "_xmlEncoder", "c", "_visitNode", "callback", "ns", "remove", "_onUpdateChild", "cs", "parentNode", "previous", "hasValidParentNodeType", "hasInsertableNodeType", "isElementNode", "isTextNode", "isDocTypeNode", "isElementInsertionPossible", "parentChildNodes", "docTypeNode", "isElementReplacementPossible", "hasElementChildThatIsNotChild", "assertPreInsertionValidity1to5", "parent", "assertPreInsertionValidityInDocument", "nodeChildNodes", "nodeChildElements", "parentElementChild", "hasDoctypeChildThatIsNotChild", "_inDocumentAssertion", "cp", "newFirst", "newLast", "pre", "_appendSingleChild", "importedNode", "importNode", "id", "rtv", "classNames", "classNamesSet", "base", "nodeClassNames", "matches", "nodeClassNamesSet", "tagName", "Element", "attrs", "DocumentFragment", "data", "Text", "Comment", "CDATASection", "target", "ProcessingInstruction", "name", "Attr", "EntityReference", "pl", "value", "old", "CharacterData", "offset", "count", "text", "start", "end", "newText", "newNode", "Notation", "Entity", "XMLSerializer", "isHtml", "nodeSerializeToString", "refNode", "uri", "visibleNamespaces", "needNamespaceDefine", "addSerializedAttribute", "len", "nodeName", "prefixedNodeName", "defaultNS", "ai", "nsi", "namespace", "pubid", "sysid", "sub", "node2", "n", "v", "attrs2", "object", "getTextContent", "require_entities", "__commonJSMin", "exports", "freeze", "require_sax", "__commonJSMin", "exports", "NAMESPACE", "nameStartChar", "nameChar", "tagNamePattern", "S_TAG", "S_ATTR", "S_ATTR_SPACE", "S_EQ", "S_ATTR_NOQUOT_VALUE", "S_ATTR_END", "S_TAG_SPACE", "S_TAG_CLOSE", "ParseError", "message", "locator", "XMLReader", "source", "defaultNSMap", "entityMap", "domBuilder", "_copy", "parse", "defaultNSMapCopy", "errorHandler", "fixedFromCharCode", "code", "surrogate1", "surrogate2", "entityReplacer", "a", "k", "appendText", "end", "start", "xt", "position", "p", "m", "lineEnd", "linePattern", "lineStart", "parseStack", "closeMap", "tagStart", "doc", "text", "tagName", "config", "localNSMap", "endMatch", "endIgnoreCaseMach", "prefix", "parseInstruction", "parseDCC", "el", "ElementAttributes", "currentNSMap", "parseElementStartPart", "len", "fixSelfClosed", "locator2", "copyLocator", "i", "appendElement", "parseHtmlSpecialContent", "e", "f", "addAttribute", "qname", "value", "startIndex", "attrName", "s", "qName", "nsp", "localName", "nsPrefix", "ns", "elStartEnd", "elEndStart", "pos", "target", "n", "next", "matchs", "split", "name", "pubid", "sysid", "lastMatch", "match", "offset", "buf", "reg", "require_dom_parser", "__commonJSMin", "exports", "conventions", "dom", "entities", "sax", "DOMImplementation", "NAMESPACE", "ParseError", "XMLReader", "normalizeLineEndings", "input", "DOMParser", "options", "source", "mimeType", "domBuilder", "DOMHandler", "errorHandler", "locator", "defaultNSMap", "isHTML", "entityMap", "buildErrorHandler", "normalize", "errorImpl", "isCallback", "build", "key", "fn", "msg", "_locator", "position", "node", "namespaceURI", "localName", "qName", "attrs", "doc", "el", "len", "appendElement", "i", "value", "attr", "current", "tagName", "prefix", "uri", "target", "data", "ins", "ch", "start", "length", "chars", "_toString", "charNode", "name", "comm", "publicId", "systemId", "impl", "dt", "error", "l", "hander", "require_lib", "__commonJSMin", "exports", "dom", "require_parse", "__commonJSMin", "exports", "DOMParser", "parse", "TEXT_NODE", "CDATA_NODE", "COMMENT_NODE", "shouldIgnoreNode", "node", "isEmptyNode", "invariant", "test", "message", "xml", "doc", "plist", "parsePlistXML", "i", "new_obj", "key", "val", "new_arr", "res", "counter", "type", "require_base64_js", "__commonJSMin", "exports", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_Utility", "__commonJSMin", "exports", "module", "assign", "getValue", "isArray", "isEmpty", "isFunction", "isObject", "isPlainObject", "hasProp", "target", "sources", "i", "key", "len", "source", "val", "ref", "ctor", "proto", "obj", "require_XMLDOMImplementation", "__commonJSMin", "exports", "module", "XMLDOMImplementation", "feature", "version", "qualifiedName", "publicId", "systemId", "namespaceURI", "doctype", "title", "require_XMLDOMErrorHandler", "__commonJSMin", "exports", "module", "XMLDOMErrorHandler", "error", "require_XMLDOMStringList", "__commonJSMin", "exports", "module", "XMLDOMStringList", "arr", "index", "str", "require_XMLDOMConfiguration", "__commonJSMin", "exports", "module", "XMLDOMConfiguration", "XMLDOMErrorHandler", "XMLDOMStringList", "clonedSelf", "name", "value", "require_NodeType", "__commonJSMin", "exports", "module", "require_XMLAttribute", "__commonJSMin", "exports", "module", "NodeType", "XMLAttribute", "XMLNode", "parent", "name", "value", "options", "node", "require_XMLNamedNodeMap", "__commonJSMin", "exports", "module", "XMLNamedNodeMap", "nodes", "name", "node", "oldNode", "index", "namespaceURI", "localName", "require_XMLElement", "__commonJSMin", "exports", "module", "NodeType", "XMLAttribute", "XMLElement", "XMLNamedNodeMap", "XMLNode", "getValue", "isFunction", "isObject", "hasProp", "parent", "name", "attributes", "child", "j", "len", "ref", "att", "attName", "clonedSelf", "clonedChild", "value", "attValue", "options", "newAttr", "oldAttr", "namespaceURI", "localName", "qualifiedName", "isId", "idAttr", "tagname", "classNames", "node", "i", "require_XMLCharacterData", "__commonJSMin", "exports", "module", "XMLCharacterData", "XMLNode", "parent", "offset", "count", "arg", "node", "value", "require_XMLCData", "__commonJSMin", "exports", "module", "NodeType", "XMLCData", "XMLCharacterData", "parent", "text", "options", "require_XMLComment", "__commonJSMin", "exports", "module", "NodeType", "XMLCharacterData", "XMLComment", "parent", "text", "options", "require_XMLDeclaration", "__commonJSMin", "exports", "module", "NodeType", "XMLDeclaration", "XMLNode", "isObject", "parent", "version", "encoding", "standalone", "options", "require_XMLDTDAttList", "__commonJSMin", "exports", "module", "NodeType", "XMLDTDAttList", "XMLNode", "parent", "elementName", "attributeName", "attributeType", "defaultValueType", "defaultValue", "options", "require_XMLDTDEntity", "__commonJSMin", "exports", "module", "NodeType", "XMLDTDEntity", "XMLNode", "isObject", "parent", "pe", "name", "value", "options", "require_XMLDTDElement", "__commonJSMin", "exports", "module", "NodeType", "XMLDTDElement", "XMLNode", "parent", "name", "value", "options", "require_XMLDTDNotation", "__commonJSMin", "exports", "module", "NodeType", "XMLDTDNotation", "XMLNode", "parent", "name", "value", "options", "require_XMLDocType", "__commonJSMin", "exports", "module", "NodeType", "XMLDTDAttList", "XMLDTDElement", "XMLDTDEntity", "XMLDTDNotation", "XMLDocType", "XMLNamedNodeMap", "XMLNode", "isObject", "parent", "pubID", "sysID", "child", "i", "len", "ref", "name", "value", "elementName", "attributeName", "attributeType", "defaultValueType", "defaultValue", "options", "node", "nodes", "require_XMLRaw", "__commonJSMin", "exports", "module", "NodeType", "XMLNode", "XMLRaw", "parent", "text", "options", "require_XMLText", "__commonJSMin", "exports", "module", "NodeType", "XMLCharacterData", "XMLText", "parent", "text", "options", "offset", "content", "next", "prev", "str", "require_XMLProcessingInstruction", "__commonJSMin", "exports", "module", "NodeType", "XMLCharacterData", "XMLProcessingInstruction", "parent", "target", "value", "options", "node", "require_XMLDummy", "__commonJSMin", "exports", "module", "NodeType", "XMLDummy", "XMLNode", "parent", "options", "require_XMLNodeList", "__commonJSMin", "exports", "module", "XMLNodeList", "nodes", "index", "require_DocumentPosition", "__commonJSMin", "exports", "module", "require_XMLNode", "__commonJSMin", "exports", "module", "DocumentPosition", "NodeType", "XMLCData", "XMLComment", "XMLDeclaration", "XMLDocType", "XMLDummy", "XMLElement", "XMLNamedNodeMap", "XMLNode", "XMLNodeList", "XMLProcessingInstruction", "XMLRaw", "XMLText", "getValue", "isEmpty", "isFunction", "isObject", "hasProp", "splice", "parent1", "parent", "child", "j", "len", "ref1", "results", "name", "attributes", "text", "childNode", "item", "k", "key", "lastChild", "len1", "val", "i", "newChild", "refChild", "removed", "value", "target", "insTarget", "insValue", "instruction", "version", "encoding", "standalone", "doc", "xmldec", "pubID", "sysID", "doctype", "ref2", "node", "options", "clonedRoot", "oldChild", "deep", "feature", "other", "ref", "res", "namespaceURI", "prefix", "data", "handler", "isDescendantChild", "nodePos", "thisPos", "found", "pos", "func", "str", "require_XMLStringifier", "__commonJSMin", "exports", "module", "XMLStringifier", "hasProp", "options", "key", "ref", "value", "val", "str", "regex", "res", "ampregex", "require_WriterState", "__commonJSMin", "exports", "module", "require_XMLWriterBase", "__commonJSMin", "exports", "module", "NodeType", "WriterState", "XMLCData", "XMLComment", "XMLDTDAttList", "XMLDTDElement", "XMLDTDEntity", "XMLDTDNotation", "XMLDeclaration", "XMLDocType", "XMLDummy", "XMLElement", "XMLProcessingInstruction", "XMLRaw", "XMLText", "XMLWriterBase", "assign", "hasProp", "options", "key", "ref", "value", "filteredOptions", "ref1", "ref2", "ref3", "ref4", "ref5", "ref6", "ref7", "node", "level", "indentLevel", "att", "r", "child", "i", "len1", "attLen", "childNodeCount", "firstChildNode", "j", "len", "len2", "name", "prettySuppressed", "ratt", "rline", "e", "require_XMLStringWriter", "__commonJSMin", "exports", "module", "XMLStringWriter", "XMLWriterBase", "options", "doc", "child", "i", "len", "r", "ref", "require_XMLDocument", "__commonJSMin", "exports", "module", "NodeType", "XMLDOMConfiguration", "XMLDOMImplementation", "XMLDocument", "XMLNode", "XMLStringWriter", "XMLStringifier", "isPlainObject", "options", "writer", "writerOptions", "tagName", "data", "target", "name", "tagname", "importedNode", "deep", "namespaceURI", "qualifiedName", "localName", "elementId", "source", "node", "classNames", "eventInterface", "root", "whatToShow", "filter", "child", "i", "len", "ref", "require_XMLDocumentCB", "__commonJSMin", "exports", "module", "NodeType", "WriterState", "XMLAttribute", "XMLCData", "XMLComment", "XMLDTDAttList", "XMLDTDElement", "XMLDTDEntity", "XMLDTDNotation", "XMLDeclaration", "XMLDocType", "XMLDocument", "XMLDocumentCB", "XMLElement", "XMLProcessingInstruction", "XMLRaw", "XMLStringWriter", "XMLStringifier", "XMLText", "getValue", "isFunction", "isObject", "isPlainObject", "hasProp", "options", "onData", "onEnd", "writerOptions", "node", "att", "attName", "attributes", "child", "i", "len", "ref", "ref1", "name", "text", "oldValidationFlag", "root", "value", "attValue", "target", "insTarget", "insValue", "version", "encoding", "standalone", "pubID", "sysID", "elementName", "attributeName", "attributeType", "defaultValueType", "defaultValue", "chunk", "level", "require_XMLStreamWriter", "__commonJSMin", "exports", "module", "NodeType", "WriterState", "XMLStreamWriter", "XMLWriterBase", "hasProp", "stream", "options", "node", "level", "doc", "child", "i", "j", "k", "len1", "len2", "ref", "ref1", "results", "att", "attLen", "childNodeCount", "firstChildNode", "len", "name", "prettySuppressed", "r", "ratt", "ref2", "rline", "e", "require_lib", "__commonJSMin", "exports", "module", "NodeType", "WriterState", "XMLDOMImplementation", "XMLDocument", "XMLDocumentCB", "XMLStreamWriter", "XMLStringWriter", "assign", "isFunction", "name", "xmldec", "doctype", "options", "doc", "root", "onData", "onEnd", "stream", "require_build", "__commonJSMin", "exports", "base64", "xmlbuilder", "build", "ISODateString", "d", "pad", "n", "toString", "type", "obj", "m", "opts", "XMLHDR", "XMLDTD", "doc", "walk_obj", "next", "next_child", "tag_type", "i", "prop", "name", "require_plist", "__commonJSMin", "exports", "parserFunctions", "k", "builderFunctions", "src_exports", "__export", "Command", "__toCommonJS", "import_api", "import_api", "import_semver", "import_jsx_runtime", "MIN_APP_VERSION", "InitError", "error", "appVersion", "version", "semver", "isUnsupportedAppVersion", "unsupportedMessage", "markdown", "import_api", "isPlainObject", "value", "prototype", "import_node_url", "safeNormalizeFileUrl", "file", "name", "fileString", "normalizeFileUrl", "normalizeParameters", "rawFile", "rawArguments", "rawOptions", "filePath", "safeNormalizeFileUrl", "commandArguments", "options", "isPlainObject", "commandArgument", "normalizedArguments", "nullByteArgument", "normalizedArgument", "import_node_child_process", "import_node_string_decoder", "objectToString", "isArrayBuffer", "value", "isUint8Array", "bufferToUint8Array", "buffer", "textEncoder", "stringToUint8Array", "string", "textDecoder", "uint8ArrayToString", "uint8Array", "joinToString", "uint8ArraysOrStrings", "encoding", "uint8ArraysToStrings", "uint8ArrayOrString", "decoder", "strings", "finalString", "joinToUint8Array", "concatUint8Arrays", "stringsToUint8Arrays", "uint8Arrays", "result", "getJoinLength", "index", "joinLength", "isTemplateString", "templates", "parseTemplates", "expressions", "tokens", "index", "template", "parseTemplate", "file", "commandArguments", "nextTokens", "leadingWhitespaces", "trailingWhitespaces", "splitByWhitespaces", "newTokens", "concatTokens", "expression", "expressionTokens", "parseExpression", "rawTemplate", "templateStart", "DELIMITERS", "templateIndex", "rawIndex", "rawCharacter", "nextRawCharacter", "ESCAPE_LENGTH", "isSeparated", "typeOfExpression", "isPlainObject", "getSubprocessResult", "stdout", "isUint8Array", "uint8ArrayToString", "import_node_child_process", "import_node_util", "import_node_process", "isStandardStream", "stream", "STANDARD_STREAMS", "process", "STANDARD_STREAMS_ALIASES", "getStreamName", "fdNumber", "normalizeFdSpecificOptions", "options", "optionsCopy", "optionName", "FD_SPECIFIC_OPTIONS", "normalizeFdSpecificOption", "optionBaseArray", "getStdioLength", "optionArray", "normalizeFdSpecificValue", "addDefaultValue", "stdio", "STANDARD_STREAMS_ALIASES", "optionValue", "isPlainObject", "normalizeOptionObject", "fdName", "compareFdName", "fdNumber", "parseFdName", "fdNameA", "fdNameB", "getFdNameOrder", "parseFd", "regexpResult", "FD_REGEXP", "DEFAULT_OPTIONS", "verboseDefault", "getFdSpecificValue", "isVerbose", "verbose", "fdNumber", "getFdVerbose", "isFullVerbose", "getVerboseFunction", "fdVerbose", "isVerboseFunction", "getFdGenericVerbose", "getFdSpecificValue", "VERBOSE_VALUES", "import_node_fs", "import_node_util", "import_node_process", "import_node_util", "joinCommand", "filePath", "rawArguments", "fileAndArguments", "command", "escapedCommand", "fileAndArgument", "quoteString", "escapeControlCharacters", "escapeLines", "lines", "line", "SPECIAL_CHAR_REGEXP", "character", "escapeControlCharacter", "commonEscape", "COMMON_ESCAPES", "codepoint", "codepointHex", "ASTRAL_START", "getSpecialCharRegExp", "escapedArgument", "NO_ESCAPE_REGEXP", "import_node_process", "isUnicodeSupported", "env", "process", "TERM", "TERM_PROGRAM", "common", "specialMainSymbols", "specialFallbackSymbols", "mainSymbols", "fallbackSymbols", "shouldUseMain", "isUnicodeSupported", "figures", "figures_default", "replacements", "import_node_tty", "hasColors", "tty", "format", "open", "close", "input", "openCode", "closeCode", "string", "index", "result", "lastIndex", "reset", "bold", "dim", "italic", "underline", "overline", "inverse", "hidden", "strikethrough", "black", "red", "green", "yellow", "blue", "magenta", "cyan", "white", "gray", "bgBlack", "bgRed", "bgGreen", "bgYellow", "bgBlue", "bgMagenta", "bgCyan", "bgWhite", "bgGray", "redBright", "greenBright", "yellowBright", "blueBright", "magentaBright", "cyanBright", "whiteBright", "bgRedBright", "bgGreenBright", "bgYellowBright", "bgBlueBright", "bgMagentaBright", "bgCyanBright", "bgWhiteBright", "defaultVerboseFunction", "type", "message", "timestamp", "piped", "commandId", "failed", "reject", "timestampString", "serializeTimestamp", "icon", "ICONS", "color", "COLORS", "gray", "padField", "field", "padding", "getFinalIcon", "figures_default", "identity", "string", "bold", "redBright", "yellowBright", "applyVerboseOnLines", "printedLines", "verboseInfo", "fdNumber", "verboseFunction", "getVerboseFunction", "verboseLine", "verboseObject", "applyVerboseFunction", "printedLine", "appendNewline", "verboseLog", "type", "verboseMessage", "fdNumber", "verboseInfo", "result", "verboseObject", "getVerboseObject", "printedLines", "getPrintedLines", "finalLines", "applyVerboseOnLines", "STDERR_FD", "escapedCommand", "commandId", "piped", "options", "message", "getPrintedLine", "defaultVerboseFunction", "serializeVerboseMessage", "messageString", "escapeLines", "TAB_SIZE", "logCommand", "escapedCommand", "verboseInfo", "isVerbose", "verboseLog", "getVerboseInfo", "verbose", "escapedCommand", "rawOptions", "validateVerbose", "commandId", "getCommandId", "isVerbose", "COMMAND_ID", "fdVerbose", "VERBOSE_VALUES", "isVerboseFunction", "allowedValues", "allowedValue", "import_node_process", "getStartTime", "getDurationMs", "startTime", "handleCommand", "filePath", "rawArguments", "rawOptions", "startTime", "getStartTime", "command", "escapedCommand", "joinCommand", "verbose", "normalizeFdSpecificOption", "verboseInfo", "getVerboseInfo", "logCommand", "import_node_path", "import_node_process", "import_cross_spawn", "import_node_process", "import_node_path", "pathKey", "options", "env", "platform", "key", "import_node_util", "import_node_child_process", "import_node_path", "import_node_url", "execFileOriginal", "execFileCallback", "toPath", "urlOrPath", "traversePathUp", "startPath", "currentPath", "path", "toPath", "previousPath", "TEN_MEGABYTES_IN_BYTES", "npmRunPath", "cwd", "process", "pathOption", "pathKey", "preferLocal", "execPath", "addExecPath", "cwdPath", "path", "toPath", "result", "pathParts", "applyPreferLocal", "applyExecPath", "directory", "traversePathUp", "pathPart", "npmRunPathEnv", "env", "options", "pathName", "import_promises", "getFinalError", "originalError", "message", "isSync", "ErrorClass", "ExecaSyncError", "ExecaError", "options", "DiscardedError", "setErrorName", "value", "execaErrorSymbol", "isExecaError", "error", "isErrorInstance", "import_node_os", "import_node_os", "getRealtimeSignals", "length", "SIGRTMAX", "SIGRTMIN", "getRealtimeSignal", "value", "index", "import_node_os", "SIGNALS", "getSignals", "realtimeSignals", "getRealtimeSignals", "SIGNALS", "normalizeSignal", "name", "defaultNumber", "description", "action", "forced", "standard", "constantSignal", "supported", "getSignalsByName", "signals", "getSignals", "getSignalByName", "name", "number", "description", "supported", "action", "forced", "standard", "signalsByName", "getSignalsByNumber", "length", "signalsA", "value", "getSignalByNumber", "signal", "findSignalByNumber", "signalA", "signalsByNumber", "normalizeKillSignal", "killSignal", "optionName", "normalizeSignal", "normalizeSignalArgument", "signal", "signalNameOrInteger", "normalizeSignalInteger", "normalizeSignalName", "getAvailableSignals", "signalInteger", "signalsIntegerToName", "getSignalsIntegerToName", "signalName", "getAvailableSignalNames", "getAvailableSignalIntegers", "signalIntegerTwo", "getSignalDescription", "signalsByName", "normalizeForceKillAfterDelay", "forceKillAfterDelay", "DEFAULT_FORCE_KILL_TIMEOUT", "subprocessKill", "kill", "killSignal", "onInternalError", "context", "controller", "signalOrError", "errorArgument", "signal", "error", "parseKillArguments", "emitKillError", "killResult", "setKillTimeout", "isErrorInstance", "normalizeSignalArgument", "killOnTimeout", "controllerSignal", "import_node_events", "onAbortedSignal", "mainSignal", "stopSignal", "validateCancelSignal", "cancelSignal", "throwOnCancel", "subprocess", "gracefulCancel", "context", "controller", "terminateOnCancel", "signal", "onAbortedSignal", "import_promises", "import_node_util", "validateIpcMethod", "methodName", "isSubprocess", "ipc", "isConnected", "validateIpcOption", "validateConnection", "getMethodName", "getOtherProcessName", "throwOnEarlyDisconnect", "throwOnStrictDeadlockError", "getStrictResponseError", "error", "throwOnMissingStrict", "throwOnStrictDisconnect", "getAbortDisconnectError", "throwOnMissingParent", "handleEpipeError", "handleSerializationError", "message", "isSerializationError", "code", "SERIALIZATION_ERROR_CODES", "SERIALIZATION_ERROR_MESSAGES", "serializationErrorMessage", "parameters", "getNamespaceName", "disconnect", "anyProcess", "createDeferred", "methods", "promise", "resolve", "reject", "getToStream", "destination", "to", "options", "fileDescriptors", "SUBPROCESS_OPTIONS", "fdNumber", "getFdNumber", "destinationStream", "getInvalidStdioOptionMessage", "getFromStream", "source", "from", "sourceStream", "fdName", "isWritable", "parseFdNumber", "validateFdNumber", "parseFd", "validOptions", "defaultValue", "getOptionName", "fileDescriptor", "getUsedDescriptor", "optionName", "optionValue", "getInvalidStdioOption", "serializeOptionValue", "stdin", "stdout", "stderr", "stdio", "usedDescriptor", "value", "import_node_events", "import_node_events", "incrementMaxListeners", "eventEmitter", "maxListenersIncrement", "signal", "maxListeners", "import_node_events", "import_node_events", "import_promises", "addReference", "channel", "reference", "addReferenceCount", "removeReference", "removeReferenceCount", "undoAddedReferences", "isSubprocess", "redoAddedReferences", "onMessage", "anyProcess", "channel", "isSubprocess", "ipcEmitter", "wrappedMessage", "handleStrictResponse", "handleAbort", "INCOMING_MESSAGES", "incomingMessages", "waitForOutgoingMessages", "message", "handleStrictRequest", "onDisconnect", "boundOnMessage", "abortOnDisconnect", "redoAddedReferences", "getIpcEmitter", "anyProcess", "channel", "isSubprocess", "IPC_EMITTERS", "ipcEmitter", "forwardEvents", "boundOnMessage", "onMessage", "onDisconnect", "undoAddedReferences", "isConnected", "handleSendStrict", "anyProcess", "channel", "isSubprocess", "message", "strict", "ipcEmitter", "getIpcEmitter", "hasListeners", "hasMessageListeners", "count", "REQUEST_TYPE", "validateStrictDeadlock", "outgoingMessages", "wrappedMessage", "id", "STRICT_RESPONSES", "handleStrictRequest", "response", "RESPONSE_TYPE", "sendMessage", "error", "handleStrictResponse", "waitForStrictResponse", "deferred", "createDeferred", "controller", "isDeadlock", "throwOnDisconnect", "throwOnStrictDeadlockError", "throwOnMissingStrict", "signal", "incrementMaxListeners", "throwOnStrictDisconnect", "startSendMessage", "anyProcess", "wrappedMessage", "strict", "OUTGOING_MESSAGES", "outgoingMessages", "onMessageSent", "createDeferred", "id", "outgoingMessage", "endSendMessage", "waitForOutgoingMessages", "ipcEmitter", "hasMessageListeners", "validateStrictDeadlock", "getMinListenerCount", "SUBPROCESS_OPTIONS", "getFdSpecificValue", "sendMessage", "anyProcess", "channel", "isSubprocess", "ipc", "message", "strict", "methodName", "validateIpcMethod", "sendMessageAsync", "wrappedMessage", "handleSendStrict", "outgoingMessagesState", "startSendMessage", "sendOneMessage", "error", "disconnect", "endSendMessage", "sendMethod", "getSendMethod", "waitForStrictResponse", "handleEpipeError", "handleSerializationError", "PROCESS_SEND_METHODS", "sendAbort", "subprocess", "message", "methodName", "validateConnection", "sendOneMessage", "GRACEFUL_CANCEL_TYPE", "getCancelSignal", "anyProcess", "channel", "isSubprocess", "ipc", "startIpc", "cancelController", "cancelListening", "throwOnMissingParent", "abortOnDisconnect", "getIpcEmitter", "handleAbort", "wrappedMessage", "getAbortDisconnectError", "validateGracefulCancel", "gracefulCancel", "cancelSignal", "ipc", "serialization", "throwOnGracefulCancel", "subprocess", "forceKillAfterDelay", "context", "controller", "sendOnAbort", "signal", "onAbortedSignal", "reason", "getReason", "sendAbort", "killOnTimeout", "error", "import_promises", "validateTimeout", "timeout", "throwOnTimeout", "subprocess", "context", "controller", "killAfterTimeout", "signal", "DiscardedError", "import_node_process", "import_node_path", "mapNode", "options", "handleNodeOption", "file", "commandArguments", "shouldHandleNode", "nodePath", "nodeOptions", "nodeOption", "cwd", "formerNodePath", "normalizedNodePath", "safeNormalizeFileUrl", "resolvedNodePath", "path", "newOptions", "import_node_v8", "validateIpcInputOption", "ipcInput", "ipc", "serialization", "validateIpcInput", "validateAdvancedInput", "error", "validateJsonInput", "sendIpcInput", "subprocess", "validateEncoding", "encoding", "ENCODINGS", "correctEncoding", "getCorrectEncoding", "serializeEncoding", "correctEncodings", "TEXT_ENCODINGS", "BINARY_ENCODINGS", "lowerEncoding", "ENCODING_ALIASES", "import_node_fs", "import_node_path", "import_node_process", "normalizeCwd", "cwd", "getDefaultCwd", "cwdString", "safeNormalizeFileUrl", "path", "process", "error", "fixCwdError", "originalMessage", "cwdStat", "normalizeOptions", "filePath", "rawArguments", "rawOptions", "normalizeCwd", "processedFile", "processedArguments", "processedOptions", "handleNodeOption", "file", "commandArguments", "initialOptions", "crossSpawn", "fdOptions", "normalizeFdSpecificOptions", "options", "addDefaultOptions", "validateTimeout", "validateEncoding", "validateIpcInputOption", "validateCancelSignal", "validateGracefulCancel", "normalizeFileUrl", "getEnv", "normalizeKillSignal", "normalizeForceKillAfterDelay", "lines", "fdNumber", "BINARY_ENCODINGS", "process", "path", "extendEnv", "preferLocal", "cwd", "localDirectory", "encoding", "reject", "cleanup", "all", "windowsHide", "killSignal", "forceKillAfterDelay", "gracefulCancel", "ipcInput", "ipc", "serialization", "envOption", "node", "nodePath", "env", "npmRunPathEnv", "import_node_util", "stripFinalNewline", "input", "stripFinalNewlineString", "stripFinalNewlineBinary", "LF", "CR", "LF_BINARY", "CR_BINARY", "import_node_events", "import_promises", "isStream", "stream", "checkOpen", "isWritableStream", "isReadableStream", "isDuplexStream", "options", "a", "c", "#n", "#r", "#e", "e", "t", "#s", "#i", "n", "i", "o", "r", "u", "h", "s", "getAsyncIterable", "stream", "isReadableStream", "nodeImports", "getStreamIterable", "toString", "h", "controller", "state", "handleStreamEnd", "chunk", "error", "getStreamContents", "stream", "init", "convertChunk", "getSize", "truncateChunk", "addChunk", "getFinalChunk", "finalize", "maxBuffer", "asyncIterable", "getAsyncIterable", "state", "chunk", "chunkType", "getChunkType", "convertedChunk", "appendChunk", "appendFinalChunk", "error", "normalizedError", "chunkSize", "newLength", "addNewChunk", "truncatedChunk", "MaxBufferError", "typeOfChunk", "prototypeName", "objectToString", "identity", "value", "noop", "getContentsProperty", "contents", "throwObjectStream", "chunk", "getLengthProperty", "convertedChunk", "getStreamAsArray", "stream", "options", "getStreamContents", "arrayMethods", "initArray", "increment", "addArrayChunk", "convertedChunk", "contents", "identity", "noop", "getContentsProperty", "getStreamAsArrayBuffer", "stream", "options", "getStreamContents", "arrayBufferMethods", "initArrayBuffer", "useTextEncoder", "chunk", "textEncoder", "useUint8Array", "useUint8ArrayWithOffset", "truncateArrayBufferChunk", "convertedChunk", "chunkSize", "addArrayBufferChunk", "contents", "previousLength", "length", "newContents", "hasArrayBufferResize", "resizeArrayBuffer", "resizeArrayBufferSlow", "arrayBuffer", "getNewContentsLength", "SCALE_FACTOR", "finalizeArrayBuffer", "throwObjectStream", "getLengthProperty", "noop", "getStreamAsString", "stream", "options", "getStreamContents", "stringMethods", "initString", "useTextDecoder", "chunk", "textDecoder", "addStringChunk", "convertedChunk", "contents", "truncateStringChunk", "chunkSize", "getFinalStringChunk", "finalChunk", "identity", "throwObjectStream", "getLengthProperty", "getContentsProperty", "nodeImports", "handleMaxBuffer", "error", "stream", "readableObjectMode", "lines", "encoding", "fdNumber", "MaxBufferError", "unit", "getMaxBufferUnit", "checkIpcMaxBuffer", "subprocess", "ipcOutput", "maxBuffer", "getMaxBufferMessage", "streamName", "threshold", "getMaxBufferInfo", "getFdSpecificValue", "getStreamName", "isMaxBufferSync", "resultError", "output", "result", "getMaxBufferSync", "truncateMaxBufferSync", "isMaxBuffer", "maxBufferValue", "stdoutMaxBuffer", "createMessages", "stdio", "all", "ipcOutput", "originalError", "signal", "signalDescription", "exitCode", "escapedCommand", "timedOut", "isCanceled", "isGracefullyCanceled", "isMaxBuffer", "isForcefullyTerminated", "forceKillAfterDelay", "killSignal", "maxBuffer", "timeout", "cwd", "errorCode", "prefix", "getErrorPrefix", "originalMessage", "getOriginalMessage", "suffix", "shortMessage", "messageStdio", "message", "ipcMessage", "serializeIpcMessage", "messagePart", "escapeLines", "stripFinalNewline", "serializeMessagePart", "forcefulSuffix", "getForcefulSuffix", "getMaxBufferMessage", "getSignalDescription", "DiscardedError", "isExecaError", "escapedOriginalMessage", "fixCwdError", "messageItem", "serializeMessageItem", "isUint8Array", "uint8ArrayToString", "makeSuccessResult", "command", "escapedCommand", "stdio", "all", "ipcOutput", "cwd", "startTime", "omitUndefinedProperties", "getDurationMs", "makeEarlyError", "error", "fileDescriptors", "options", "isSync", "makeError", "originalError", "timedOut", "isCanceled", "isGracefullyCanceled", "isMaxBuffer", "isForcefullyTerminated", "rawExitCode", "rawSignal", "timeoutDuration", "timeout", "forceKillAfterDelay", "killSignal", "maxBuffer", "exitCode", "signal", "signalDescription", "normalizeExitPayload", "originalMessage", "shortMessage", "message", "createMessages", "getFinalError", "getErrorProperties", "result", "value", "getSignalDescription", "toZeroIfInfinity", "value", "parseNumber", "milliseconds", "parseBigint", "parseMilliseconds", "isZero", "value", "pluralize", "word", "count", "SECOND_ROUNDING_EPSILON", "ONE_DAY_IN_MILLISECONDS", "prettyMilliseconds", "milliseconds", "options", "isBigInt", "sign", "result", "floorDecimals", "decimalDigits", "flooredInterimValue", "add", "long", "short", "valueString", "wholeDigits", "minLength", "parsed", "parseMilliseconds", "days", "seconds", "microseconds", "nanoseconds", "millisecondsAndBelow", "millisecondsDecimalDigits", "roundedMilliseconds", "millisecondsString", "secondsDecimalDigits", "secondsFixed", "secondsString", "separator", "logError", "result", "verboseInfo", "verboseLog", "logResult", "result", "verboseInfo", "isVerbose", "logError", "logDuration", "verboseMessage", "prettyMilliseconds", "verboseLog", "handleResult", "result", "verboseInfo", "reject", "logResult", "import_node_fs", "getStdioItemType", "value", "optionName", "isAsyncGenerator", "isSyncGenerator", "isUrl", "isFilePathObject", "isWebStream", "isStream", "isUint8Array", "isAsyncIterableObject", "isIterableObject", "isTransformStream", "getTransformStreamType", "isTransformOptions", "getTransformObjectType", "isDuplexStream", "getDuplexType", "getGeneratorObjectType", "validateNonGeneratorType", "final", "binary", "objectMode", "typeName", "checkUndefinedOption", "checkBooleanOption", "transform", "isGenerator", "isPlainObject", "isRegularUrl", "isFilePathString", "file", "isUnknownStdioString", "type", "KNOWN_STDIO_STRINGS", "isReadableStream", "isWritableStream", "isObject", "TRANSFORM_TYPES", "FILE_TYPES", "SPECIAL_DUPLICATE_TYPES_SYNC", "SPECIAL_DUPLICATE_TYPES", "FORBID_DUPLICATE_TYPES", "TYPE_TO_MESSAGE", "getTransformObjectModes", "objectMode", "index", "newTransforms", "direction", "getOutputObjectModes", "getInputObjectModes", "writableObjectMode", "readableObjectMode", "getFdObjectMode", "stdioItems", "lastTransform", "type", "TRANSFORM_TYPES", "normalizeTransforms", "stdioItems", "optionName", "direction", "options", "type", "TRANSFORM_TYPES", "getTransforms", "encoding", "transforms", "newTransforms", "index", "stdioItem", "normalizeTransform", "sortTransforms", "normalizeDuplex", "normalizeTransformStream", "normalizeGenerator", "transform", "writableObjectMode", "readableObjectMode", "objectMode", "value", "isPlainObject", "getTransformObjectModes", "final", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "import_node_process", "getStreamDirection", "stdioItems", "fdNumber", "optionName", "directions", "stdioItem", "getStdioItemDirection", "DEFAULT_DIRECTION", "type", "value", "KNOWN_DIRECTIONS", "guessStreamDirection", "anyDirection", "alwaysInput", "isWritableStream", "isReadableStream", "standardStreamDirection", "getStandardStreamDirection", "isStream", "process", "normalizeIpcStdioArray", "stdioArray", "ipc", "normalizeStdioOption", "stdio", "ipc", "buffer", "options", "verboseInfo", "isSync", "stdioArray", "getStdioArray", "stdioOption", "fdNumber", "addDefaultValue", "normalizeStdioSync", "normalizeIpcStdioArray", "STANDARD_STREAMS_ALIASES", "alias", "hasAlias", "length", "_", "item", "isFullVerbose", "isOutputPipeOnly", "import_node_fs", "import_node_tty", "handleNativeStream", "stdioItem", "type", "isStdioArray", "fdNumber", "direction", "isSync", "handleNativeStreamSync", "handleNativeStreamAsync", "value", "optionName", "targetFd", "getTargetFd", "isStream", "targetFdNumber", "getTargetFdNumber", "tty", "serializeOptionValue", "bufferToUint8Array", "standardStreamIndex", "STANDARD_STREAMS", "getStandardStream", "standardStream", "handleInputOptions", "input", "inputFile", "fdNumber", "handleInputOption", "handleInputFileOption", "getInputType", "isReadableStream", "isUint8Array", "getInputFileType", "isUrl", "isFilePathString", "filterDuplicates", "stdioItems", "stdioItemOne", "indexOne", "stdioItemTwo", "indexTwo", "getDuplicateStream", "type", "value", "optionName", "direction", "fileDescriptors", "isSync", "otherStdioItems", "getOtherStdioItems", "validateDuplicateStreamSync", "SPECIAL_DUPLICATE_TYPES", "getDuplicateStreamInstance", "FORBID_DUPLICATE_TYPES", "validateDuplicateTransform", "stdioItem", "SPECIAL_DUPLICATE_TYPES_SYNC", "duplicateStdioItems", "hasSameValue", "differentStdioItem", "throwOnDuplicateStream", "secondValue", "duplicateStdioItem", "transform", "TYPE_TO_MESSAGE", "handleStdio", "addProperties", "options", "verboseInfo", "isSync", "initialFileDescriptors", "normalizeStdioOption", "stdioOption", "fdNumber", "getFileDescriptor", "fileDescriptors", "getFinalFileDescriptors", "stdioItems", "forwardStdio", "optionName", "getStreamName", "initialStdioItems", "isStdioArray", "initializeStdioItems", "direction", "getStreamDirection", "stdioItem", "handleNativeStream", "normalizedStdioItems", "normalizeTransforms", "objectMode", "getFdObjectMode", "validateFileObjectMode", "value", "initializeStdioItem", "handleInputOptions", "filterDuplicates", "validateStdioArray", "validateStreams", "getStdioItemType", "INVALID_STDIO_ARRAY_OPTIONS", "validateFileStdio", "type", "isRegularUrl", "isUnknownStdioString", "fileStdioItem", "FILE_TYPES", "fileDescriptor", "getFinalFileDescriptor", "error", "cleanupCustomStreams", "finalStdioItems", "addStreamProperties", "duplicateStream", "getDuplicateStream", "stream", "isStandardStream", "handleStdioSync", "options", "verboseInfo", "handleStdio", "addPropertiesSync", "forbiddenIfSync", "type", "optionName", "throwInvalidSyncValue", "TYPE_TO_MESSAGE", "forbiddenNativeIfSync", "value", "addProperties", "bufferToUint8Array", "file", "stripNewline", "value", "stripFinalNewline", "fdNumber", "getStripFinalNewline", "import_node_stream", "getSplitLinesGenerator", "binary", "preserveNewlines", "skipped", "state", "initializeSplitLines", "splitLinesSync", "chunk", "objectMode", "item", "splitLinesItemSync", "transform", "final", "splitGenerator", "linesFinal", "previousChunks", "start", "end", "newlineLength", "getNewlineLength", "line", "concatString", "getAppendNewlineGenerator", "readableObjectMode", "appendNewlineGenerator", "isWindowsNewline", "unixNewline", "windowsNewline", "LF", "concatBytes", "linesStringInfo", "linesUint8ArrayInfo", "firstChunk", "secondChunk", "concatUint8Array", "import_node_buffer", "getValidateTransformInput", "writableObjectMode", "optionName", "validateStringTransformInput", "chunk", "isUint8Array", "getValidateTransformReturn", "readableObjectMode", "validateObjectTransformReturn", "validateStringTransformReturn", "validateEmptyReturn", "import_node_buffer", "import_node_string_decoder", "getEncodingTransformGenerator", "binary", "encoding", "skipped", "encodingUint8ArrayGenerator", "stringDecoder", "encodingStringGenerator", "encodingStringFinal", "textEncoder", "chunk", "bufferToUint8Array", "isUint8Array", "lastChunk", "import_node_util", "pushChunks", "getChunks", "state", "getChunksArguments", "transformStream", "chunk", "transformChunk", "generators", "index", "transform", "identityGenerator", "transformedChunk", "finalChunks", "final", "generatorFinalChunks", "finalChunk", "destroyTransform", "currentIterable", "error", "pushChunksSync", "getChunksSync", "getChunksArguments", "transformStream", "done", "chunk", "error", "runTransformSync", "generators", "chunks", "transformChunkSync", "finalChunksSync", "index", "transform", "identityGenerator", "transformedChunk", "final", "generatorFinalChunksSync", "finalChunk", "generatorToStream", "value", "transform", "final", "writableObjectMode", "readableObjectMode", "optionName", "encoding", "state", "generators", "addInternalGenerators", "transformAsync", "isAsyncGenerator", "finalAsync", "transformMethod", "pushChunks", "transformChunk", "pushChunksSync", "transformChunkSync", "finalMethod", "finalChunks", "finalChunksSync", "destroyMethod", "destroyTransform", "chunk", "done", "runGeneratorsSync", "chunks", "stdioItems", "isInput", "type", "reversedGenerators", "runTransformSync", "binary", "preserveNewlines", "getValidateTransformInput", "getEncodingTransformGenerator", "getSplitLinesGenerator", "getValidateTransformReturn", "getAppendNewlineGenerator", "addInputOptionsSync", "fileDescriptors", "options", "fdNumber", "getInputFdNumbers", "addInputOptionSync", "direction", "stdioItems", "allStdioItems", "contents", "type", "optionName", "TYPE_TO_MESSAGE", "transformedContents", "applySingleInputGeneratorsSync", "joinToUint8Array", "newContents", "runGeneratorsSync", "validateSerializable", "invalidItem", "item", "isUint8Array", "import_node_fs", "shouldLogOutput", "stdioItems", "encoding", "verboseInfo", "fdNumber", "isFullVerbose", "BINARY_ENCODINGS", "fdUsesVerbose", "type", "value", "PIPED_STDIO_VALUES", "TRANSFORM_TYPES", "logLines", "linesIterable", "stream", "line", "isPipingStream", "logLine", "logLinesSync", "linesArray", "verboseMessage", "serializeVerboseMessage", "verboseLog", "transformOutputSync", "fileDescriptors", "output", "options", "isMaxBuffer", "verboseInfo", "state", "outputFiles", "result", "fdNumber", "transformOutputResultSync", "buffer", "encoding", "lines", "stripFinalNewline", "maxBuffer", "truncatedResult", "truncateMaxBufferSync", "uint8ArrayResult", "bufferToUint8Array", "stdioItems", "objectMode", "chunks", "runOutputGeneratorsSync", "serializedResult", "finalResult", "serializeChunks", "logOutputSync", "returnedResult", "writeToFiles", "error", "runGeneratorsSync", "joinToUint8Array", "joinToString", "splitLinesSync", "shouldLogOutput", "linesArray", "logLinesSync", "path", "type", "FILE_TYPES", "pathString", "getAllSync", "stdout", "stderr", "options", "stripNewline", "isUint8Array", "concatUint8Arrays", "import_node_events", "waitForExit", "subprocess", "context", "exitCode", "signal", "waitForExitOrError", "spawnPayload", "exitPayload", "waitForSubprocessExit", "waitForSuccessfulExit", "exitPromise", "isSubprocessErrorExit", "isFailedExit", "DiscardedError", "getExitResultSync", "error", "exitCode", "signal", "output", "maxBuffer", "resultError", "getResultError", "timedOut", "isMaxBuffer", "isMaxBufferSync", "isFailedExit", "DiscardedError", "execaCoreSync", "rawFile", "rawArguments", "rawOptions", "file", "commandArguments", "command", "escapedCommand", "startTime", "verboseInfo", "options", "fileDescriptors", "handleSyncArguments", "result", "spawnSubprocessSync", "handleResult", "handleCommand", "syncOptions", "normalizeSyncOptions", "normalizeOptions", "validateSyncOptions", "handleStdioSync", "ipc", "ipcInput", "detached", "cancelSignal", "throwInvalidSyncOption", "value", "syncResult", "runSubprocessSync", "resultError", "exitCode", "signal", "timedOut", "isMaxBuffer", "getExitResultSync", "output", "error", "transformOutputSync", "stdio", "stdioOutput", "fdNumber", "stripNewline", "all", "getAllSync", "getSyncResult", "addInputOptionsSync", "normalizedOptions", "normalizeSpawnSyncOptions", "makeEarlyError", "encoding", "maxBuffer", "getMaxBufferSync", "makeSuccessResult", "makeError", "import_node_events", "import_node_child_process", "import_node_process", "import_node_events", "getOneMessage", "anyProcess", "channel", "isSubprocess", "ipc", "reference", "filter", "validateIpcMethod", "isConnected", "getOneMessageAsync", "addReference", "ipcEmitter", "getIpcEmitter", "controller", "getMessage", "throwOnDisconnect", "throwOnStrictError", "error", "disconnect", "removeReference", "signal", "message", "throwOnEarlyDisconnect", "getStrictResponseError", "import_node_events", "getEachMessage", "anyProcess", "channel", "isSubprocess", "ipc", "reference", "loopOnMessages", "shouldAwait", "validateIpcMethod", "isConnected", "addReference", "ipcEmitter", "getIpcEmitter", "controller", "state", "stopOnDisconnect", "abortOnStrictError", "iterateOnMessages", "error", "getStrictResponseError", "message", "throwIfStrictError", "removeReference", "disconnect", "addIpcMethods", "subprocess", "ipc", "getIpcMethods", "getIpcExport", "anyProcess", "process", "isSubprocess", "getCancelSignal", "sendMessage", "getOneMessage", "getEachMessage", "import_node_child_process", "import_node_stream", "handleEarlyError", "error", "command", "escapedCommand", "fileDescriptors", "options", "startTime", "verboseInfo", "cleanupCustomStreams", "subprocess", "createDummyStreams", "readable", "writable", "duplex", "earlyError", "makeEarlyError", "promise", "handleDummyPromise", "stdin", "createDummyStream", "stdout", "stderr", "extraStdio", "all", "stdio", "stream", "handleResult", "import_node_fs", "import_node_buffer", "import_node_stream", "handleStdioAsync", "options", "verboseInfo", "handleStdio", "addPropertiesAsync", "forbiddenIfAsync", "type", "optionName", "TYPE_TO_MESSAGE", "addProperties", "generatorToStream", "value", "transform", "writableObjectMode", "readableObjectMode", "objectMode", "file", "import_node_events", "import_node_stream", "import_promises", "mergeStreams", "streams", "stream", "validateStream", "objectMode", "readableObjectMode", "highWaterMark", "getHighWaterMark", "passThroughStream", "MergedStream", "highWaterMarks", "readableHighWaterMark", "PassThroughStream", "#streams", "#ended", "#aborted", "#onFinished", "#unpipeEvent", "#streamPromises", "onMergedStreamFinished", "streamPromise", "endWhenStreamsDone", "unpipeEvent", "updateMaxListeners", "PASSTHROUGH_LISTENERS_COUNT", "controller", "onMergedStreamEnd", "onInputStreamsUnpipe", "signal", "error", "errorOrAbortStream", "unpipedStream", "ended", "aborted", "onFinished", "PASSTHROUGH_LISTENERS_PER_STREAM", "afterMergedStreamFinished", "onInputStreamEnd", "onInputStreamUnpipe", "abortStream", "endStream", "isAbortError", "errorStream", "noop", "increment", "maxListeners", "import_promises", "pipeStreams", "source", "destination", "onSourceFinish", "onDestinationFinish", "isStandardStream", "endDestinationStream", "abortSourceStream", "pipeOutputAsync", "subprocess", "fileDescriptors", "controller", "pipeGroups", "fdNumber", "stdioItems", "direction", "stream", "type", "TRANSFORM_TYPES", "pipeTransform", "pipeStdioItem", "outputStream", "inputStreams", "inputStream", "mergeStreams", "pipeStreams", "streamProperty", "SUBPROCESS_STREAM_PROPERTIES", "setStandardStreamMaxListeners", "outputStreams", "signal", "isStandardStream", "incrementMaxListeners", "MAX_LISTENERS_INCREMENT", "import_node_events", "signals", "processOk", "process", "kExitEmitter", "global", "ObjectDefineProperty", "Emitter", "ev", "fn", "list", "code", "signal", "ret", "SignalExitBase", "signalExitWrap", "handler", "cb", "opts", "SignalExitFallback", "SignalExit", "#hupSig", "#emitter", "#process", "#originalProcessEmit", "#originalProcessReallyExit", "#sigListeners", "#loaded", "sig", "signals", "listeners", "count", "p", "s", "a", "#processEmit", "#processReallyExit", "listener", "args", "og", "onExit", "load", "unload", "cleanupOnExit", "subprocess", "cleanup", "detached", "signal", "removeExitHandler", "onExit", "normalizePipeArguments", "source", "sourcePromise", "boundOptions", "createNested", "pipeArguments", "startTime", "getStartTime", "destination", "destinationStream", "destinationError", "from", "unpipeSignal", "getDestinationStream", "sourceStream", "sourceError", "getSourceStream", "sourceOptions", "fileDescriptors", "SUBPROCESS_OPTIONS", "to", "getDestination", "getToStream", "error", "firstArgument", "mapDestinationArguments", "rawFile", "rawArguments", "rawOptions", "normalizeParameters", "options", "getFromStream", "handlePipeArgumentsError", "sourceStream", "sourceError", "destinationStream", "destinationError", "fileDescriptors", "sourceOptions", "startTime", "error", "getPipeArgumentsError", "createNonCommandError", "abortSourceStream", "endDestinationStream", "makeEarlyError", "PIPE_COMMAND_MESSAGE", "waitForBothSubprocesses", "subprocessPromises", "sourceStatus", "sourceReason", "sourceResult", "destinationStatus", "destinationReason", "destinationResult", "import_promises", "pipeSubprocessStream", "sourceStream", "destinationStream", "maxListenersController", "mergedStream", "MERGED_STREAMS", "pipeMoreSubprocessStream", "pipeFirstSubprocessStream", "incrementMaxListeners", "SOURCE_LISTENERS_PER_PIPE", "DESTINATION_LISTENERS_PER_PIPE", "cleanupMergedStreamsMap", "mergeStreams", "pipeStreams", "import_node_util", "unpipeOnAbort", "unpipeSignal", "unpipeContext", "unpipeOnSignalAbort", "sourceStream", "mergedStream", "fileDescriptors", "sourceOptions", "startTime", "error", "createNonCommandError", "pipeToSubprocess", "sourceInfo", "pipeArguments", "isPlainObject", "destination", "normalizedInfo", "normalizePipeArguments", "promise", "handlePipePromise", "sourcePromise", "sourceStream", "sourceOptions", "sourceError", "destinationStream", "destinationError", "unpipeSignal", "fileDescriptors", "startTime", "subprocessPromises", "getSubprocessPromises", "handlePipeArgumentsError", "maxListenersController", "mergedStream", "pipeSubprocessStream", "waitForBothSubprocesses", "unpipeOnAbort", "import_promises", "import_node_events", "import_node_stream", "iterateOnSubprocessStream", "subprocessStdout", "subprocess", "binary", "shouldEncode", "encoding", "preserveNewlines", "controller", "stopReadingOnExit", "iterateOnStream", "iterateForResult", "stream", "onStreamEnd", "lines", "stripFinalNewline", "allMixed", "stopReadingOnStreamEnd", "objectMode", "shouldSplit", "onStdoutChunk", "HIGH_WATER_MARK", "iterateOnData", "DEFAULT_OBJECT_HIGH_WATER_MARK", "generators", "getGenerators", "chunk", "transformChunkSync", "error", "finalChunksSync", "getEncodingTransformGenerator", "getSplitLinesGenerator", "getStreamOutput", "stream", "onStreamEnd", "fdNumber", "encoding", "buffer", "maxBuffer", "lines", "allMixed", "stripFinalNewline", "verboseInfo", "streamInfo", "logPromise", "logOutputAsync", "resumeStream", "stripFinalNewlineValue", "getStripFinalNewline", "iterable", "iterateForResult", "output", "getStreamContents", "fileDescriptors", "shouldLogOutput", "linesIterable", "logLines", "readableObjectMode", "getStreamAsArray", "getStreamAsArrayBuffer", "getStreamAsString", "error", "handleBufferedData", "handleMaxBuffer", "getBufferedData", "streamPromise", "bufferedData", "isArrayBuffer", "import_promises", "waitForStream", "stream", "fdNumber", "streamInfo", "isSameDirection", "stopOnExit", "state", "handleStdinDestroy", "abortController", "error", "handleStreamError", "originalStdin", "subprocess", "spyOnStdinDestroy", "subprocessStdin", "_destroy", "destroyArguments", "setStdinCleanedUp", "exitCode", "signalCode", "shouldIgnoreStreamError", "isStreamEpipe", "isStreamAbort", "isInputFileDescriptor", "fileDescriptors", "waitForStdioStreams", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "stripFinalNewline", "verboseInfo", "streamInfo", "stream", "fdNumber", "waitForSubprocessStream", "allMixed", "onStreamEnd", "waitForStream", "isInputFileDescriptor", "output", "getStreamOutput", "makeAllStream", "stdout", "stderr", "all", "mergeStreams", "waitForAllStream", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "stripFinalNewline", "verboseInfo", "streamInfo", "waitForSubprocessStream", "getAllStream", "getAllMixed", "bufferStdout", "bufferStderr", "import_node_events", "shouldLogIpc", "verboseInfo", "isFullVerbose", "logIpcOutput", "message", "verboseMessage", "serializeVerboseMessage", "verboseLog", "waitForIpcOutput", "subprocess", "bufferArray", "maxBufferArray", "ipc", "ipcOutput", "verboseInfo", "isVerbose", "shouldLogIpc", "buffer", "getFdSpecificValue", "maxBuffer", "message", "loopOnMessages", "checkIpcMaxBuffer", "logIpcOutput", "getBufferedIpcOutput", "ipcOutputPromise", "waitForSubprocessResult", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "timeout", "cancelSignal", "gracefulCancel", "forceKillAfterDelay", "stripFinalNewline", "ipc", "ipcInput", "context", "verboseInfo", "fileDescriptors", "originalStreams", "onInternalError", "controller", "exitPromise", "waitForExit", "streamInfo", "stdioPromises", "waitForStdioStreams", "allPromise", "waitForAllStream", "ipcOutput", "ipcOutputPromise", "waitForIpcOutput", "originalPromises", "waitForOriginalStreams", "customStreamsEndPromises", "waitForCustomStreamsEnd", "waitForSuccessfulExit", "sendIpcInput", "throwOnSubprocessError", "throwOnTimeout", "throwOnCancel", "throwOnGracefulCancel", "error", "stdioPromise", "getBufferedData", "getBufferedIpcOutput", "stream", "fdNumber", "waitForStream", "stdioItems", "value", "isStream", "isStandardStream", "type", "TRANSFORM_TYPES", "signal", "initializeConcurrentStreams", "addConcurrentStream", "concurrentStreams", "stream", "waitName", "weakMap", "promises", "promise", "createDeferred", "waitForConcurrentStreams", "resolve", "subprocess", "isSubprocessExit", "import_node_stream", "import_node_util", "import_promises", "safeWaitForSubprocessStdin", "subprocessStdin", "waitForSubprocessStdin", "safeWaitForSubprocessStdout", "subprocessStdout", "waitForSubprocessStdout", "waitForSubprocess", "subprocess", "error", "destroyOtherStream", "stream", "isOpen", "isStreamAbort", "createReadable", "subprocess", "concurrentStreams", "encoding", "from", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "waitReadableDestroy", "getSubprocessStdout", "readableEncoding", "readableObjectMode", "readableHighWaterMark", "getReadableOptions", "read", "onStdoutDataDone", "getReadableMethods", "readable", "onReadableDestroy", "onStdoutFinished", "getFromStream", "addConcurrentStream", "DEFAULT_OBJECT_HIGH_WATER_MARK", "createDeferred", "onStdoutData", "iterateOnSubprocessStream", "onRead", "value", "done", "subprocessStdin", "waitForSubprocessStdout", "safeWaitForSubprocessStdin", "error", "destroyOtherReadable", "waitForConcurrentStreams", "waitForSubprocess", "stream", "destroyOtherStream", "import_node_stream", "import_node_util", "createWritable", "subprocess", "concurrentStreams", "to", "subprocessStdin", "waitWritableFinal", "waitWritableDestroy", "getSubprocessStdin", "writable", "getWritableMethods", "onWritableDestroy", "onStdinFinished", "getToStream", "addConcurrentStream", "onWrite", "onWritableFinal", "chunk", "encoding", "done", "waitForConcurrentStreams", "subprocessStdout", "waitForSubprocessStdin", "error", "safeWaitForSubprocessStdout", "destroyOtherWritable", "waitForSubprocess", "stream", "destroyOtherStream", "import_node_stream", "import_node_util", "createDuplex", "subprocess", "concurrentStreams", "encoding", "from", "to", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "waitReadableDestroy", "getSubprocessStdout", "subprocessStdin", "waitWritableFinal", "waitWritableDestroy", "getSubprocessStdin", "readableEncoding", "readableObjectMode", "readableHighWaterMark", "getReadableOptions", "read", "onStdoutDataDone", "getReadableMethods", "duplex", "getWritableMethods", "onDuplexDestroy", "onStdoutFinished", "onStdinFinished", "error", "onReadableDestroy", "onWritableDestroy", "createIterable", "subprocess", "encoding", "from", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "getFromStream", "onStdoutData", "iterateOnSubprocessStream", "iterateOnStdoutData", "addConvertedStreams", "subprocess", "encoding", "concurrentStreams", "initializeConcurrentStreams", "createReadable", "createWritable", "createDuplex", "createIterable", "mergePromise", "subprocess", "promise", "property", "descriptor", "descriptors", "value", "nativePromisePrototype", "execaCoreAsync", "rawFile", "rawArguments", "rawOptions", "createNested", "file", "commandArguments", "command", "escapedCommand", "startTime", "verboseInfo", "options", "fileDescriptors", "handleAsyncArguments", "subprocess", "promise", "spawnSubprocessAsync", "pipeToSubprocess", "mergePromise", "SUBPROCESS_OPTIONS", "handleCommand", "normalizedOptions", "normalizeOptions", "handleAsyncOptions", "handleStdioAsync", "timeout", "signal", "error", "handleEarlyError", "controller", "originalStreams", "pipeOutputAsync", "cleanupOnExit", "context", "onInternalError", "createDeferred", "subprocessKill", "makeAllStream", "addConvertedStreams", "addIpcMethods", "handlePromise", "errorInfo", "exitCode", "stdioResults", "allResult", "ipcOutput", "waitForSubprocessResult", "stdio", "stdioResult", "fdNumber", "stripNewline", "all", "result", "getAsyncResult", "handleResult", "makeError", "MaxBufferError", "makeSuccessResult", "mergeOptions", "boundOptions", "options", "newOptions", "optionName", "optionValue", "mergeOption", "boundOptionValue", "DEEP_OPTIONS", "isPlainObject", "FD_SPECIFIC_OPTIONS", "createExeca", "mapArguments", "boundOptions", "deepOptions", "setBoundExeca", "createNested", "boundExeca", "execaArguments", "callBoundExeca", "firstArgument", "nextArguments", "isPlainObject", "mergeOptions", "file", "commandArguments", "options", "isSync", "parseArguments", "execaCoreSync", "execaCoreAsync", "callArguments", "isTemplateString", "parseTemplates", "initialFile", "initialArguments", "initialOptions", "normalizeParameters", "mergedOptions", "mapCommandAsync", "file", "commandArguments", "parseCommand", "mapCommandSync", "command", "unusedArguments", "parseCommandString", "trimmedCommand", "tokens", "token", "SPACES_REGEXP", "previousToken", "setScriptSync", "boundExeca", "createNested", "boundOptions", "mapScriptSync", "mapScriptAsync", "options", "getScriptOptions", "getScriptStdinOption", "input", "inputFile", "stdio", "deepScriptOptions", "execa", "createExeca", "execaSync", "execaCommand", "mapCommandAsync", "execaCommandSync", "mapCommandSync", "execaNode", "mapNode", "$", "mapScriptAsync", "deepScriptOptions", "setScriptSync", "sendMessage", "getOneMessage", "getEachMessage", "getCancelSignal", "getIpcExport", "import_fs", "import_index", "TimeoutError", "message", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "signal", "reason", "pTimeout", "promise", "options", "milliseconds", "fallback", "customTimers", "timer", "cancelablePromise", "resolve", "reject", "timeoutError", "error", "lowerBound", "array", "value", "comparator", "first", "count", "step", "it", "PriorityQueue", "#queue", "run", "options", "element", "index", "lowerBound", "a", "b", "PQueue", "EventEmitter", "#carryoverConcurrencyCount", "#isIntervalIgnored", "#intervalCount", "#intervalCap", "#interval", "#intervalEnd", "#intervalId", "#timeoutId", "#queue", "#queueClass", "#pending", "#concurrency", "#isPaused", "#throwOnTimeout", "options", "PriorityQueue", "#doesIntervalAllowAnother", "#doesConcurrentAllowAnother", "#next", "#tryToStartAnother", "#onResumeInterval", "#onInterval", "#initializeIntervalIfNeeded", "#isIntervalPaused", "now", "delay", "canInitializeInterval", "job", "#processQueue", "newConcurrency", "#throwOnAbort", "signal", "_resolve", "reject", "function_", "resolve", "operation", "pTimeout", "result", "error", "TimeoutError", "functions", "#onEvent", "limit", "event", "filter", "listener", "import_path", "import_plist", "import_react", "import_api", "getPreferences", "BUNDLE_ID_APP_STORE", "BUNDLE_ID_SETAPP", "CLI_RELPATH", "INFO_PLIST_RELPATH", "queue", "PQueue", "queuedTasks", "useSnippetsLab", "isInitializing", "setInitializing", "initializationError", "setInitializationError", "resolvedCliPath", "setResolvedCliPath", "appVersion", "setAppVersion", "cliPath", "findCliPath", "validateCli", "err", "preferencesValue", "getPreferences", "app", "infoPlistPath", "path", "infoPlistContents", "fs", "infoDictionary", "plist", "resolve", "reject", "error", "subcommand", "args", "command", "controller", "task", "stdout", "execa", "snippet", "fragment", "import_api", "import_react", "import_api", "import_api", "import_api", "import_jsx_runtime", "DETAILS_LIMIT", "SnippetDetails", "app", "snippet", "fragment", "SnippetActions", "import_jsx_runtime", "SnippetActions", "app", "snippet", "fragment", "allowsPush", "preferences", "actualFragment", "getActionComponent", "action", "SnippetDetails", "actions", "import_jsx_runtime", "SnippetListItem", "app", "snippet", "preferences", "getPreferences", "accessories", "SnippetActions", "import_api", "import_jsx_runtime", "SearchFilterDropdown", "filters", "onChange", "persist", "getPreferences", "newValue", "filter", "Fragment", "fragment", "maxLength", "content", "Snippet", "snippet", "fragment", "Fragment", "import_jsx_runtime", "SnippetsSearch", "app", "initialSearchText", "loadingDepth", "setLoadingDepth", "snippets", "setSnippets", "availableFilters", "setAvailableFilters", "searchFilter", "setSearchFilter", "searchText", "setSearchText", "fetchSearchFilters", "performSearch", "prev", "output", "response", "error", "query", "components", "args", "snippet", "Snippet", "SearchFilterDropdown", "SnippetListItem", "import_jsx_runtime", "Command", "fallbackText", "isInitializing", "initializationError", "appVersion", "app", "useSnippetsLab", "InitError", "SnippetsSearch"]
}
