"use strict";var D=Object.create;var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var O=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),M=(e,o)=>{for(var t in o)d(e,t,{get:o[t],enumerable:!0})},l=(e,o,t,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of P(o))!F.call(e,i)&&i!==t&&d(e,i,{get:()=>o[i],enumerable:!(s=h(o,i))||s.enumerable});return e};var R=(e,o,t)=>(t=e!=null?D(x(e)):{},l(o||!e||!e.__esModule?d(t,"default",{value:e,enumerable:!0}):t,e)),k=e=>l(d({},"__esModule",{value:!0}),e);var p=O((K,f)=>{"use strict";var q=require("os"),m=q.homedir();f.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return m?e.replace(/^~(?=$|\/|\\)/,m):e}});var E={};M(E,{default:()=>T});module.exports=k(E);var a=require("@raycast/api"),r=require("fs"),w=require("path"),g=R(p()),C=require("react/jsx-runtime"),c=(0,a.getPreferenceValues)(),u=(0,g.default)(c.downloadsFolder??"~/Downloads"),H=c.showHiddenFiles,S=c.fileOrder;function _(){return(0,r.readdirSync)(u).filter(o=>H||!o.startsWith(".")).map(o=>{let t=(0,w.join)(u,o),s=(0,r.statSync)(t);return{file:o,path:t,lastModifiedAt:s.mtime,createdAt:s.ctime,addedAt:s.atime}}).sort((o,t)=>{switch(S){case"addTime":return t.addedAt.getTime()-o.addedAt.getTime();case"createTime":return t.createdAt.getTime()-o.createdAt.getTime();case"modifiedTime":default:return t.lastModifiedAt.getTime()-o.lastModifiedAt.getTime()}})}function y(){let e=_();if(!(e.length<1))return e[0]}function A(){try{return(0,r.accessSync)(c.downloadsFolder,r.constants.R_OK),!0}catch(e){return console.error(e),!1}}var n=require("@raycast/api");async function T(){if(!A()){await(0,n.showHUD)("No permission to access the downloads folder");return}let e=y();if(!e){await(0,n.showHUD)("No downloads found");return}await(0,n.open)(e.path),await(0,n.popToRoot)()}
