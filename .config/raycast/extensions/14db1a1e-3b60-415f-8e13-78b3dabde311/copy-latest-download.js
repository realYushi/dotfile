"use strict";var F=Object.create;var d=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var C=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),R=(e,o)=>{for(var t in o)d(e,t,{get:o[t],enumerable:!0})},l=(e,o,t,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of x(o))!O.call(e,i)&&i!==t&&d(e,i,{get:()=>o[i],enumerable:!(n=P(o,i))||n.enumerable});return e};var k=(e,o,t)=>(t=e!=null?F(M(e)):{},l(o||!e||!e.__esModule?d(t,"default",{value:e,enumerable:!0}):t,e)),q=e=>l(d({},"__esModule",{value:!0}),e);var f=C((N,p)=>{"use strict";var H=require("os"),m=H.homedir();p.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return m?e.replace(/^~(?=$|\/|\\)/,m):e}});var K={};R(K,{default:()=>h});module.exports=q(K);var s=require("@raycast/api");var a=require("@raycast/api"),r=require("fs"),u=require("path"),g=k(f()),G=require("react/jsx-runtime"),c=(0,a.getPreferenceValues)(),w=(0,g.default)(c.downloadsFolder??"~/Downloads"),S=c.showHiddenFiles,_=c.fileOrder;function E(){return(0,r.readdirSync)(w).filter(o=>S||!o.startsWith(".")).map(o=>{let t=(0,u.join)(w,o),n=(0,r.statSync)(t);return{file:o,path:t,lastModifiedAt:n.mtime,createdAt:n.ctime,addedAt:n.atime}}).sort((o,t)=>{switch(_){case"addTime":return t.addedAt.getTime()-o.addedAt.getTime();case"createTime":return t.createdAt.getTime()-o.createdAt.getTime();case"modifiedTime":default:return t.lastModifiedAt.getTime()-o.lastModifiedAt.getTime()}})}function y(){let e=E();if(!(e.length<1))return e[0]}function A(){try{return(0,r.accessSync)(c.downloadsFolder,r.constants.R_OK),!0}catch(e){return console.error(e),!1}}var T=require("@raycast/api"),D=require("@raycast/api");async function h(){if(!A()){await(0,s.showHUD)("No permission to access the downloads folder");return}let e=y();if(!e){await(0,s.showHUD)("No downloads found");return}await T.Clipboard.copy({file:e.path}),await(0,D.closeMainWindow)(),await(0,s.showHUD)("Copied latest download to clipboard"),await(0,s.popToRoot)()}
