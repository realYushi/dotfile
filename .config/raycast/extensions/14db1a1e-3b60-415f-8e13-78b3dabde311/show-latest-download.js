"use strict";var D=Object.create;var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var M=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),O=(e,o)=>{for(var t in o)d(e,t,{get:o[t],enumerable:!0})},l=(e,o,t,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of F(o))!x.call(e,i)&&i!==t&&d(e,i,{get:()=>o[i],enumerable:!(s=h(o,i))||s.enumerable});return e};var R=(e,o,t)=>(t=e!=null?D(P(e)):{},l(o||!e||!e.__esModule?d(t,"default",{value:e,enumerable:!0}):t,e)),k=e=>l(d({},"__esModule",{value:!0}),e);var p=M((K,f)=>{"use strict";var q=require("os"),m=q.homedir();f.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return m?e.replace(/^~(?=$|\/|\\)/,m):e}});var E={};O(E,{default:()=>T});module.exports=k(E);var r=require("@raycast/api");var a=require("@raycast/api"),n=require("fs"),u=require("path"),g=R(p()),C=require("react/jsx-runtime"),c=(0,a.getPreferenceValues)(),w=(0,g.default)(c.downloadsFolder??"~/Downloads"),H=c.showHiddenFiles,S=c.fileOrder;function _(){return(0,n.readdirSync)(w).filter(o=>H||!o.startsWith(".")).map(o=>{let t=(0,u.join)(w,o),s=(0,n.statSync)(t);return{file:o,path:t,lastModifiedAt:s.mtime,createdAt:s.ctime,addedAt:s.atime}}).sort((o,t)=>{switch(S){case"addTime":return t.addedAt.getTime()-o.addedAt.getTime();case"createTime":return t.createdAt.getTime()-o.createdAt.getTime();case"modifiedTime":default:return t.lastModifiedAt.getTime()-o.lastModifiedAt.getTime()}})}function y(){let e=_();if(!(e.length<1))return e[0]}function A(){try{return(0,n.accessSync)(c.downloadsFolder,n.constants.R_OK),!0}catch(e){return console.error(e),!1}}async function T(){if(!A()){await(0,r.showHUD)("No permission to access the downloads folder");return}let e=y();if(!e){await(0,r.showHUD)("No downloads found");return}await(0,r.showInFinder)(e.path),await(0,r.closeMainWindow)(),await(0,r.popToRoot)()}
